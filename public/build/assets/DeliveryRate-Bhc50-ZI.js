import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{j as a,r as f,s as p,l as S,d as j,o as C,a as e,t as n,n as A,b as N,a2 as h,U as _,f as P}from"./app-CUXQfuet.js";const R={class:"bg-white p-6 rounded-2xl shadow-lg"},B={class:"flex items-center justify-between mb-6"},I={class:"flex items-center space-x-4"},O={class:"text-right"},V={class:"text-sm font-semibold text-green-600"},F={class:"text-right"},$={class:"relative mb-6"},E={class:"absolute inset-0 flex items-center justify-center pointer-events-none"},H={class:"text-center"},Y={class:"text-3xl font-bold text-gray-800 mb-1"},G={class:"text-xs text-gray-400 mt-1"},U={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},W={class:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200"},q={class:"flex items-end justify-between"},J={class:"text-2xl font-bold text-green-600"},K={class:"text-sm text-green-600 font-medium"},Q={class:"text-right"},X={class:"text-sm font-medium text-gray-700"},Z={class:"mt-3"},ee={class:"w-full bg-green-200 rounded-full h-2"},te={class:"p-4 bg-gradient-to-r from-red-50 to-pink-50 rounded-lg border border-red-200"},se={class:"flex items-end justify-between"},ie={class:"text-2xl font-bold text-red-600"},ne={class:"text-sm text-red-600 font-medium"},ae={class:"text-right"},le={class:"text-sm font-medium text-gray-700"},oe={class:"mt-3"},de={class:"w-full bg-red-200 rounded-full h-2"},re={class:"bg-gray-50 rounded-lg p-4 mb-4"},ve={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},ce={class:"flex items-center text-sm"},ue={class:"text-gray-600"},me={class:"flex items-center text-sm"},ge={class:"text-gray-600"},xe={class:"flex items-center text-sm"},fe={class:"text-gray-600"},pe={class:"grid grid-cols-4 gap-4 pt-4 border-t border-gray-100"},he={class:"text-center"},_e={class:"text-2xl font-bold text-green-600"},be={class:"text-center"},ye={class:"text-2xl font-bold text-blue-600"},Le={class:"text-center"},we={class:"text-2xl font-bold text-purple-600"},Te={class:"text-center"},Me={class:"text-2xl font-bold text-orange-600"},De={__name:"DeliveryRate",props:{data:{type:Object,default:()=>({})},period:{type:String,default:"This Month"}},setup(b){const d=b,y={live:{count:320,avgTime:25,trend:5},nonLive:{count:180,avgTime:45,trend:-2},target:400,insights:{bestPeriod:"Morning hours",improvement:8}},l=a(()=>Object.keys(d.data).length>0?d.data:y),s=a(()=>{const i=l.value.live.count,t=l.value.nonLive.count,o=i+t;return{live:{count:i,percentage:Math.round(i/o*100),avgTime:l.value.live.avgTime,trend:l.value.live.trend||0},nonLive:{count:t,percentage:Math.round(t/o*100),avgTime:l.value.nonLive.avgTime,trend:l.value.nonLive.trend||0}}}),g=a(()=>s.value.live.count+s.value.nonLive.count),r=a(()=>s.value.live.percentage),L=a(()=>d.period),v=a(()=>Math.round((s.value.live.trend+Math.abs(s.value.nonLive.trend))/2)),w=a(()=>v.value>=0?"text-green-600":"text-red-600"),x=a(()=>Math.round((s.value.live.avgTime+s.value.nonLive.avgTime)/2)),T=a(()=>Math.round(g.value/30)),M=a(()=>Math.round(s.value.live.count/(l.value.target||400)*100)),c=a(()=>{var i,t;return{bestPeriod:((i=l.value.insights)==null?void 0:i.bestPeriod)||"Morning hours",avgDeliveryTime:x.value,improvement:((t=l.value.insights)==null?void 0:t.improvement)||Math.max(0,90-r.value)}}),u=f([s.value.live.count,s.value.nonLive.count]),D=f({labels:["Live Deliveries","Non-Live Deliveries"],colors:["#10b981","#ef4444"],legend:{position:"bottom",fontSize:"13px",fontFamily:"Inter, sans-serif",offsetY:10,markers:{width:12,height:12,radius:6},itemMargin:{horizontal:15,vertical:5}},dataLabels:{enabled:!0,formatter:i=>i.toFixed(1)+"%",style:{fontSize:"14px",fontFamily:"Inter, sans-serif",fontWeight:"600",colors:["#fff"]},dropShadow:{enabled:!1}},plotOptions:{pie:{donut:{size:"70%",labels:{show:!1}}}},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},tooltip:{enabled:!0,theme:"light",style:{fontSize:"12px",fontFamily:"Inter, sans-serif"},y:{formatter:function(i,{seriesIndex:t}){const o=t===0?"live":"nonLive",m=s.value[o].avgTime;return`${i} deliveries<br/>Avg Time: ${m} min`}}},stroke:{width:2,colors:["#fff"]},states:{hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.1}}},responsive:[{breakpoint:480,options:{chart:{height:280},legend:{position:"bottom",offsetY:0}}}]});return p(()=>d.data,i=>{var t,o;if(Object.keys(i).length>0){const m=((t=i.live)==null?void 0:t.count)||0,k=((o=i.nonLive)==null?void 0:o.count)||0;u.value=[m,k]}},{deep:!0}),p(s,i=>{u.value=[i.live.count,i.nonLive.count]},{immediate:!0}),(i,t)=>{const o=S("apexchart");return C(),j("div",R,[e("div",B,[t[2]||(t[2]=e("div",null,[e("h3",{class:"text-lg font-semibold text-gray-800"},"Delivery Rate"),e("p",{class:"text-sm text-gray-500 mt-1"},"Live vs Non-Live delivery performance")],-1)),e("div",I,[e("div",O,[t[0]||(t[0]=e("div",{class:"text-xs text-gray-500"},"Success Rate",-1)),e("div",V,n(r.value)+"%",1)]),e("div",F,[t[1]||(t[1]=e("div",{class:"text-xs text-gray-500"},"Trend",-1)),e("div",{class:A(["text-sm font-semibold",w.value])},n(v.value>0?"+":"")+n(v.value)+"% ",3)])])]),e("div",$,[N(o,{type:"donut",height:"320",options:D.value,series:u.value},null,8,["options","series"]),e("div",E,[e("div",H,[e("div",Y,n(g.value),1),t[3]||(t[3]=e("div",{class:"text-sm text-gray-500"},"Total Deliveries",-1)),e("div",G,n(L.value),1)])])]),e("div",U,[e("div",W,[t[5]||(t[5]=h('<div class="flex items-center justify-between mb-3" data-v-e0c45dd9><div class="flex items-center" data-v-e0c45dd9><div class="w-4 h-4 bg-green-500 rounded-full mr-3" data-v-e0c45dd9></div><span class="font-medium text-gray-800" data-v-e0c45dd9>Live Deliveries</span></div><div class="flex items-center text-green-600" data-v-e0c45dd9><svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" data-v-e0c45dd9><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-e0c45dd9></path></svg><span class="text-xs font-medium" data-v-e0c45dd9>Active</span></div></div>',1)),e("div",q,[e("div",null,[e("div",J,n(s.value.live.count),1),e("div",K,n(s.value.live.percentage)+"%",1)]),e("div",Q,[t[4]||(t[4]=e("div",{class:"text-xs text-gray-500"},"Avg Time",-1)),e("div",X,n(s.value.live.avgTime)+"min",1)])]),e("div",Z,[e("div",ee,[e("div",{class:"bg-green-500 h-2 rounded-full transition-all duration-700",style:_({width:`${s.value.live.percentage}%`})},null,4)])])]),e("div",te,[t[7]||(t[7]=h('<div class="flex items-center justify-between mb-3" data-v-e0c45dd9><div class="flex items-center" data-v-e0c45dd9><div class="w-4 h-4 bg-red-500 rounded-full mr-3" data-v-e0c45dd9></div><span class="font-medium text-gray-800" data-v-e0c45dd9>Non-Live Deliveries</span></div><div class="flex items-center text-red-600" data-v-e0c45dd9><svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" data-v-e0c45dd9><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" data-v-e0c45dd9></path></svg><span class="text-xs font-medium" data-v-e0c45dd9>Delayed</span></div></div>',1)),e("div",se,[e("div",null,[e("div",ie,n(s.value.nonLive.count),1),e("div",ne,n(s.value.nonLive.percentage)+"%",1)]),e("div",ae,[t[6]||(t[6]=e("div",{class:"text-xs text-gray-500"},"Avg Time",-1)),e("div",le,n(s.value.nonLive.avgTime)+"min",1)])]),e("div",oe,[e("div",de,[e("div",{class:"bg-red-500 h-2 rounded-full transition-all duration-700",style:_({width:`${s.value.nonLive.percentage}%`})},null,4)])])])]),e("div",re,[t[11]||(t[11]=e("h4",{class:"font-medium text-gray-800 mb-3 flex items-center"},[e("svg",{class:"w-4 h-4 mr-2 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenoever"})]),P(" Performance Insights ")],-1)),e("div",ve,[e("div",ce,[t[8]||(t[8]=e("div",{class:"w-2 h-2 bg-green-500 rounded-full mr-2"},null,-1)),e("span",ue,n(c.value.bestPeriod)+" shows highest live delivery rate",1)]),e("div",me,[t[9]||(t[9]=e("div",{class:"w-2 h-2 bg-blue-500 rounded-full mr-2"},null,-1)),e("span",ge,"Average delivery time: "+n(c.value.avgDeliveryTime)+" minutes",1)]),e("div",xe,[t[10]||(t[10]=e("div",{class:"w-2 h-2 bg-yellow-500 rounded-full mr-2"},null,-1)),e("span",fe,n(c.value.improvement)+"% improvement needed to reach target",1)])])]),e("div",pe,[e("div",he,[e("div",_e,n(r.value)+"%",1),t[12]||(t[12]=e("div",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Success Rate",-1))]),e("div",be,[e("div",ye,n(x.value)+"min",1),t[13]||(t[13]=e("div",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Avg Time",-1))]),e("div",Le,[e("div",we,n(T.value),1),t[14]||(t[14]=e("div",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Daily Rate",-1))]),e("div",Te,[e("div",Me,n(M.value)+"%",1),t[15]||(t[15]=e("div",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Efficiency",-1))])])])}}},Se=z(De,[["__scopeId","data-v-e0c45dd9"]]);export{Se as default};
