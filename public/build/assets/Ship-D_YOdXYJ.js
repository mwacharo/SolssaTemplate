import{r as b,j as B,c as P,o as g,w as z,a as e,A as n,B as a,C as u,D as m,d as f,F as j,g as F,t as i,n as H}from"./app-DmW8poHY.js";import{_ as Y}from"./AppLayout-DquH6nRH.js";import{u as $}from"./orderStore-zytjqLa6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./webrtc-uzOtr5XA.js";import"./africastalking-B4Tg3oDp.js";import"./IncomingCallDialog-CBuP51Wt.js";/* empty css                                                                           */const K={class:"p-6"},G={class:"mb-6"},Q={class:"relative"},W={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},Z={class:"bg-white rounded-lg shadow overflow-hidden"},q={class:"overflow-x-auto"},J={class:"w-full"},X={class:"bg-blue-600 text-white"},_={class:"px-4 py-3 text-left"},ee={class:"px-4 py-3"},te=["value"],le={class:"px-4 py-3"},oe={class:"px-4 py-3"},se={class:"px-4 py-3"},re={class:"px-4 py-3"},ne={class:"px-4 py-3"},de={class:"px-4 py-3"},ie={class:"px-4 py-3"},ae={class:"px-4 py-3"},ue={class:"bg-pink-100 text-pink-800 px-2 py-1 rounded text-sm"},pe={class:"px-4 py-3"},ve={class:"px-4 py-3"},be={class:"flex items-center gap-2"},xe={class:"w-6 h-6 bg-gray-300 rounded-full flex items-center justify-center text-xs"},ge={class:"text-sm"},ye={class:"text-xs text-gray-500 mt-1"},me={class:"px-4 py-3"},fe={class:"px-4 py-3"},ce={class:"px-4 py-3"},we={class:"flex gap-2"},ke=["onClick"],Oe=["onClick"],Ee=["onClick"],Ce=["onClick"],De=["onClick"],Me={__name:"Ship",setup(Se){const d=$(),v=b(""),x=b(!1),r=b([]),o=b({shippingStatus:"",callAgent:"",seller:"",product:"",dispatchedOn:"",shippedOn:"",returnedOn:"",deliveryDate:"",riders:"",cityTo:"",direction:"",deliveredOn:"",createdOn:"",zoneTo:"",refundedOn:""}),c=b([{id:1,merchantId:"PSBQCT025-1701",orderNo:"KE-67859895",seller:"PRESSED_BEAUTY",source:"google_sheets",deliveryDate:"2025-10-13 08:46:00",deliveredOn:null,trackingNumber:"KE78499S012",productCount:2,zoneTo:"Nairobi",deliveryMan:{name:"Agatha Muema",initials:"AM"},confirmedAt:"confirmed at (2025-10-11 11:47:13)",totalPrice:7e3,status:"scheduled"}]),y=B(()=>c.value.filter(s=>{if(v.value){const t=v.value.toLowerCase();return s.merchantId.toLowerCase().includes(t)||s.orderNo.toLowerCase().includes(t)||s.trackingNumber.toLowerCase().includes(t)}return!0})),w=()=>{x.value?r.value=y.value.map(s=>s.id):r.value=[]},k=()=>{console.log("Applying filters:",o.value),d.applyFilters(o.value)},O=()=>{o.value={shippingStatus:"",callAgent:"",seller:"",product:"",dispatchedOn:"",shippedOn:"",returnedOn:"",deliveryDate:"",riders:"",cityTo:"",direction:"",deliveredOn:"",createdOn:"",zoneTo:"",refundedOn:""},v.value="",r.value=[]},E=s=>({scheduled:"bg-yellow-100 text-yellow-800 border border-yellow-300",delivered:"bg-green-100 text-green-800 border border-green-300",pending:"bg-blue-100 text-blue-800 border border-blue-300",returned:"bg-red-100 text-red-800 border border-red-300"})[s]||"bg-gray-100 text-gray-800 border border-gray-300",C=()=>{console.log("Schedule returned orders:",r.value),d.scheduleReturned(r.value)},D=()=>{console.log("Move to pending:",r.value),d.moveToPending(r.value)},S=()=>{console.log("Print waybill for:",r.value),d.printWaybill(r.value)},R=()=>{console.log("Ship awaiting return orders:",r.value),d.shipAwaitingReturn(r.value)},T=()=>{console.log("Return orders:",r.value),d.returnOrders(r.value)},A=()=>{console.log("Validate delivery:",r.value),d.validateDelivery(r.value)},h=()=>{console.log("Refund orders:",r.value),d.refundOrders(r.value)},N=()=>{console.log("Export data"),d.exportData(r.value)},U=s=>{console.log("Edit order:",s),d.editOrder(s)},V=s=>{console.log("View order:",s),d.viewOrder(s)},I=s=>{console.log("Reverse delivery for order:",s),d.reverseDelivery(s)},M=s=>{console.log("Download order:",s),d.downloadOrder(s)},L=s=>{confirm("Are you sure you want to delete this order?")&&(console.log("Delete order:",s),d.deleteOrder(s))};return(s,t)=>(g(),P(Y,null,{default:z(()=>[e("div",K,[e("div",G,[e("div",Q,[n(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>v.value=l),type:"text",placeholder:"Search orders by (id, customer name, phone, address)",class:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[a,v.value]]),t[18]||(t[18]=e("button",{class:"absolute right-3 top-3 text-gray-500 hover:text-gray-700"},[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),e("div",W,[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-semibold text-red-600 mb-2"},"SHIPPING STATUS",-1)),n(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>o.value.shippingStatus=l),class:"w-full px-3 py-2 border border-gray-300 rounded"},t[19]||(t[19]=[e("option",{value:""},"Shipping status",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"dispatched"},"Dispatched",-1),e("option",{value:"delivered"},"Delivered",-1),e("option",{value:"returned"},"Returned",-1)]),512),[[u,o.value.shippingStatus]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-semibold text-red-600 mb-2"},"CALL AGENT",-1)),n(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>o.value.callAgent=l),class:"w-full px-3 py-2 border border-gray-300 rounded"},t[21]||(t[21]=[e("option",{value:""},"Select the call agent",-1),e("option",{value:"agent1"},"Agent 1",-1),e("option",{value:"agent2"},"Agent 2",-1)]),512),[[u,o.value.callAgent]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-semibold text-red-600 mb-2"},"SELLER",-1)),n(e("select",{"onUpdate:modelValue":t[3]||(t[3]=l=>o.value.seller=l),class:"w-full px-3 py-2 border border-gray-300 rounded"},t[23]||(t[23]=[e("option",{value:""},"All sellers",-1),e("option",{value:"pressed_beauty"},"PRESSED_BEAUTY",-1)]),512),[[u,o.value.seller]])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-semibold text-red-600 mb-2"},"PRODUCT",-1)),n(e("select",{"onUpdate:modelValue":t[4]||(t[4]=l=>o.value.product=l),class:"w-full px-3 py-2 border border-gray-300 rounded"},t[25]||(t[25]=[e("option",{value:""},"Search products...",-1)]),512),[[u,o.value.product]])]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-semibold text-red-600 mb-2"},"DISPATCHED ON",-1)),n(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>o.value.dispatchedOn=l),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded"},null,512),[[a,o.value.dispatchedOn]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-semibold text-red-600 mb-2"},"SHIPPED ON",-1)),n(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>o.value.shippedOn=l),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded"},null,512),[[a,o.value.shippedOn]])]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-semibold text-red-600 mb-2"},"RETURNED ON",-1)),n(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>o.value.returnedOn=l),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded"},null,512),[[a,o.value.returnedOn]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-semibold text-red-600 mb-2"},"DELIVERY DATE",-1)),n(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>o.value.deliveryDate=l),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded"},null,512),[[a,o.value.deliveryDate]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-semibold text-red-600 mb-2"},"RIDERS",-1)),n(e("select",{"onUpdate:modelValue":t[9]||(t[9]=l=>o.value.riders=l),class:"w-full px-3 py-2 border border-gray-300 rounded"},t[31]||(t[31]=[e("option",{value:""},"Select the courier",-1)]),512),[[u,o.value.riders]])]),e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-semibold text-red-600 mb-2"},"CITY TO",-1)),n(e("select",{"onUpdate:modelValue":t[10]||(t[10]=l=>o.value.cityTo=l),class:"w-full px-3 py-2 border border-gray-300 rounded"},t[33]||(t[33]=[e("option",{value:""},"city",-1),e("option",{value:"nairobi"},"Nairobi",-1)]),512),[[u,o.value.cityTo]])]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-semibold text-red-600 mb-2"},"INBOUND/OUTBOUND",-1)),n(e("select",{"onUpdate:modelValue":t[11]||(t[11]=l=>o.value.direction=l),class:"w-full px-3 py-2 border border-gray-300 rounded"},t[35]||(t[35]=[e("option",{value:""},"Select the direction",-1),e("option",{value:"inbound"},"Inbound",-1),e("option",{value:"outbound"},"Outbound",-1)]),512),[[u,o.value.direction]])]),e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-semibold text-red-600 mb-2"},"DELIVERED ON",-1)),n(e("input",{"onUpdate:modelValue":t[12]||(t[12]=l=>o.value.deliveredOn=l),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded"},null,512),[[a,o.value.deliveredOn]])]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-semibold text-red-600 mb-2"},"CREATED ON",-1)),n(e("input",{"onUpdate:modelValue":t[13]||(t[13]=l=>o.value.createdOn=l),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded"},null,512),[[a,o.value.createdOn]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-semibold text-red-600 mb-2"},"ZONE TO",-1)),n(e("select",{"onUpdate:modelValue":t[14]||(t[14]=l=>o.value.zoneTo=l),class:"w-full px-3 py-2 border border-gray-300 rounded"},t[39]||(t[39]=[e("option",{value:""},"Select the zone",-1)]),512),[[u,o.value.zoneTo]])]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-semibold text-red-600 mb-2"},"REFUNDED ON",-1)),n(e("input",{"onUpdate:modelValue":t[15]||(t[15]=l=>o.value.refundedOn=l),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded"},null,512),[[a,o.value.refundedOn]])])]),e("div",{class:"flex gap-4 mb-6"},[e("button",{onClick:k,class:"flex-1 bg-black text-white px-6 py-3 rounded hover:bg-gray-800 transition"}," Filter "),e("button",{onClick:O,class:"flex-1 bg-gray-200 text-gray-700 px-6 py-3 rounded hover:bg-gray-300 transition"}," Reset ")]),e("div",{class:"flex flex-wrap gap-3 mb-6"},[e("button",{onClick:C,class:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition"}," Schedule(returned) "),e("button",{onClick:D,class:"bg-cyan-400 text-white px-4 py-2 rounded hover:bg-cyan-500 transition"}," To pending "),e("button",{onClick:S,class:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 transition"}," Print waybill "),e("button",{onClick:R,class:"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 transition"}," Ship Awaiting Return Orders "),e("button",{onClick:T,class:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition"}," Return orders "),e("button",{onClick:A,class:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition"}," Validate Delivery "),e("button",{onClick:h,class:"bg-orange-400 text-white px-4 py-2 rounded hover:bg-orange-500 transition"}," Refund "),e("button",{onClick:N,class:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800 transition"}," Export ")]),e("div",Z,[t[60]||(t[60]=e("div",{class:"flex items-center justify-between p-4 border-b"},[e("h2",{class:"text-xl font-bold"},"Shipping"),e("span",{class:"text-sm text-gray-600"},"1 - 15 / 1338")],-1)),e("div",q,[e("table",J,[e("thead",X,[e("tr",null,[e("th",_,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[16]||(t[16]=l=>x.value=l),onChange:w},null,544),[[m,x.value]])]),t[42]||(t[42]=e("th",{class:"px-4 py-3 text-left"},"ORDER MERCHANT ID",-1)),t[43]||(t[43]=e("th",{class:"px-4 py-3 text-left"},"ORDER NO",-1)),t[44]||(t[44]=e("th",{class:"px-4 py-3 text-left"},"SELLER",-1)),t[45]||(t[45]=e("th",{class:"px-4 py-3 text-left"},"SOURCE",-1)),t[46]||(t[46]=e("th",{class:"px-4 py-3 text-left"},"DELIVERY DATE",-1)),t[47]||(t[47]=e("th",{class:"px-4 py-3 text-left"},"DELIVERED ON",-1)),t[48]||(t[48]=e("th",{class:"px-4 py-3 text-left"},"TRACKING NUMBER",-1)),t[49]||(t[49]=e("th",{class:"px-4 py-3 text-left"},"DETAILS",-1)),t[50]||(t[50]=e("th",{class:"px-4 py-3 text-left"},"ZONE TO",-1)),t[51]||(t[51]=e("th",{class:"px-4 py-3 text-left"},"DELIVERY MAN",-1)),t[52]||(t[52]=e("th",{class:"px-4 py-3 text-left"},"TOTAL PRICE",-1)),t[53]||(t[53]=e("th",{class:"px-4 py-3 text-left"},"STATUS",-1)),t[54]||(t[54]=e("th",{class:"px-4 py-3 text-left"},"ACTIONS",-1))])]),e("tbody",null,[(g(!0),f(j,null,F(y.value,l=>(g(),f("tr",{key:l.id,class:"border-b hover:bg-gray-50"},[e("td",ee,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[17]||(t[17]=p=>r.value=p),value:l.id},null,8,te),[[m,r.value]])]),e("td",le,i(l.merchantId),1),e("td",oe,i(l.orderNo),1),e("td",se,i(l.seller),1),e("td",re,i(l.source),1),e("td",ne,i(l.deliveryDate),1),e("td",de,i(l.deliveredOn||"-"),1),e("td",ie,i(l.trackingNumber),1),e("td",ae,[e("span",ue,i(l.productCount)+" products ",1)]),e("td",pe,i(l.zoneTo),1),e("td",ve,[e("div",be,[e("span",xe,i(l.deliveryMan.initials),1),e("span",ge,i(l.deliveryMan.name),1)]),e("div",ye,i(l.confirmedAt),1)]),e("td",me,i(l.totalPrice)+" KES",1),e("td",fe,[e("span",{class:H([E(l.status),"px-3 py-1 rounded-full text-sm"])},i(l.status),3)]),e("td",ce,[e("div",we,[e("button",{onClick:p=>U(l.id),class:"text-gray-600 hover:text-gray-800",title:"Edit"},t[55]||(t[55]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,ke),e("button",{onClick:p=>V(l.id),class:"text-blue-600 hover:text-blue-800",title:"View"},t[56]||(t[56]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,Oe),e("button",{onClick:p=>I(l.id),class:"text-orange-600 hover:text-orange-800",title:"Reverse Delivery"},t[57]||(t[57]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})],-1)]),8,Ee),e("button",{onClick:p=>M(l.id),class:"text-green-600 hover:text-green-800",title:"Download"},t[58]||(t[58]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)]),8,Ce),e("button",{onClick:p=>L(l.id),class:"text-red-600 hover:text-red-800",title:"Delete"},t[59]||(t[59]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,De)])])]))),128))])])])])])]),_:1}))}};export{Me as default};
