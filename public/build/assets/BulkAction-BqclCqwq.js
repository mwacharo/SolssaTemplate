import{r as B,P as V,j as p,l as g,c as j,o as n,w as _,b as h,a as e,d as i,e as u,u as t,t as c,f as d,n as m,A as k,F as z,g as T,C as P,B as w}from"./app-C_yBjHfN.js";import{u as O}from"./orderStore-fEe5JSKm.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"dialog-header"},H={class:"flex items-center gap-3"},U={class:"header-icon"},S={key:0,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},N={key:1,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},F={key:2,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},E={key:3,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},I={class:"dialog-title"},Y={class:"dialog-subtitle"},Z=["disabled"],q={class:"dialog-content"},G={key:0,class:"form-section"},J={class:"form-group"},K={class:"select-wrapper"},Q={key:0,class:"error-message"},R={key:1,class:"form-section"},W={class:"form-group"},X={class:"select-wrapper"},$={key:0,class:"error-message"},ee={key:2,class:"form-section"},oe={class:"warning-card"},se={class:"flex items-start gap-3"},te={class:"warning-text"},le={key:3,class:"form-section"},ne={class:"form-grid"},re={class:"form-group"},ie={class:"select-wrapper"},ae=["value"],de={key:0,class:"error-message"},ue={class:"form-group"},ce={class:"form-group"},ve={class:"form-group"},pe={class:"dialog-footer"},me={class:"action-buttons"},ke=["disabled"],ge=["disabled"],he={key:0,class:"flex items-center"},we={key:1,class:"flex items-center"},fe={key:0,class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ye={key:1,class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ce={__name:"BulkAction",setup(_e){const s=O(),a=B({}),l=V({deliveryPerson:"",callCentreAgent:"",status:"",notes:"",zone:"",city:""});p(()=>s.cityOptions),p(()=>s.zoneOptions),p(()=>s.statusOptions),p(()=>s.agentOptions),p(()=>s.riderOptions);const f=()=>{l.deliveryPerson="",l.callCentreAgent="",l.status="",l.notes="",l.zone="",l.city="",a.value={}},x=()=>{a.value={};let v=!0;return s.dialogType==="assignDelivery"&&!l.deliveryPerson&&(a.value.deliveryPerson="Please select a delivery person",v=!1),s.dialogType==="assignCallCentre"&&!l.callCentreAgent&&(a.value.callCentreAgent="Please select a call centre agent",v=!1),s.dialogType==="status"&&!l.status&&(a.value.status="Please select a status",v=!1),v},y=()=>{s.closeDialog(),f()};function b(){x()&&(s.handleBulkAction({type:s.dialogType,data:{...l},orders:s.selectedOrders}),f())}return(v,o)=>{const C=g("v-autocomplete"),M=g("v-card"),A=g("v-dialog");return n(),j(A,{modelValue:t(s).bulkActionDialog,"onUpdate:modelValue":o[6]||(o[6]=r=>t(s).bulkActionDialog=r),"max-width":"600px",persistent:"",class:"elevation-0"},{default:_(()=>[h(M,{class:"dialog-card overflow-hidden"},{default:_(()=>[e("div",L,[e("div",H,[e("div",U,[t(s).dialogType==="assignDelivery"?(n(),i("svg",S,o[7]||(o[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)]))):t(s).dialogType==="assignCallCentre"?(n(),i("svg",N,o[8]||(o[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"},null,-1)]))):t(s).dialogType==="delete"?(n(),i("svg",F,o[9]||(o[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)]))):t(s).dialogType==="status"?(n(),i("svg",E,o[10]||(o[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):u("",!0)]),e("div",null,[e("h2",I,c(t(s).dialogTitle),1),e("p",Y,c(t(s).selectedOrder?1:0)+" order(s) selected",1)])]),e("button",{onClick:y,class:"close-button",disabled:t(s).loading.bulkAction},o[11]||(o[11]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Z)]),e("div",q,[t(s).dialogType==="assignDelivery"?(n(),i("div",G,[e("div",J,[o[13]||(o[13]=e("label",{class:"form-label"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),d(" Delivery Person ")],-1)),e("div",K,[h(C,{modelValue:l.deliveryPerson,"onUpdate:modelValue":o[0]||(o[0]=r=>l.deliveryPerson=r),items:t(s).riderOptions,"item-title":"name","item-value":"id",class:m(["form-select",{error:a.value.deliveryPerson}]),placeholder:"Choose a delivery person...",clearable:"",dense:""},null,8,["modelValue","items","class"]),o[12]||(o[12]=e("div",{class:"select-arrow"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),a.value.deliveryPerson?(n(),i("p",Q,c(a.value.deliveryPerson),1)):u("",!0)])])):u("",!0),t(s).dialogType==="assignCallCentre"?(n(),i("div",R,[e("div",W,[o[15]||(o[15]=e("label",{class:"form-label"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})]),d(" Call Centre Agent ")],-1)),e("div",X,[h(C,{modelValue:l.callCentreAgent,"onUpdate:modelValue":o[1]||(o[1]=r=>l.callCentreAgent=r),items:t(s).agentOptions,"item-title":"name","item-value":"id",class:m(["form-select",{error:a.value.callCentreAgent}]),placeholder:"Choose an agent...",clearable:"",dense:""},null,8,["modelValue","items","class"]),o[14]||(o[14]=e("div",{class:"select-arrow"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),a.value.callCentreAgent?(n(),i("p",$,c(a.value.callCentreAgent),1)):u("",!0)])])):u("",!0),t(s).dialogType==="delete"?(n(),i("div",ee,[e("div",oe,[e("div",se,[o[19]||(o[19]=e("div",{class:"warning-icon"},[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",null,[o[18]||(o[18]=e("h3",{class:"warning-title"},"Confirm Deletion",-1)),e("p",te,[o[16]||(o[16]=d(" You are about to delete ")),e("strong",null,c(t(s).selectedOrder?1:0)+" order(s)",1),o[17]||(o[17]=d(". This action is permanent and cannot be undone. "))])])])])])):u("",!0),t(s).dialogType==="status"?(n(),i("div",le,[e("div",ne,[e("div",re,[o[22]||(o[22]=e("label",{class:"form-label"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),d(" Status ")],-1)),e("div",ie,[k(e("select",{"onUpdate:modelValue":o[2]||(o[2]=r=>l.status=r),class:m(["form-select",{error:a.value.status}])},[o[20]||(o[20]=e("option",{disabled:"",value:""},"Select new status...",-1)),(n(!0),i(z,null,T(t(s).statuses,r=>(n(),i("option",{key:r,value:r},c(r),9,ae))),128))],2),[[P,l.status]]),o[21]||(o[21]=e("div",{class:"select-arrow"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),a.value.status?(n(),i("p",de,c(a.value.status),1)):u("",!0)]),e("div",ue,[o[23]||(o[23]=e("label",{class:"form-label"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})]),d(" Zone ")],-1)),k(e("input",{type:"text","onUpdate:modelValue":o[3]||(o[3]=r=>l.zone=r),class:"form-input",placeholder:"Enter zone..."},null,512),[[w,l.zone]])]),e("div",ce,[o[24]||(o[24]=e("label",{class:"form-label"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})]),d(" City ")],-1)),k(e("input",{type:"text","onUpdate:modelValue":o[4]||(o[4]=r=>l.city=r),class:"form-input",placeholder:"Enter city..."},null,512),[[w,l.city]])])]),e("div",ve,[o[25]||(o[25]=e("label",{class:"form-label"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]),d(" Notes (Optional) ")],-1)),k(e("textarea",{"onUpdate:modelValue":o[5]||(o[5]=r=>l.notes=r),class:"form-textarea",rows:"3",placeholder:"Add any additional notes for this status change..."},null,512),[[w,l.notes]])])])):u("",!0)]),e("div",pe,[e("div",me,[e("button",{onClick:y,class:"btn-cancel",disabled:t(s).loading.bulkAction},o[26]||(o[26]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),d(" Cancel ")]),8,ke),e("button",{onClick:b,class:m(["btn-confirm",{"btn-danger":t(s).dialogType==="delete"}]),disabled:t(s).loading.bulkAction},[t(s).loading.bulkAction?(n(),i("div",he,o[27]||(o[27]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),d(" Processing... ")]))):(n(),i("div",we,[t(s).dialogType==="delete"?(n(),i("svg",fe,o[28]||(o[28]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)]))):(n(),i("svg",ye,o[29]||(o[29]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))),d(" "+c(t(s).dialogType==="delete"?"Delete Orders":"Confirm Action"),1)]))],10,ge)])])]),_:1})]),_:1},8,["modelValue"])}}},Ae=D(Ce,[["__scopeId","data-v-24a7855f"]]);export{Ae as default};
