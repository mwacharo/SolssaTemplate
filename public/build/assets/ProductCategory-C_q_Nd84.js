import{r as y,P as v,k as D,c as V,o as n,w as E,a as e,d as a,e as b,f as H,u as m,F as L,g as N,t as d,y as w,A as h,B as k,n as A}from"./app-DaUcTzCd.js";import{u as P}from"./categoryStore-C8L0aKSV.js";import{_ as S}from"./AppLayout-BkwEyNpr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./webrtc-DSPN2aVZ.js";import"./africastalking-CJoUA7R0.js";import"./IncomingCallDialog-BZAuwMWn.js";/* empty css                                                                           */const z={class:"p-6 max-w-6xl mx-auto"},F={key:0,class:"flex justify-center py-8"},$={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},T={class:"p-6"},U={class:"flex justify-between items-start mb-4"},I={class:"text-xl font-semibold text-gray-900"},q={class:"flex gap-2"},G=["onClick"],J=["onClick"],K={key:0,class:"text-gray-600 text-sm mb-3"},O={class:"flex justify-between items-center text-sm text-gray-500"},Q={key:0},R={key:2,class:"text-center py-12"},W={class:"bg-white rounded-lg max-w-md w-full p-6"},X={class:"flex justify-between items-center mb-4"},Y={class:"text-xl font-semibold text-gray-900"},Z={class:"mb-4"},ee={class:"mb-6"},te={class:"flex justify-end gap-3"},se=["disabled"],oe={key:4,class:"fixed top-4 right-4 z-50 max-w-sm w-full"},pe={__name:"ProductCategory",setup(re){const i=P(),p=y(!1),u=y(!1),g=y(null),o=v({name:"",description:""}),l=v({show:!1,message:"",type:"success"}),x=()=>{u.value=!1,g.value=null,o.name="",o.description="",p.value=!0},C=r=>{u.value=!0,g.value=r.id,o.name=r.name,o.description=r.description||"",p.value=!0},f=()=>{p.value=!1,u.value=!1,g.value=null,o.name="",o.description=""},_=async()=>{try{u.value?(await i.updateCategory(g.value,{...o}),c("Category updated successfully!","success")):(await i.createCategory({...o}),c("Category created successfully!","success")),f()}catch{c("An error occurred. Please try again.","error")}},M=async r=>{if(confirm("Are you sure you want to delete this category?"))try{await i.deleteCategory(r),c("Category deleted successfully!","success")}catch{c("Failed to delete category. Please try again.","error")}},c=(r,t="success")=>{l.message=r,l.type=t,l.show=!0,setTimeout(()=>{l.show=!1},3e3)},j=r=>r?new Date(r).toLocaleDateString():"";return D(()=>{i.fetchCategories()}),(r,t)=>(n(),V(S,null,{default:E(()=>[e("div",z,[e("div",{class:"flex justify-between items-center mb-6"},[t[4]||(t[4]=e("h1",{class:"text-3xl font-bold text-gray-900"},"Product Categories",-1)),e("button",{onClick:x,class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},t[3]||(t[3]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),H(" Add Category ")]))]),m(i).loading?(n(),a("div",F,t[5]||(t[5]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):m(i).categories.length>0?(n(),a("div",$,[(n(!0),a(L,null,N(m(i).categories,s=>(n(),a("div",{key:s.id,class:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow border border-gray-200"},[e("div",T,[e("div",U,[e("h3",I,d(s.name),1),e("div",q,[e("button",{onClick:B=>C(s),class:"text-blue-600 hover:text-blue-800 p-1",title:"Edit"},t[6]||(t[6]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,G),e("button",{onClick:B=>M(s.id),class:"text-red-600 hover:text-red-800 p-1",title:"Delete"},t[7]||(t[7]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,J)])]),s.description?(n(),a("p",K,d(s.description),1)):b("",!0),e("div",O,[e("span",null,"ID: "+d(s.id),1),s.created_at?(n(),a("span",Q,d(j(s.created_at)),1)):b("",!0)])])]))),128))])):(n(),a("div",R,[t[8]||(t[8]=e("svg",{class:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),t[9]||(t[9]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No categories found",-1)),t[10]||(t[10]=e("p",{class:"text-gray-500 mb-4"},"Get started by creating your first product category.",-1)),e("button",{onClick:x,class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors"}," Create Category ")])),p.value?(n(),a("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:w(f,["self"])},[e("div",W,[e("div",X,[e("h2",Y,d(u.value?"Edit Category":"Create Category"),1),e("button",{onClick:f,class:"text-gray-400 hover:text-gray-600"},t[11]||(t[11]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("form",{onSubmit:w(_,["prevent"])},[e("div",Z,[t[12]||(t[12]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-2"}," Category Name * ",-1)),h(e("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=s=>o.name=s),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter category name"},null,512),[[k,o.name]])]),e("div",ee,[t[13]||(t[13]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-2"}," Description ",-1)),h(e("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=s=>o.description=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter category description (optional)"},null,512),[[k,o.description]])]),e("div",te,[e("button",{type:"button",onClick:f,class:"px-4 py-2 text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-md transition-colors"}," Cancel "),e("button",{type:"submit",disabled:m(i).loading,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors disabled:opacity-50"},d(m(i).loading?"Saving...":u.value?"Update":"Create"),9,se)])],32)])])):b("",!0),l.show?(n(),a("div",oe,[e("div",{class:A([{"bg-green-500":l.type==="success","bg-red-500":l.type==="error","bg-blue-500":l.type==="info"},"text-white px-6 py-4 rounded-lg shadow-lg flex items-center justify-between"])},[e("span",null,d(l.message),1),e("button",{onClick:t[2]||(t[2]=s=>l.show=!1),class:"text-white hover:text-gray-200 ml-4"},t[14]||(t[14]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))],2)])):b("",!0)])]),_:1}))}};export{pe as default};
