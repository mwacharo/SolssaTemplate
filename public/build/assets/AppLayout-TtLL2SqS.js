import{d as C,o as l,a as S,G as oe,r as R,I as Ee,e as f,n as F,t as v,y as Se,E as fe,j as K,k as te,s as Ie,l as u,c as m,w as t,b as i,f as o,F as M,g as U,u as X,S as Q,m as B,v as Te,J as ie,W as se}from"./app-D54q1eq3.js";import{_ as he}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as Ne}from"./webrtc-BOVMfqF6.js";import Ae from"./IncomingCallDialog-DFltmG4W.js";const Ce={},we={viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Re(c,a){return l(),C("svg",we,a[0]||(a[0]=[S("path",{d:"M11.395 44.428C4.557 40.198 0 32.632 0 24 0 10.745 10.745 0 24 0a23.891 23.891 0 0113.997 4.502c-.2 17.907-11.097 33.245-26.602 39.926z",fill:"#6875F5"},null,-1),S("path",{d:"M14.134 45.885A23.914 23.914 0 0024 48c13.255 0 24-10.745 24-24 0-3.516-.756-6.856-2.115-9.866-4.659 15.143-16.608 27.092-31.75 31.751z",fill:"#6875F5"},null,-1)]))}const ne=he(Ce,[["render",Re]]),Pe={class:"max-w-screen-xl mx-auto py-2 px-3 sm:px-6 lg:px-8"},ye={class:"flex items-center justify-between flex-wrap"},Oe={class:"w-0 flex-1 flex items-center min-w-0"},De={key:0,class:"size-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},ke={key:1,class:"size-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Le={class:"ms-3 font-medium text-sm text-white truncate"},be={class:"shrink-0 sm:ms-3"},Me={__name:"Banner",setup(c){const a=oe(),h=R(!0),_=R("success"),N=R("");return Ee(async()=>{var A,g;_.value=((A=a.props.jetstream.flash)==null?void 0:A.bannerStyle)||"success",N.value=((g=a.props.jetstream.flash)==null?void 0:g.banner)||"",h.value=!0}),(A,g)=>(l(),C("div",null,[h.value&&N.value?(l(),C("div",{key:0,class:F({"bg-indigo-500":_.value=="success","bg-red-700":_.value=="danger"})},[S("div",Pe,[S("div",ye,[S("div",Oe,[S("span",{class:F(["flex p-2 rounded-lg",{"bg-indigo-600":_.value=="success","bg-red-600":_.value=="danger"}])},[_.value=="success"?(l(),C("svg",De,g[1]||(g[1]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):f("",!0),_.value=="danger"?(l(),C("svg",ke,g[2]||(g[2]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)]))):f("",!0)],2),S("p",Le,v(N.value),1)]),S("div",be,[S("button",{type:"button",class:F(["-me-1 flex p-2 rounded-md focus:outline-none sm:-me-2 transition",{"hover:bg-indigo-600 focus:bg-indigo-600":_.value=="success","hover:bg-red-600 focus:bg-red-600":_.value=="danger"}]),"aria-label":"Dismiss",onClick:g[0]||(g[0]=Se(k=>h.value=!1,["prevent"]))},g[3]||(g[3]=[S("svg",{class:"size-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]),2)])])])],2)):f("",!0)]))}},e={DASHBOARD:{INDEX:"dashboard",METRICS:"dashboard.metrics"},EXPEDITION:{INDEX:"expedition.index"},SELLEREXPENSES:{INDEX:"seller-expenses.index"},REMITTANCES:{INDEX:"remittances.index",AGENT_PAYMENTS:"remittances.agent-payments",RIDER_PAYMENTS:"remittances.rider-payments"},CALL_CENTRE:{INDEX:"call-centre.index",TICKETS:"call-centre.tickets",MESSAGES:"call-centre.messages",WHATSAPP:"call-centre.whatsapp",EMAILS:"call-centre.emails",CLIENTS:"call-centre.clients",CONTACTS:"call-centre.contacts",TELEGRAM:"call-centre.telegram",NOTES:"call-centre.notes"},ORDERS:{INDEX:"orders.index",SHIPPING:"orders.shipping",SCAN_DISPATCH:"orders.scan-dispatch",DISPATCH_LIST:"orders.dispatch-list"},USERS:{INDEX:"admin.users",ROLES:"users.roles",PERMISSIONS:"users.permissions"},REPORTS:{INDEX:"reports.index",EXPORT:"reports.export"},BRANCHES:{INDEX:"branches.index",CITIES:"branches.cities",ZONES:"branches.zones"},WAREHOUSE:{INDEX:"warehouse.index",PRODUCTS:"warehouse.products",INVENTORY:"warehouse.inventory",STATISTICS:"warehouse.statistics",CATEGORY:"warehouse.category"},SETTINGS:{IVR:"settings.ivr",INTEGRATIONS:"settings.integrations",TEMPLATES:"settings.templates",CALL_SETTINGS:"settings.call-settings",STATUS:"settings.status",EXPENSE_CATEGORIES:"settings.expense-categories",EXPENSE_TYPES:"settings.expense-types",PRICING_SERVICES:"settings.pricing-services",PRICING_CONDITIONS_TYPES:"settings.pricing-conditions-types",PRICING_CONDITIONS:"settings.pricing-conditions",PRICING_VENDOR_ASSIGNMENTS:"settings.vendor-assignments",PRICING_VENDOR_OVERRIDES:"settings.vendor-overrides"},INTEGRATIONS:{MARKETPLACE:"integrations.marketplace",SHOPIFY:"integrations.shopify"},BILLING:{PLANS:"billing.plans",PAYMENTS:"billing.payments",INVOICES:"billing.invoices",USAGE:"billing.usage",LICENSES:"billing.licenses"},NOTIFICATIONS:{CENTER:"notifications.center",ACTIVITY:"notifications.activity",STATUS:"notifications.status"},AUDIT:{LOGINS:"audit.logins",ACTIONS:"audit.actions",SYSTEM:"audit.system"},DEVELOPER:{DOCS:"developer.docs",SDKS:"developer.sdks",SANDBOX:"developer.sandbox",STATS:"developer.stats"},SUPPORT:{FAQS:"support.faqs",CONTACT:"support.contact",CHAT:"support.chat",TICKET:"support.ticket"}},xe=fe("nav",{state:()=>({expandedGroups:[],navItems:[{title:"Dashboard",icon:"mdi-view-dashboard",route:e.DASHBOARD.INDEX,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Free","Pro","Enterprise"],features:["dashboard"],permissions:["dashboard_view","dashboard_export"],children:[{title:"Overview",route:e.DASHBOARD.INDEX,icon:"mdi-view-dashboard-outline",permission:"dashboard_view"},{title:"Metrics",route:e.DASHBOARD.METRICS,icon:"mdi-chart-line",permission:"dashboard_view"}]},{title:"Expedition",icon:"mdi-truck-fast",route:e.EXPEDITION.INDEX,roles:["Admin","Manager","Vendor"],plans:["Free","Pro","Enterprise"],features:["expedition"],permissions:["expedition_view","expedition_manage"],children:[{title:"Expedition ",route:e.EXPEDITION.INDEX,icon:"mdi-truck-fast-outline",permission:"expedition_view"}]},{title:"Seller Expenses",icon:"mdi-cash-multiple",route:e.SELLEREXPENSES.INDEX,roles:["Admin","Manager","Vendor"],plans:["Free","Pro","Enterprise"],features:["seller-expenses"],permissions:["seller_expenses_view","seller_expenses_manage"],children:[{title:"Seller Expenses ",route:e.SELLEREXPENSES.INDEX,icon:"mdi-cash-multiple-outline",permission:"seller_expenses_view"}]},{title:"Remittances",icon:"mdi-bank-transfer",route:e.REMITTANCES.INDEX,roles:["Admin","Manager","Vendor"],plans:["Free","Pro","Enterprise"],features:["remittances"],permissions:["remittances_view","remittances_manage"],children:[{title:"Remittances",route:e.REMITTANCES.INDEX,icon:"mdi-bank-transfer-outline",permission:"remittances_view"},{title:"Agent Payments",route:e.REMITTANCES.AGENT_PAYMENTS,icon:"mdi-cash-multiple",permission:"agent_payments_view"},{title:"Rider Payments",route:e.REMITTANCES.RIDER_PAYMENTS,icon:"mdi-motorbike",permission:"rider_payments_view"}]},{title:"Call Center",icon:"mdi-headset",route:e.CALL_CENTRE.INDEX,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Free","Pro","Enterprise"],features:["call-center"],permissions:["call_center_view"],children:[{title:"Call Centre",route:e.CALL_CENTRE.INDEX,icon:"mdi-headset",permission:"call_center_view"},{title:"Tickets",route:e.CALL_CENTRE.TICKETS,icon:"mdi-ticket-outline",permission:"tickets_view"},{title:"Messages",route:e.CALL_CENTRE.MESSAGES,icon:"mdi-message-text-outline",permission:"messages_view"},{title:"WhatsApp",route:e.CALL_CENTRE.WHATSAPP,icon:"mdi-whatsapp",permission:"whatsapp_view"},{title:"Emails",route:e.CALL_CENTRE.EMAILS,icon:"mdi-email-outline",permission:"emails_view"},{title:"Clients",route:e.CALL_CENTRE.CLIENTS,icon:"mdi-account-multiple-outline",permission:"clients_view"},{title:"Contacts",route:e.CALL_CENTRE.CONTACTS,icon:"mdi-phone-outline",permission:"contacts_view"},{title:"Telegram",route:e.CALL_CENTRE.TELEGRAM,icon:"mdi-telegram",permission:"telegram_view"},{title:"Notes",route:e.CALL_CENTRE.NOTES,icon:"mdi-note-text-outline",permission:"notes_view"}]},{title:"Orders",icon:"mdi-cart",route:e.ORDERS.INDEX,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Free","Pro","Enterprise"],features:["orders"],permissions:["orders_view","orders_create","orders_edit","orders_delete","orders_ship","orders_dispatch","orders_scan","orders_track","orders_update_status","orders_refund"],children:[{title:"All Orders",route:e.ORDERS.INDEX,icon:"mdi-cart-outline",permission:"orders_view"},{title:"Shipping",route:e.ORDERS.SHIPPING,icon:"mdi-truck-outline",permission:"orders_ship"},{title:"Scan & Dispatch",route:e.ORDERS.SCAN_DISPATCH,icon:"mdi-barcode-scan",permission:"orders_scan"},{title:"Dispatch List",route:e.ORDERS.DISPATCH_LIST,icon:"mdi-format-list-bulleted",permission:"orders_dispatch"}]},{title:"Users & Teams",icon:"mdi-account-group",route:e.USERS.INDEX,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Pro","Enterprise"],features:["team-management"],permissions:["users_view","users_create","users_edit","users_delete","users_impersonate","roles_view","roles_create","roles_edit","roles_delete","roles_assign","permissions_view","permissions_create","permissions_edit","permissions_delete"],children:[{title:"User Management",route:e.USERS.INDEX,icon:"mdi-account-group-outline",permission:"users_view"},{title:"User Roles",route:e.USERS.ROLES,icon:"mdi-account-key-outline",permission:"roles_view"},{title:"Permissions",route:e.USERS.PERMISSIONS,icon:"mdi-shield-key-outline",permission:"permissions_view"}]},{title:"Reports",icon:"mdi-chart-box",route:e.REPORTS.INDEX,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Pro","Enterprise"],features:["reports"],permissions:["reports_view","reports_create","reports_export","reports_schedule","reports_share"],children:[{title:"View Reports",route:e.REPORTS.INDEX,icon:"mdi-chart-box-outline",permission:"reports_view"},{title:"Generate Report",route:e.REPORTS.EXPORT,icon:"mdi-chart-bar",permission:"reports_view"}]},{title:"Branches",icon:"mdi-map-marker-outline",route:e.BRANCHES.INDEX,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Pro","Enterprise"],features:["branch-management"],permissions:["branches_view","branches_create","branches_edit","branches_delete","cities_manage","zones_manage"],children:[{title:"View Branches",route:e.BRANCHES.INDEX,icon:"mdi-map-marker-radius-outline",permission:"branches_view"},{title:"Cities",route:e.BRANCHES.CITIES,icon:"mdi-city",permission:"cities_manage"},{title:"Zones",route:e.BRANCHES.ZONES,icon:"mdi-shape-outline",permission:"zones_manage"}]},{title:"Warehousing",icon:"mdi-warehouse",route:"warehouse.index",roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Pro","Enterprise"],features:["warehousing"],permissions:["warehouse_view","warehouse_manage","products_view","products_create","products_edit","products_delete","inventory_view","inventory_adjust","inventory_transfer","categories_manage"],children:[{title:"Warehouse",route:e.WAREHOUSE.INDEX,icon:"mdi-warehouse",permission:"warehouse_view"},{title:"Products",route:e.WAREHOUSE.PRODUCTS,icon:"mdi-package-variant-closed",permission:"products_view"},{title:"Inventory",route:e.WAREHOUSE.INVENTORY,icon:"mdi-warehouse",permission:"inventory_view"},{title:"Statistics",route:e.WAREHOUSE.STATISTICS,icon:"mdi-chart-bar",permission:"warehouse_view"},{title:"Category",route:e.WAREHOUSE.CATEGORY,icon:"mdi-tag-multiple",permission:"categories_manage"}]},{title:"Settings",icon:"mdi-cog",route:e.SETTINGS.PROFILE,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Free","Pro","Enterprise"],features:[],permissions:["settings_view","settings_edit","ivr_manage","integrations_view","integrations_manage","templates_view","templates_create","templates_edit","templates_delete","call_settings_manage","system_status_view","system_status_manage"],children:[{title:"IVR Options",route:e.SETTINGS.IVR,icon:"mdi-phone-settings",permission:"ivr_manage"},{title:"Integrations",route:e.SETTINGS.INTEGRATIONS,icon:"mdi-puzzle",permission:"integrations_view"},{title:"Templates",route:e.SETTINGS.TEMPLATES,icon:"mdi-file-outline",permission:"templates_view"},{title:"Call Settings",route:e.SETTINGS.CALL_SETTINGS,icon:"mdi-phone-outline",permission:"call_settings_manage"},{title:"System Statuses",route:e.SETTINGS.STATUS,icon:"mdi-server",permission:"system_status_view"},{title:"Expense Categories",route:e.SETTINGS.EXPENSE_CATEGORIES,icon:"mdi-folder-outline",permission:"expense_categories_manage"},{title:"Expense Types",route:e.SETTINGS.EXPENSE_TYPES,icon:"mdi-tag-outline",permission:"expense_types_manage"},{title:"Pricing Services",route:e.SETTINGS.PRICING_SERVICES,icon:"mdi-currency-usd",permission:"pricing_view"},{title:"Condition Types",route:e.SETTINGS.PRICING_CONDITIONS_TYPES,icon:"mdi-shape-plus",permission:"pricing_manage"},{title:"Pricing Conditions",route:e.SETTINGS.PRICING_CONDITIONS,icon:"mdi-scale-balance",permission:"pricing_view"},{title:"Vendor Assignments",route:e.SETTINGS.PRICING_VENDOR_ASSIGNMENTS,icon:"mdi-account-multiple-check",permission:"pricing_manage"},{title:"Vendor Overrides",route:e.SETTINGS.PRICING_VENDOR_OVERRIDES,icon:"mdi-account-cash",permission:"pricing_manage"}]},{title:"Integrations",icon:"mdi-api",route:e.INTEGRATIONS.API,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Pro","Enterprise"],features:["integrations"],permissions:["integrations_view","integrations_manage","api_manage","webhooks_manage"],children:[{title:"Marketplace",route:e.INTEGRATIONS.MARKETPLACE,icon:"mdi-storefront-outline",permission:"integrations_view"},{title:"Shopify",route:e.INTEGRATIONS.SHOPIFY,icon:"mdi-api",permission:"api_manage"}]},{title:"Billing",icon:"mdi-credit-card",route:e.BILLING.PLANS,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Pro","Enterprise"],features:["billing"],permissions:["billing_view","billing_manage","invoices_view","invoices_create","payments_view","payments_process"],children:[{title:"Plans & Pricing",route:e.BILLING.PLANS,icon:"mdi-card-account-details",permission:"billing_view"},{title:"Payment Methods",route:e.BILLING.PAYMENTS,icon:"mdi-credit-card-outline",permission:"payments_view"},{title:"Invoices",route:e.BILLING.INVOICES,icon:"mdi-receipt",permission:"invoices_view"},{title:"Usage Metering",route:e.BILLING.USAGE,icon:"mdi-gauge",permission:"billing_view"},{title:"License Management",route:e.BILLING.LICENSES,icon:"mdi-license",permission:"billing_manage"}]},{title:"Notifications",icon:"mdi-bell",route:e.NOTIFICATIONS.CENTER,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Pro","Enterprise"],features:["notifications"],permissions:["notifications_view","notifications_create","notifications_manage"],children:[{title:"Notification Center",route:e.NOTIFICATIONS.CENTER,icon:"mdi-bell-outline",permission:"notifications_view"},{title:"Activity Trail",route:e.NOTIFICATIONS.ACTIVITY,icon:"mdi-timeline",permission:"notifications_view"},{title:"Read/Unread",route:e.NOTIFICATIONS.STATUS,icon:"mdi-bell-check",permission:"notifications_view"}]},{title:"Audit Logs",icon:"mdi-clipboard-text-clock",route:e.AUDIT.LOGINS,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Enterprise"],features:["audit-trail"],permissions:["audit_logs_view","login_history_view","system_changes_view","security_settings_manage"],children:[{title:"Login History",route:e.AUDIT.LOGINS,icon:"mdi-account-clock",permission:"login_history_view"},{title:"User Actions",route:e.AUDIT.ACTIONS,icon:"mdi-account-edit",permission:"audit_logs_view"},{title:"System Changes",route:e.AUDIT.SYSTEM,icon:"mdi-cog-clockwise",permission:"system_changes_view"}]},{title:"Developer Tools",icon:"mdi-code-tags",route:e.DEVELOPER.DOCS,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Enterprise"],features:["developer-tools"],permissions:["developer_tools_access","api_manage","webhooks_manage","sandbox_access","feature_flags_manage"],children:[{title:"API Docs",route:e.DEVELOPER.DOCS,icon:"mdi-book-open-variant",permission:"developer_tools_access"},{title:"SDKs",route:e.DEVELOPER.SDKS,icon:"mdi-package-variant",permission:"developer_tools_access"},{title:"Sandbox Mode",route:e.DEVELOPER.SANDBOX,icon:"mdi-play-box-outline",permission:"sandbox_access"},{title:"Usage Stats",route:e.DEVELOPER.STATS,icon:"mdi-chart-line-variant",permission:"developer_tools_access"}]},{title:"Help & Support",icon:"mdi-lifebuoy",route:e.SUPPORT.FAQS,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Free","Pro","Enterprise"],features:[],children:[{title:"FAQs / Knowledge Base",route:e.SUPPORT.FAQS,icon:"mdi-help-circle-outline"},{title:"Contact Support",route:e.SUPPORT.CONTACT,icon:"mdi-email-outline"},{title:"Live Chat",route:e.SUPPORT.CHAT,icon:"mdi-chat-outline"},{title:"Submit a Ticket",route:e.SUPPORT.TICKET,icon:"mdi-ticket-plus-outline"}]}]}),getters:{filteredNavItems:c=>(a,h,_=[],N=[])=>{const A=Array.isArray(a)?a.map(d=>String(d||"").toLowerCase()):[String(a||"").toLowerCase()],g=String(h||"").toLowerCase(),k=[...Array.isArray(N)?N:[]].map(d=>d.toLowerCase()),P=_.map(d=>d.toLowerCase());return c.navItems.map(d=>{const x=(d.roles||[]).map(s=>s.toLowerCase()),w=(d.plans||[]).map(s=>s.toLowerCase()),O=(d.features||[]).map(s=>s.toLowerCase()),y=[];d.permission&&y.push(d.permission.toLowerCase()),Array.isArray(d.permissions)&&y.push(...d.permissions.map(s=>s.toLowerCase()));const H=x.length===0||A.some(s=>x.includes(s)),$=w.length===0||w.includes(g),z=O.length===0||O.every(s=>P.includes(s)),Y=y.length===0||y.some(s=>k.includes(s));if(!(H&&$&&z&&Y))return null;let n=[];return d.children&&(n=d.children.filter(s=>{var I,G;const p=(I=s.permission)==null?void 0:I.toLowerCase(),L=(G=s.role)==null?void 0:G.toLowerCase(),E=!p||k.includes(p),D=!L||A.includes(L);return E&&D})),{...d,children:n}}).filter(Boolean)}},actions:{toggleGroup(c){const a=this.expandedGroups.indexOf(c);a===-1?this.expandedGroups.push(c):this.expandedGroups.splice(a,1)},isGroupExpanded(c){return this.expandedGroups.includes(c)},expandAllGroups(){this.expandedGroups=this.navItems.map(c=>c.title)},collapseAllGroups(){this.expandedGroups=[]},findNavItemByRoute(c){for(const a of this.navItems){if(a.route===c)return a;if(a.children){const h=a.children.find(_=>_.route===c);if(h)return{parent:a,child:h}}}return null},getBreadcrumb(c){const a=this.findNavItemByRoute(c);return a?a.parent?[{title:a.parent.title,route:a.parent.route},{title:a.child.title,route:a.child.route}]:[{title:a.title,route:a.route}]:[]}}}),Ge={class:"pa-2"},Ve={class:"text-center w-100"},re="Enterprise",He={__name:"AppLayout",props:{title:String},setup(c){const a=xe(),h=Ne(),_=oe(),N=K(()=>{var n;return((n=_.props.authUser)==null?void 0:n.roles)||[]});console.log("User Roles:",N.value);const A=K(()=>{var n;return((n=_.props.authUser)==null?void 0:n.permissions)||[]});console.log("User Permissions:",A.value);const g=["dashboard","call-center","team-management","reports","branch-management","integrations","billing","notifications","audit-trail","developer-tools","vendor-management","warehousing","orders","expedition","seller-expenses","remittances"],k=K(()=>{console.log("userRoles.value:",N.value),console.log("userPermissions.value:",A.value),console.log("userPlan:",re),console.log("enabledFeatures:",g);const n=a.filteredNavItems(N.value,re,g,A.value);return console.log("Filtered nav items:",n),n}),P=R(!0),d=R(!1),x=()=>{d.value=!d.value},w=R([{id:1,text:"New support ticket opened",read:!1},{id:2,text:"Customer waiting for callback",read:!1},{id:3,text:"Weekly report ready",read:!0}]),O=()=>w.value.filter(n=>!n.read).length,y=R(!1),H=n=>{const s=w.value.find(p=>p.id===n);s&&(s.read=!0)},$=()=>{w.value.forEach(n=>n.read=!0)},z=n=>{se.put(route("current-team.update"),{team_id:n.id},{preserveState:!1})},Y=()=>{se.post(route("logout"))};return R([]),console.log("Initializing Africastalking..."),te(async()=>{await h.initializeAfricastalking(),console.log("Initialization complete")}),te(()=>{const n=localStorage.getItem("darkMode");n!==null&&(d.value=n==="true")}),Ie(d,n=>{localStorage.setItem("darkMode",n)}),(n,s)=>{const p=u("v-list-item-title"),L=u("v-list-item-subtitle"),E=u("v-list-item"),D=u("v-divider"),I=u("v-icon"),G=u("v-list-group"),V=u("v-list"),Z=u("v-img"),q=u("v-avatar"),ae=u("v-navigation-drawer"),le=u("v-app-bar-nav-icon"),ue=u("v-app-bar-title"),J=u("v-spacer"),b=u("v-btn"),de=u("v-badge"),ce=u("v-card-title"),pe=u("v-card"),W=u("v-menu"),j=u("v-list-subheader"),me=u("v-app-bar"),ee=u("v-container"),_e=u("v-main"),ge=u("v-footer"),ve=u("v-app");return l(),m(ve,{theme:d.value?"dark":"light"},{default:t(()=>[i(ae,{modelValue:P.value,"onUpdate:modelValue":s[0]||(s[0]=r=>P.value=r),app:"",permanent:"",rail:!P.value,width:"280"},{append:t(()=>[S("div",Ge,[i(E,null,{prepend:t(()=>[i(q,{size:"40"},{default:t(()=>{var r,T;return[i(Z,{src:((r=n.$page.props.auth.user)==null?void 0:r.profile_photo_url)||"https://cdn.vuetifyjs.com/images/lists/1.jpg",alt:((T=n.$page.props.auth.user)==null?void 0:T.name)||"User"},null,8,["src","alt"])]}),_:1})]),default:t(()=>[i(p,null,{default:t(()=>{var r;return[o(v(((r=n.$page.props.auth.user)==null?void 0:r.name)||"User"),1)]}),_:1}),i(L,null,{default:t(()=>{var r;return[o(v(((r=n.$page.props.auth.user)==null?void 0:r.email)||"user@example.com"),1)]}),_:1})]),_:1})])]),default:t(()=>[i(V,null,{default:t(()=>[i(E,{class:"px-2 py-4"},{prepend:t(()=>[i(ne,{height:"32"})]),default:t(()=>[i(p,{class:"text-h6"},{default:t(()=>s[3]||(s[3]=[o(" CRM ")])),_:1,__:[3]}),i(L,null,{default:t(()=>s[4]||(s[4]=[o(" We tailor your coat ")])),_:1,__:[4]})]),_:1}),i(D,{class:"my-2"}),(l(!0),C(M,null,U(k.value,r=>(l(),C(M,{key:r.title},[r.children&&r.children.length>0?(l(),m(G,{key:0},{activator:t(({props:T})=>[i(E,B({ref_for:!0},T,{active:n.route().current(r.route+"*"),class:"mb-1"}),{prepend:t(()=>[i(I,null,{default:t(()=>[o(v(r.icon),1)]),_:2},1024)]),default:t(()=>[i(p,null,{default:t(()=>[o(v(r.title),1)]),_:2},1024)]),_:2},1040,["active"])]),default:t(()=>[(l(!0),C(M,null,U(r.children,T=>(l(),m(X(Q),{key:T.title,href:n.route(T.route),class:"text-decoration-none","preserve-scroll":""},{default:t(()=>[i(E,{active:n.route().current(T.route),link:"",class:"ml-4"},{prepend:t(()=>[i(I,{size:"small"},{default:t(()=>[o(v(T.icon),1)]),_:2},1024)]),default:t(()=>[i(p,null,{default:t(()=>[o(v(T.title),1)]),_:2},1024)]),_:2},1032,["active"])]),_:2},1032,["href"]))),128))]),_:2},1024)):(l(),m(X(Q),{key:1,href:n.route(r.route),class:"text-decoration-none","preserve-scroll":""},{default:t(()=>[i(E,{active:n.route().current(r.route),link:"",class:"mb-1"},{prepend:t(()=>[i(I,null,{default:t(()=>[o(v(r.icon),1)]),_:2},1024)]),default:t(()=>[i(p,null,{default:t(()=>[o(v(r.title),1)]),_:2},1024)]),_:2},1032,["active"])]),_:2},1032,["href"]))],64))),128))]),_:1})]),_:1},8,["modelValue","rail"]),i(X(Te),{title:c.title},null,8,["title"]),i(Me),i(me,{app:"",flat:""},{default:t(()=>[i(le,{onClick:s[1]||(s[1]=r=>P.value=!P.value)}),i(ue,null,{default:t(()=>[i(X(Q),{href:n.route("dashboard"),class:"text-decoration-none text-primary"},{default:t(()=>[i(ne,{class:"mr-2",height:"32"}),o(" "+v(c.title),1)]),_:1},8,["href"])]),_:1}),i(J),i(b,{icon:"",onClick:x},{default:t(()=>[i(I,null,{default:t(()=>[o(v(d.value?"mdi-weather-sunny":"mdi-weather-night"),1)]),_:1})]),_:1}),i(W,{modelValue:y.value,"onUpdate:modelValue":s[2]||(s[2]=r=>y.value=r),"close-on-content-click":!1,"offset-y":""},{activator:t(({props:r})=>[i(b,B({icon:""},r,{class:"mx-2"}),{default:t(()=>[i(de,{content:O(),color:"error",value:O()},{default:t(()=>[i(I,null,{default:t(()=>s[5]||(s[5]=[o("mdi-bell")])),_:1,__:[5]})]),_:1},8,["content","value"])]),_:2},1040)]),default:t(()=>[i(pe,{"min-width":"300"},{default:t(()=>[i(ce,{class:"d-flex align-center"},{default:t(()=>[s[7]||(s[7]=o(" Notifications ")),i(J),O()?(l(),m(b,{key:0,variant:"text",size:"small",onClick:$},{default:t(()=>s[6]||(s[6]=[o(" Mark all as read ")])),_:1,__:[6]})):f("",!0)]),_:1,__:[7]}),i(D),i(V,null,{default:t(()=>[(l(!0),C(M,null,U(w.value,r=>(l(),m(E,{key:r.id,onClick:T=>H(r.id)},{append:t(()=>[r.read?f("",!0):(l(),m(I,{key:0,color:"primary",size:"small"},{default:t(()=>s[8]||(s[8]=[o("mdi-circle")])),_:1,__:[8]}))]),default:t(()=>[i(p,{class:F({"font-weight-bold":!r.read})},{default:t(()=>[o(v(r.text),1)]),_:2},1032,["class"])]),_:2},1032,["onClick"]))),128)),w.value.length?f("",!0):(l(),m(E,{key:0},{default:t(()=>[i(p,null,{default:t(()=>s[9]||(s[9]=[o("No notifications")])),_:1,__:[9]})]),_:1}))]),_:1})]),_:1})]),_:1},8,["modelValue"]),n.$page.props.jetstream.hasTeamFeatures?(l(),m(W,{key:0,"offset-y":""},{activator:t(({props:r})=>[i(b,B({variant:"text"},r),{default:t(()=>[o(v(n.$page.props.auth.user.current_team.name)+" ",1),i(I,{right:""},{default:t(()=>s[10]||(s[10]=[o("mdi-chevron-down")])),_:1,__:[10]})]),_:2},1040)]),default:t(()=>[i(V,null,{default:t(()=>[i(j,null,{default:t(()=>s[11]||(s[11]=[o("Manage Team")])),_:1,__:[11]}),i(E,{href:n.route("teams.show",n.$page.props.auth.user.current_team),link:""},{default:t(()=>[i(p,null,{default:t(()=>s[12]||(s[12]=[o("Team Settings")])),_:1,__:[12]})]),_:1},8,["href"]),n.$page.props.jetstream.canCreateTeams?(l(),m(E,{key:0,href:n.route("teams.create"),link:""},{default:t(()=>[i(p,null,{default:t(()=>s[13]||(s[13]=[o("Create New Team")])),_:1,__:[13]})]),_:1},8,["href"])):f("",!0),n.$page.props.auth.user.all_teams.length>1?(l(),m(D,{key:1})):f("",!0),n.$page.props.auth.user.all_teams.length>1?(l(),m(j,{key:2},{default:t(()=>s[14]||(s[14]=[o(" Switch Teams ")])),_:1,__:[14]})):f("",!0),(l(!0),C(M,null,U(n.$page.props.auth.user.all_teams,r=>(l(),m(E,{key:r.id,onClick:T=>z(r),link:""},{prepend:t(()=>[r.id==n.$page.props.auth.user.current_team_id?(l(),m(I,{key:0,color:"success"},{default:t(()=>s[15]||(s[15]=[o(" mdi-check-circle ")])),_:1,__:[15]})):f("",!0)]),default:t(()=>[i(p,null,{default:t(()=>[o(v(r.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):f("",!0),i(W,{"offset-y":""},{activator:t(({props:r})=>[i(b,B({variant:"text"},r,{class:"ml-2"}),{default:t(()=>[n.$page.props.jetstream.managesProfilePhotos?(l(),m(q,{key:0,size:"32",class:"mr-2"},{default:t(()=>[i(Z,{src:n.$page.props.auth.user.profile_photo_url,alt:n.$page.props.auth.user.name},null,8,["src","alt"])]),_:2},1024)):f("",!0),o(" "+v(n.$page.props.auth.user.name)+" ",1),i(I,{right:""},{default:t(()=>s[16]||(s[16]=[o("mdi-chevron-down")])),_:1,__:[16]})]),_:2},1040)]),default:t(()=>[i(V,null,{default:t(()=>[i(j,null,{default:t(()=>s[17]||(s[17]=[o("Manage Account")])),_:1,__:[17]}),i(E,{href:n.route("profile.show"),link:""},{default:t(()=>[i(p,null,{default:t(()=>s[18]||(s[18]=[o("Profile")])),_:1,__:[18]})]),_:1},8,["href"]),n.$page.props.jetstream.hasApiFeatures?(l(),m(E,{key:0,href:n.route("api-tokens.index"),link:""},{default:t(()=>[i(p,null,{default:t(()=>s[19]||(s[19]=[o("API Tokens")])),_:1,__:[19]})]),_:1},8,["href"])):f("",!0),i(D),i(E,{onClick:Y,link:""},{default:t(()=>[i(p,null,{default:t(()=>s[20]||(s[20]=[o("Log Out")])),_:1,__:[20]})]),_:1})]),_:1})]),_:1})]),_:1}),i(_e,null,{default:t(()=>[n.$slots.header?(l(),m(ee,{key:0,class:"py-6"},{default:t(()=>[ie(n.$slots,"header")]),_:3})):f("",!0),i(ee,{fluid:""},{default:t(()=>[ie(n.$slots,"default")]),_:3})]),_:3}),i(ge,{app:""},{default:t(()=>[S("div",Ve," Â© "+v(new Date().getFullYear())+" - CRM ",1)]),_:1}),i(Ae)]),_:3},8,["theme"])}}};export{He as _};
