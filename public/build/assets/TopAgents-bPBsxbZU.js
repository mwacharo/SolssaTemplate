import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{j as o,r as h,s as I,l as N,d as x,o as g,a as e,a2 as $,t as r,b as j,F as P,g as L,n as d,U as _}from"./app-B176KS28.js";const M={class:"bg-white p-6 rounded-2xl shadow-lg"},G={class:"flex items-center justify-between mb-6"},O={class:"flex items-center space-x-4"},V={class:"text-right"},E={class:"text-sm font-semibold text-blue-600"},H={class:"mb-6"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},Y={class:"flex items-center justify-between mb-3"},U={class:"flex items-center"},q={class:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center text-white font-semibold mr-3"},J={class:"font-medium text-gray-800"},K={class:"text-xs flex items-center space-x-2 text-gray-500"},Q={class:"px-2 py-0.5 bg-blue-50 text-blue-700 rounded-full font-medium"},X={class:"px-2 py-0.5 bg-red-50 text-red-700 rounded-full font-medium"},Z={class:"text-gray-500"},ee={class:"flex items-center"},te={class:"grid grid-cols-2 gap-4 mb-3"},se={class:"flex items-center"},ae={class:"text-lg font-bold text-blue-600"},re={class:"w-full bg-gray-200 rounded-full h-2 mt-1"},ie={class:"flex items-center"},ne={class:"text-lg font-bold text-green-600"},oe={class:"w-full bg-gray-200 rounded-full h-2 mt-1"},le={class:"flex justify-between text-sm"},de={class:"text-center"},ce={class:"font-semibold text-gray-800"},ue={class:"text-center"},me={class:"font-semibold text-gray-800"},ve={class:"text-center"},fe={class:"font-semibold text-gray-800"},xe={class:"bg-gray-50 rounded-lg p-4 mb-4"},ge={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},pe={class:"flex items-center text-sm"},ye={class:"text-gray-600"},be={class:"flex items-center text-sm"},he={class:"text-gray-600"},_e={class:"flex items-center text-sm"},Re={class:"text-gray-600"},we={class:"grid grid-cols-4 gap-4 pt-4 border-t border-gray-100"},Ce={class:"text-center"},Ae={class:"text-2xl font-bold text-blue-600"},Te={class:"text-center"},ke={class:"text-2xl font-bold text-green-600"},De={class:"text-center"},Se={class:"text-2xl font-bold text-gray-800"},ze={class:"text-center"},Be={class:"text-2xl font-bold text-purple-600"},Fe={__name:"TopAgents",props:{topAgents:{type:Array,default:()=>[]}},setup(R){const p=R,n=o(()=>p.topAgents.map(s=>({name:s.name,confirmationRate:s.SchedulingRate,deliveryRate:s.DeliveryRate,confirmationTrend:s.confirmationTrend||0,deliveryTrend:s.deliveryTrend||0,totalCalls:s.totalCalls||0,avgCallTime:s.avgCallTime||0,rating:s.rating||0,shift:s.shift||"N/A",experience:s.experience||"N/A",BuyoutRate:s.BuyoutRate,ReturnRate:s.ReturnRate})));o(()=>n.value.map(s=>s.name));const c=o(()=>n.value.map(s=>s.confirmationRate)),u=o(()=>n.value.map(s=>s.deliveryRate)),m=o(()=>c.value.length===0?0:Math.round(c.value.reduce((s,t)=>s+t,0)/c.value.length)),v=o(()=>u.value.length===0?0:Math.round(u.value.reduce((s,t)=>s+t,0)/u.value.length)),w=o(()=>Math.round((m.value+v.value)/2)),C=o(()=>n.value.length===0?0:n.value.reduce((s,t)=>s+t.totalCalls,0)),A=o(()=>n.value.length),y=o(()=>n.value.length===0?{name:"N/A",confirmationRate:0}:n.value.reduce((s,t)=>t.confirmationRate>s.confirmationRate?t:s)),T=o(()=>Math.round(m.value-v.value)),k=o(()=>n.value.filter(s=>s.confirmationTrend>0||s.deliveryTrend>0).length),D=s=>{const t=(s.confirmationRate+s.deliveryRate)/2;return t>=80?"ring-2 ring-green-200 bg-green-50":t>=70?"ring-2 ring-blue-200 bg-blue-50":t>=60?"ring-2 ring-yellow-200 bg-yellow-50":"ring-2 ring-red-200 bg-red-50"},S=s=>{const t=(s.confirmationRate+s.deliveryRate)/2;return t>=80?"bg-green-100 text-green-800":t>=70?"bg-blue-100 text-blue-800":t>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"},z=s=>{const t=(s.confirmationRate+s.deliveryRate)/2;return t>=80?"Excellent":t>=70?"Good":t>=60?"Average":"Needs Improvement"},f=h([{name:"Confirmation Rate",data:[]},{name:"Delivery Rate",data:[]}]),l=h({chart:{type:"bar",stacked:!1,toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150}}},plotOptions:{bar:{horizontal:!0,borderRadius:6,borderRadiusApplication:"end",barHeight:"65%",dataLabels:{position:"center"}}},dataLabels:{enabled:!0,formatter:s=>s+"%",style:{fontSize:"13px",fontFamily:"Inter, sans-serif",fontWeight:"600",colors:["#fff"]}},xaxis:{categories:[],title:{text:"Performance Rate (%)",style:{color:"#6b7280",fontSize:"12px",fontFamily:"Inter, sans-serif"}},max:100,labels:{style:{colors:"#6b7280",fontSize:"12px",fontFamily:"Inter, sans-serif"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{style:{colors:"#374151",fontSize:"13px",fontFamily:"Inter, sans-serif",fontWeight:"500"}}},colors:["#3b82f6","#10b981"],legend:{position:"top",horizontalAlign:"right",floating:!1,fontSize:"12px",fontFamily:"Inter, sans-serif",offsetY:-10,markers:{width:12,height:12,radius:2}},grid:{show:!0,borderColor:"#f3f4f6",strokeDashArray:0,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},tooltip:{enabled:!0,theme:"light",style:{fontSize:"12px",fontFamily:"Inter, sans-serif"},y:{formatter:function(s,{seriesIndex:t,dataPointIndex:i}){if(!n.value[i])return`${s}%`;const a=n.value[i];return`${s}% ${t===0?"confirmation":"delivery"} rate<br/>Calls: ${a.totalCalls}<br/>Rating: ${a.rating}⭐`}}},responsive:[{breakpoint:768,options:{plotOptions:{bar:{barHeight:"55%"}},legend:{position:"bottom",offsetY:10}}}]});return I(()=>p.topAgents,s=>{if(!s||s.length===0){f.value=[{name:"Confirmation Rate",data:[]},{name:"Delivery Rate",data:[]}],l.value={...l.value,xaxis:{...l.value.xaxis,categories:[]}};return}const t=s.map(i=>({name:i.name,confirmationRate:i.SchedulingRate||0,deliveryRate:i.DeliveryRate||0}));f.value=[{name:"Confirmation Rate",data:t.map(i=>i.confirmationRate)},{name:"Delivery Rate",data:t.map(i=>i.deliveryRate)}],l.value={...l.value,xaxis:{...l.value.xaxis,categories:t.map(i=>i.name)}}},{deep:!0,immediate:!0}),(s,t)=>{const i=N("apexchart");return g(),x("div",M,[e("div",G,[t[2]||(t[2]=e("div",null,[e("h3",{class:"text-lg font-semibold text-gray-800"}," Call Agents Performance "),e("p",{class:"text-sm text-gray-500 mt-1"}," Confirmation vs delivery success rates ")],-1)),e("div",O,[e("div",V,[t[0]||(t[0]=e("div",{class:"text-xs text-gray-500"},"Team Average",-1)),e("div",E,r(w.value)+"% ",1)]),t[1]||(t[1]=$('<div class="flex items-center space-x-3" data-v-1ad9fb51><div class="flex items-center text-xs text-gray-500" data-v-1ad9fb51><div class="w-3 h-3 bg-blue-500 rounded mr-2" data-v-1ad9fb51></div> Confirmation </div><div class="flex items-center text-xs text-gray-500" data-v-1ad9fb51><div class="w-3 h-3 bg-green-500 rounded mr-2" data-v-1ad9fb51></div> Delivery </div></div>',1))])]),e("div",H,[j(i,{type:"bar",height:"420",options:l.value,series:f.value},null,8,["options","series"])]),e("div",W,[(g(!0),x(P,null,L(n.value,(a,B)=>{var b;return g(),x("div",{key:a.name,class:d(["p-4 border border-gray-100 rounded-lg hover:shadow-md transition-all duration-200",D(a)])},[e("div",Y,[e("div",U,[e("div",q,r(((b=a.name.split(" ")[1])==null?void 0:b[0])||a.name[0]),1),e("div",null,[e("h4",J,r(a.name),1),e("p",K,[e("span",Q,r(a.BuyoutRate!==void 0?a.BuyoutRate+"%":"—"),1),t[3]||(t[3]=e("span",{class:"text-gray-400"},"/",-1)),e("span",X,r(a.ReturnRate!==void 0?a.ReturnRate+"%":"—"),1),t[4]||(t[4]=e("span",{class:"mx-1 text-gray-300"},"•",-1)),e("span",Z,r(a.experience||"N/A"),1)])])]),e("div",ee,[e("span",{class:d(["px-2 py-1 rounded-full text-xs font-medium",S(a)])},r(z(a)),3)])]),e("div",te,[e("div",null,[t[5]||(t[5]=e("div",{class:"text-xs text-gray-500 mb-1"}," Confirmation Rate ",-1)),e("div",se,[e("span",ae,r(a.confirmationRate)+"%",1),e("span",{class:d(["ml-1 text-xs",a.confirmationTrend>=0?"text-green-500":"text-red-500"])},r(a.confirmationTrend>0?"+":"")+r(a.confirmationTrend)+"% ",3)]),e("div",re,[e("div",{class:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:_({width:`${a.confirmationRate}%`})},null,4)])]),e("div",null,[t[6]||(t[6]=e("div",{class:"text-xs text-gray-500 mb-1"}," Delivery Rate ",-1)),e("div",ie,[e("span",ne,r(a.deliveryRate)+"%",1),e("span",{class:d(["ml-1 text-xs",a.deliveryTrend>=0?"text-green-500":"text-red-500"])},r(a.deliveryTrend>0?"+":"")+r(a.deliveryTrend)+"% ",3)]),e("div",oe,[e("div",{class:"bg-green-500 h-2 rounded-full transition-all duration-500",style:_({width:`${a.deliveryRate}%`})},null,4)])])]),e("div",le,[e("div",de,[e("div",ce,r(a.totalCalls),1),t[7]||(t[7]=e("div",{class:"text-xs text-gray-500"},"Total Calls",-1))]),e("div",ue,[e("div",me,r(a.avgCallTime)+"m ",1),t[8]||(t[8]=e("div",{class:"text-xs text-gray-500"},"Avg Call",-1))]),e("div",ve,[e("div",fe,r(a.rating)+"⭐ ",1),t[9]||(t[9]=e("div",{class:"text-xs text-gray-500"},"Rating",-1))])])],2)}),128))]),e("div",xe,[t[13]||(t[13]=e("h4",{class:"font-medium text-gray-800 mb-3"},"Performance Insights",-1)),e("div",ge,[e("div",pe,[t[10]||(t[10]=e("div",{class:"w-2 h-2 bg-green-500 rounded-full mr-2"},null,-1)),e("span",ye,r(y.value.name)+" leads with "+r(y.value.confirmationRate)+"% confirmation",1)]),e("div",be,[t[11]||(t[11]=e("div",{class:"w-2 h-2 bg-blue-500 rounded-full mr-2"},null,-1)),e("span",he,"Average conversion gap: "+r(T.value)+"%",1)]),e("div",_e,[t[12]||(t[12]=e("div",{class:"w-2 h-2 bg-yellow-500 rounded-full mr-2"},null,-1)),e("span",Re,r(k.value)+" agents showing improvement",1)])])]),e("div",we,[e("div",Ce,[e("div",Ae,r(m.value)+"% ",1),t[14]||(t[14]=e("div",{class:"text-xs text-gray-500 uppercase tracking-wide"}," Team Confirmation ",-1))]),e("div",Te,[e("div",ke,r(v.value)+"% ",1),t[15]||(t[15]=e("div",{class:"text-xs text-gray-500 uppercase tracking-wide"}," Team Delivery ",-1))]),e("div",De,[e("div",Se,r(C.value),1),t[16]||(t[16]=e("div",{class:"text-xs text-gray-500 uppercase tracking-wide"}," Total Calls ",-1))]),e("div",ze,[e("div",Be,r(A.value),1),t[17]||(t[17]=e("div",{class:"text-xs text-gray-500 uppercase tracking-wide"}," Active Agents ",-1))])])])}}},$e=F(Fe,[["__scopeId","data-v-1ad9fb51"]]);export{$e as default};
