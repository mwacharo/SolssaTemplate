import{r as A,P as j,j as k,l as w,c as z,o as n,w as y,b as c,a as e,d as r,e as u,u as l,t as v,f as d,n as g,A as T,B as O}from"./app-diD85dPQ.js";import{u as P}from"./orderStore-B6I5UEDq.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./toast-hcIKjFHK.js";const L={class:"dialog-header"},H={class:"flex items-center gap-3"},U={class:"header-icon"},S={key:0,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},N={key:1,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},F={key:2,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},E={key:3,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},I={class:"dialog-title"},Y=["disabled"],Z={class:"dialog-content"},q={key:0,class:"form-section"},G={class:"form-group"},J={class:"select-wrapper"},K={key:0,class:"error-message"},Q={key:1,class:"form-section"},R={class:"form-group"},W={class:"select-wrapper"},X={key:0,class:"error-message"},$={key:2,class:"form-section"},ee={class:"warning-card"},oe={class:"flex items-start gap-3"},se={class:"warning-text"},te={key:3,class:"form-section"},le={class:"form-grid"},ne={class:"form-group"},re={class:"select-wrapper"},ie={key:0,class:"error-message"},ae={class:"form-group"},de={class:"select-wrapper"},ue={class:"form-group"},ce={class:"select-wrapper"},ve={class:"form-group"},me={class:"dialog-footer"},pe={class:"action-buttons"},ke=["disabled"],ge=["disabled"],we={key:0,class:"flex items-center"},he={key:1,class:"flex items-center"},fe={key:0,class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ye={key:1,class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ce={__name:"BulkAction",setup(xe){const s=P(),i=A({}),t=j({deliveryPerson:"",callCentreAgent:"",status:"",notes:"",zone:"",city:""}),C=k(()=>s.cityOptions),x=k(()=>s.zoneOptions),_=k(()=>s.statusOptions);k(()=>s.agentOptions),k(()=>s.riderOptions);const h=()=>{t.deliveryPerson="",t.callCentreAgent="",t.status="",t.notes="",t.zone="",t.city="",i.value={}},b=()=>{i.value={};let m=!0;return s.dialogType==="assignDelivery"&&!t.deliveryPerson&&(i.value.deliveryPerson="Please select a delivery person",m=!1),s.dialogType==="assignCallCentre"&&!t.callCentreAgent&&(i.value.callCentreAgent="Please select a call centre agent",m=!1),s.dialogType==="status"&&!t.status&&(i.value.status="Please select a status",m=!1),m},f=()=>{s.closeBulkActionDialog(),h()};function B(){b()&&(s.handleBulkAction({type:s.dialogType,data:{...t},orders:s.selectedOrders}),h())}return(m,o)=>{const p=w("v-autocomplete"),M=w("v-card"),V=w("v-dialog");return n(),z(V,{modelValue:l(s).bulkActionDialog,"onUpdate:modelValue":o[6]||(o[6]=a=>l(s).bulkActionDialog=a),"max-width":"600px",persistent:"",class:"elevation-0"},{default:y(()=>[c(M,{class:"dialog-card overflow-hidden"},{default:y(()=>[e("div",L,[e("div",H,[e("div",U,[l(s).dialogType==="assignDelivery"?(n(),r("svg",S,o[7]||(o[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)]))):l(s).dialogType==="assignCallCentre"?(n(),r("svg",N,o[8]||(o[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"},null,-1)]))):l(s).dialogType==="delete"?(n(),r("svg",F,o[9]||(o[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)]))):l(s).dialogType==="status"?(n(),r("svg",E,o[10]||(o[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):u("",!0)]),e("div",null,[e("h2",I,v(l(s).dialogTitle),1)])]),e("button",{onClick:f,class:"close-button",disabled:l(s).loading.bulkAction},o[11]||(o[11]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Y)]),e("div",Z,[l(s).dialogType==="assignDelivery"?(n(),r("div",q,[e("div",G,[o[13]||(o[13]=e("label",{class:"form-label"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),d(" Delivery Person ")],-1)),e("div",J,[c(p,{modelValue:t.deliveryPerson,"onUpdate:modelValue":o[0]||(o[0]=a=>t.deliveryPerson=a),items:l(s).riderOptions,"item-title":"name","item-value":"id",class:g(["form-select",{error:i.value.deliveryPerson}]),placeholder:"Choose a delivery person...",clearable:"",dense:""},null,8,["modelValue","items","class"]),o[12]||(o[12]=e("div",{class:"select-arrow"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),i.value.deliveryPerson?(n(),r("p",K,v(i.value.deliveryPerson),1)):u("",!0)])])):u("",!0),l(s).dialogType==="assignCallCentre"?(n(),r("div",Q,[e("div",R,[o[15]||(o[15]=e("label",{class:"form-label"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})]),d(" Call Centre Agent ")],-1)),e("div",W,[c(p,{modelValue:t.callCentreAgent,"onUpdate:modelValue":o[1]||(o[1]=a=>t.callCentreAgent=a),items:l(s).agentOptions,"item-title":"name","item-value":"id",class:g(["form-select",{error:i.value.callCentreAgent}]),placeholder:"Choose an agent...",clearable:"",dense:""},null,8,["modelValue","items","class"]),o[14]||(o[14]=e("div",{class:"select-arrow"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),i.value.callCentreAgent?(n(),r("p",X,v(i.value.callCentreAgent),1)):u("",!0)])])):u("",!0),l(s).dialogType==="delete"?(n(),r("div",$,[e("div",ee,[e("div",oe,[o[19]||(o[19]=e("div",{class:"warning-icon"},[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",null,[o[18]||(o[18]=e("h3",{class:"warning-title"},"Confirm Deletion",-1)),e("p",se,[o[16]||(o[16]=d(" You are about to delete ")),e("strong",null,v(l(s).selectedOrder?1:0)+" order(s)",1),o[17]||(o[17]=d(". This action is permanent and cannot be undone. "))])])])])])):u("",!0),l(s).dialogType==="status"?(n(),r("div",te,[e("div",le,[e("div",ne,[o[21]||(o[21]=e("label",{class:"form-label"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),d(" Status ")],-1)),e("div",re,[c(p,{modelValue:t.status,"onUpdate:modelValue":o[2]||(o[2]=a=>t.status=a),items:_.value,"item-value":"id","item-title":"name",class:g(["form-select",{error:i.value.status}]),placeholder:"Select new status...",clearable:"",dense:""},null,8,["modelValue","items","class"]),o[20]||(o[20]=e("div",{class:"select-arrow"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),i.value.status?(n(),r("p",ie,v(i.value.status),1)):u("",!0)]),e("div",ae,[o[23]||(o[23]=e("label",{class:"form-label"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})]),d(" Zone ")],-1)),e("div",de,[c(p,{modelValue:t.zone,"onUpdate:modelValue":o[3]||(o[3]=a=>t.zone=a),items:x.value,"item-title":"name","item-value":"id",class:"form-select",placeholder:"Choose a zone...",clearable:"",dense:""},null,8,["modelValue","items"]),o[22]||(o[22]=e("div",{class:"select-arrow"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),e("div",ue,[o[25]||(o[25]=e("label",{class:"form-label"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})]),d(" City ")],-1)),e("div",ce,[c(p,{modelValue:t.city,"onUpdate:modelValue":o[4]||(o[4]=a=>t.city=a),items:C.value,"item-title":"name","item-value":"id",class:"form-select",placeholder:"Choose a city...",clearable:"",dense:""},null,8,["modelValue","items"]),o[24]||(o[24]=e("div",{class:"select-arrow"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])])]),e("div",ve,[o[26]||(o[26]=e("label",{class:"form-label"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]),d(" Notes (Optional) ")],-1)),T(e("textarea",{"onUpdate:modelValue":o[5]||(o[5]=a=>t.notes=a),class:"form-textarea",rows:"3",placeholder:"Add any additional notes for this status change..."},null,512),[[O,t.notes]])])])):u("",!0)]),e("div",me,[e("div",pe,[e("button",{onClick:f,class:"btn-cancel",disabled:l(s).loading.bulkAction},o[27]||(o[27]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),d(" Cancel ")]),8,ke),e("button",{onClick:B,class:g(["btn-confirm",{"btn-danger":l(s).dialogType==="delete"}]),disabled:l(s).loading.bulkAction},[l(s).loading.bulkAction?(n(),r("div",we,o[28]||(o[28]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),d(" Processing... ")]))):(n(),r("div",he,[l(s).dialogType==="delete"?(n(),r("svg",fe,o[29]||(o[29]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)]))):(n(),r("svg",ye,o[30]||(o[30]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))),d(" "+v(l(s).dialogType==="delete"?"Delete Orders":"Confirm Action"),1)]))],10,ge)])])]),_:1})]),_:1},8,["modelValue"])}}},Ve=D(Ce,[["__scopeId","data-v-0e2a8f66"]]);export{Ve as default};
