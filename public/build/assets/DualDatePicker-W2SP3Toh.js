import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as x,s as w,j as v,l as u,d as A,o as C,a as j,b as o,f as D,e as E,t as O,n as T,w as c,m as z}from"./app-CBv0IuCw.js";const I={key:0,class:"text-red-600 ml-1"},L={__name:"DualDatePicker",props:{modelValue:{type:Array,default:()=>[]},label:String,required:{type:Boolean,default:!1},placeholder:{type:String,default:"Select date range"},validateOnMount:{type:Boolean,default:!1}},emits:["update:modelValue","validation"],setup(p,{expose:q,emit:b}){var k;const l=p,f=b,m=x(!1),d=x(l.validateOnMount),t=x((k=l.modelValue)!=null&&k.length?[...l.modelValue]:[]);w(()=>l.modelValue,a=>{Array.isArray(a)?t.value=a.length?[...a]:[]:t.value=[]});const _=v(()=>l.required?Array.isArray(t.value)&&t.value.length===2:!0),y=v(()=>l.required&&d.value&&!_.value),S=v(()=>y.value?!t.value||t.value.length===0?"Date range is required":t.value.length===1?"Please select an end date":"":""),B=v(()=>l.required&&!_.value&&d.value?"text-red-600":"text-gray-700"),P=v(()=>{if(!Array.isArray(t.value)||t.value.length===0)return"";const e=[...t.value].sort((r,s)=>{const V=r instanceof Date?r:new Date(r),h=s instanceof Date?s:new Date(s);return V-h}).map(r=>(r instanceof Date?r:new Date(r)).toLocaleDateString("en-US",{month:"short",day:"2-digit",default:"Select date range",year:"numeric"})),[n,g]=e;return n&&g?`${n} → ${g}`:n?`${n} → ...`:""}),N=a=>{d.value=!0;let e=[];Array.isArray(a)?e=a:a&&(e=[a]),l.required&&e.length===1&&(e=[e[0],e[0]]),t.value=e,f("update:modelValue",e);const n=l.required?e.length===2:!0;f("validation",n),e.length>=2&&setTimeout(()=>{m.value=!1},300)},$=()=>{t.value=[],f("update:modelValue",[]),f("validation",!l.required)};return w(m,a=>{!a&&!d.value&&(d.value=!0)}),q({validate:()=>(d.value=!0,_.value),isValid:_}),(a,e)=>{const n=u("v-text-field"),g=u("v-date-picker"),r=u("v-spacer"),s=u("v-btn"),V=u("v-card-actions"),h=u("v-card"),M=u("v-menu");return C(),A("div",null,[j("label",{class:T(["block text-sm font-medium mb-1",B.value])},[D(O(p.label)+" ",1),p.required?(C(),A("span",I,"*")):E("",!0)],2),o(M,{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=i=>m.value=i),"close-on-content-click":!1,transition:"scale-transition",location:"bottom","max-width":"auto","min-width":"600px"},{activator:c(({props:i})=>[o(n,z(i,{"model-value":P.value,"prepend-inner-icon":"mdi-calendar",readonly:"",density:"compact",variant:"outlined",error:y.value,"error-messages":S.value,"hide-details":!y.value,placeholder:p.placeholder}),null,16,["model-value","error","error-messages","hide-details","placeholder"])]),default:c(()=>[o(h,null,{default:c(()=>[o(g,{modelValue:t.value,"onUpdate:modelValue":[e[0]||(e[0]=i=>t.value=i),N],multiple:2,"show-adjacent-months":"",color:"primary"},null,8,["modelValue"]),o(V,null,{default:c(()=>[o(r),o(s,{text:"",onClick:$},{default:c(()=>e[3]||(e[3]=[D("Clear")])),_:1,__:[3]}),o(s,{text:"",color:"primary",onClick:e[1]||(e[1]=i=>m.value=!1)},{default:c(()=>e[4]||(e[4]=[D("Close")])),_:1,__:[4]})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},H=U(L,[["__scopeId","data-v-c4f5a182"]]);export{H as D};
