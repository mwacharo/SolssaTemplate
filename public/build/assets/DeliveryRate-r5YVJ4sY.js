import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{j as l,r as f,s as p,l as z,d as S,o as j,a as e,t as n,n as C,b as P,a3 as h,V as y,f as A}from"./app-D54q1eq3.js";const N={class:"bg-white p-6 rounded-2xl shadow-lg"},B={class:"flex items-center justify-between mb-6"},V={class:"flex items-center space-x-4"},I={class:"text-right"},O={class:"text-sm font-semibold text-green-600"},F={class:"text-right"},$={class:"relative mb-6"},E={class:"absolute inset-0 flex items-center justify-center pointer-events-none"},H={class:"text-center"},Y={class:"text-3xl font-bold text-gray-800 mb-1"},G={class:"text-xs text-gray-400 mt-1"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},q={class:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200"},J={class:"flex items-end justify-between"},K={class:"text-2xl font-bold text-green-600"},Q={class:"text-sm text-green-600 font-medium"},U={class:"text-right"},X={class:"text-sm font-medium text-gray-700"},Z={class:"mt-3"},ee={class:"w-full bg-green-200 rounded-full h-2"},te={class:"p-4 bg-gradient-to-r from-red-50 to-pink-50 rounded-lg border border-red-200"},se={class:"flex items-end justify-between"},ie={class:"text-2xl font-bold text-red-600"},ne={class:"text-sm text-red-600 font-medium"},le={class:"text-right"},ae={class:"text-sm font-medium text-gray-700"},oe={class:"mt-3"},de={class:"w-full bg-red-200 rounded-full h-2"},re={class:"bg-gray-50 rounded-lg p-4 mb-4"},ve={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},ce={class:"flex items-center text-sm"},ue={class:"text-gray-600"},me={class:"flex items-center text-sm"},ge={class:"text-gray-600"},xe={class:"flex items-center text-sm"},fe={class:"text-gray-600"},pe={class:"grid grid-cols-4 gap-4 pt-4 border-t border-gray-100"},he={class:"text-center"},ye={class:"text-2xl font-bold text-green-600"},_e={class:"text-center"},be={class:"text-2xl font-bold text-blue-600"},Le={class:"text-center"},we={class:"text-2xl font-bold text-purple-600"},Te={class:"text-center"},Me={class:"text-2xl font-bold text-orange-600"},Re={__name:"DeliveryRate",props:{deliveryRate:{type:Object,default:()=>({})},period:{type:String,default:"This Month"}},setup(_){const a=_,b={live:{count:320,avgTime:25,trend:5},nonLive:{count:180,avgTime:45,trend:-2},target:400,insights:{bestPeriod:"Morning hours",improvement:8}},o=l(()=>a.deliveryRate&&Object.keys(a.deliveryRate).length>0?{live:{count:a.deliveryRate.live||0,avgTime:25,trend:5},nonLive:{count:a.deliveryRate.non_live||0,avgTime:45,trend:-2},target:a.deliveryRate.total||400,delivered:a.deliveryRate.delivered||0,rate:a.deliveryRate.rate||0,insights:{bestPeriod:"Morning hours",improvement:Math.max(0,95-(a.deliveryRate.rate||0))}}:b),s=l(()=>{const i=o.value.live.count,t=o.value.nonLive.count,d=i+t;return{live:{count:i,percentage:Math.round(i/d*100),avgTime:o.value.live.avgTime,trend:o.value.live.trend||0},nonLive:{count:t,percentage:Math.round(t/d*100),avgTime:o.value.nonLive.avgTime,trend:o.value.nonLive.trend||0}}}),g=l(()=>s.value.live.count+s.value.nonLive.count),r=l(()=>s.value.live.percentage),L=l(()=>a.period),v=l(()=>Math.round((s.value.live.trend+Math.abs(s.value.nonLive.trend))/2)),w=l(()=>v.value>=0?"text-green-600":"text-red-600"),x=l(()=>Math.round((s.value.live.avgTime+s.value.nonLive.avgTime)/2)),T=l(()=>Math.round(g.value/30)),M=l(()=>Math.round(s.value.live.count/(o.value.target||400)*100)),c=l(()=>{var i,t;return{bestPeriod:((i=o.value.insights)==null?void 0:i.bestPeriod)||"Morning hours",avgDeliveryTime:x.value,improvement:((t=o.value.insights)==null?void 0:t.improvement)||Math.max(0,90-r.value)}}),u=f([s.value.live.count,s.value.nonLive.count]),R=f({labels:["Live Deliveries","Non-Live Deliveries"],colors:["#10b981","#ef4444"],legend:{position:"bottom",fontSize:"13px",fontFamily:"Inter, sans-serif",offsetY:10,markers:{width:12,height:12,radius:6},itemMargin:{horizontal:15,vertical:5}},dataLabels:{enabled:!0,formatter:i=>i.toFixed(1)+"%",style:{fontSize:"14px",fontFamily:"Inter, sans-serif",fontWeight:"600",colors:["#fff"]},dropShadow:{enabled:!1}},plotOptions:{pie:{donut:{size:"70%",labels:{show:!1}}}},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},tooltip:{enabled:!0,theme:"light",style:{fontSize:"12px",fontFamily:"Inter, sans-serif"},y:{formatter:function(i,{seriesIndex:t}){const d=t===0?"live":"nonLive",m=s.value[d].avgTime;return`${i} deliveries<br/>Avg Time: ${m} min`}}},stroke:{width:2,colors:["#fff"]},states:{hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.1}}},responsive:[{breakpoint:480,options:{chart:{height:280},legend:{position:"bottom",offsetY:0}}}]});return p(()=>a.data,i=>{var t,d;if(Object.keys(i).length>0){const m=((t=i.live)==null?void 0:t.count)||0,D=((d=i.nonLive)==null?void 0:d.count)||0;u.value=[m,D]}},{deep:!0}),p(s,i=>{u.value=[i.live.count,i.nonLive.count]},{immediate:!0}),(i,t)=>{const d=z("apexchart");return j(),S("div",N,[e("div",B,[t[2]||(t[2]=e("div",null,[e("h3",{class:"text-lg font-semibold text-gray-800"}," Delivery Rate "),e("p",{class:"text-sm text-gray-500 mt-1"}," Live vs Non-Live delivery performance ")],-1)),e("div",V,[e("div",I,[t[0]||(t[0]=e("div",{class:"text-xs text-gray-500"},"Success Rate",-1)),e("div",O,n(r.value)+"% ",1)]),e("div",F,[t[1]||(t[1]=e("div",{class:"text-xs text-gray-500"},"Trend",-1)),e("div",{class:C(["text-sm font-semibold",w.value])},n(v.value>0?"+":"")+n(v.value)+"% ",3)])])]),e("div",$,[P(d,{type:"donut",height:"320",options:R.value,series:u.value},null,8,["options","series"]),e("div",E,[e("div",H,[e("div",Y,n(g.value),1),t[3]||(t[3]=e("div",{class:"text-sm text-gray-500"},"Total Deliveries",-1)),e("div",G,n(L.value),1)])])]),e("div",W,[e("div",q,[t[5]||(t[5]=h('<div class="flex items-center justify-between mb-3" data-v-1783d237><div class="flex items-center" data-v-1783d237><div class="w-4 h-4 bg-green-500 rounded-full mr-3" data-v-1783d237></div><span class="font-medium text-gray-800" data-v-1783d237>Live Deliveries</span></div><div class="flex items-center text-green-600" data-v-1783d237><svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" data-v-1783d237><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-1783d237></path></svg><span class="text-xs font-medium" data-v-1783d237>Active</span></div></div>',1)),e("div",J,[e("div",null,[e("div",K,n(s.value.live.count),1),e("div",Q,n(s.value.live.percentage)+"% ",1)]),e("div",U,[t[4]||(t[4]=e("div",{class:"text-xs text-gray-500"},"Avg Time",-1)),e("div",X,n(s.value.live.avgTime)+"min ",1)])]),e("div",Z,[e("div",ee,[e("div",{class:"bg-green-500 h-2 rounded-full transition-all duration-700",style:y({width:`${s.value.live.percentage}%`})},null,4)])])]),e("div",te,[t[7]||(t[7]=h('<div class="flex items-center justify-between mb-3" data-v-1783d237><div class="flex items-center" data-v-1783d237><div class="w-4 h-4 bg-red-500 rounded-full mr-3" data-v-1783d237></div><span class="font-medium text-gray-800" data-v-1783d237>Non-Live Deliveries</span></div><div class="flex items-center text-red-600" data-v-1783d237><svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" data-v-1783d237><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" data-v-1783d237></path></svg><span class="text-xs font-medium" data-v-1783d237>Delayed</span></div></div>',1)),e("div",se,[e("div",null,[e("div",ie,n(s.value.nonLive.count),1),e("div",ne,n(s.value.nonLive.percentage)+"% ",1)]),e("div",le,[t[6]||(t[6]=e("div",{class:"text-xs text-gray-500"},"Avg Time",-1)),e("div",ae,n(s.value.nonLive.avgTime)+"min ",1)])]),e("div",oe,[e("div",de,[e("div",{class:"bg-red-500 h-2 rounded-full transition-all duration-700",style:y({width:`${s.value.nonLive.percentage}%`})},null,4)])])])]),e("div",re,[t[11]||(t[11]=e("h4",{class:"font-medium text-gray-800 mb-3 flex items-center"},[e("svg",{class:"w-4 h-4 mr-2 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenoever"})]),A(" Performance Insights ")],-1)),e("div",ve,[e("div",ce,[t[8]||(t[8]=e("div",{class:"w-2 h-2 bg-green-500 rounded-full mr-2"},null,-1)),e("span",ue,n(c.value.bestPeriod)+" shows highest live delivery rate",1)]),e("div",me,[t[9]||(t[9]=e("div",{class:"w-2 h-2 bg-blue-500 rounded-full mr-2"},null,-1)),e("span",ge,"Average delivery time: "+n(c.value.avgDeliveryTime)+" minutes",1)]),e("div",xe,[t[10]||(t[10]=e("div",{class:"w-2 h-2 bg-yellow-500 rounded-full mr-2"},null,-1)),e("span",fe,n(c.value.improvement)+"% improvement needed to reach target",1)])])]),e("div",pe,[e("div",he,[e("div",ye,n(r.value)+"% ",1),t[12]||(t[12]=e("div",{class:"text-xs text-gray-500 uppercase tracking-wide"}," Success Rate ",-1))]),e("div",_e,[e("div",be,n(x.value)+"min ",1),t[13]||(t[13]=e("div",{class:"text-xs text-gray-500 uppercase tracking-wide"}," Avg Time ",-1))]),e("div",Le,[e("div",we,n(T.value),1),t[14]||(t[14]=e("div",{class:"text-xs text-gray-500 uppercase tracking-wide"}," Daily Rate ",-1))]),e("div",Te,[e("div",Me,n(M.value)+"% ",1),t[15]||(t[15]=e("div",{class:"text-xs text-gray-500 uppercase tracking-wide"}," Efficiency ",-1))])])])}}},ze=k(Re,[["__scopeId","data-v-1783d237"]]);export{ze as default};
