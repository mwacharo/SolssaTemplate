import{E as ft,r as m,j as N,Q as yt,s as gt,l as d,c as Y,o as f,w as l,b as t,a as i,f as s,t as v,d as k,e as A,u as H,F as me,g as ce,p as Xe,q as et}from"./app-B3m2H2vJ.js";import{u as bt}from"./orderStore-DXaRNBXZ.js";import{u as Ct}from"./callCenter-Cq0O88py.js";import{u as wt}from"./whatsappStore-5vRiRODO.js";import{_ as St}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Vt=ft("callCentreDialler",()=>{const S=m(null),X=m(!1),U=m("call"),c=m({active:!1,calling:!1,muted:!1,onHold:!1,duration:0,startTime:null,recordCall:!0,autoLog:!0}),ee=m([]),K=m(null),y=m({type:"whatsapp",selectedTemplate:null,sending:!1,content:"",subject:"",attachments:[]}),G=m([{id:1,name:"Order Confirmation",description:"Confirm order details",content:"Dear {customer_name}, your order #{order_no} has been confirmed and will be delivered on {delivery_date}.",type:"all"},{id:2,name:"Delivery Update",description:"Update on delivery status",content:"Hi {customer_name}, your order #{order_no} is out for delivery and will arrive on {delivery_date}.",type:"all"},{id:3,name:"Payment Reminder",description:"Remind about pending payment",content:"Hello {customer_name}, please complete payment of KSH {total_price} for order #{order_no}. Thank you!",type:"all"},{id:4,name:"Order Cancellation",description:"Notify order cancellation",content:"Dear {customer_name}, we regret to inform you that order #{order_no} has been cancelled. Please contact us for more details.",type:"all"},{id:5,name:"Feedback Request",description:"Request customer feedback",content:"Hi {customer_name}, thank you for your order #{order_no}. We would love to hear your feedback!",type:"all"}]),P=m({updating:!1,formData:{status_id:null,status_category_id:null,status_notes:"",recall_date:null,notifyCustomer:!0,notificationMethod:"sms"}}),j=m([{id:1,name:"Pending",color:"orange",description:"Order awaiting confirmation"},{id:2,name:"Confirmed",color:"green",description:"Order confirmed by customer"},{id:3,name:"Processing",color:"blue",description:"Order being prepared"},{id:4,name:"Shipped",color:"purple",description:"Order dispatched for delivery"},{id:5,name:"Delivered",color:"teal",description:"Order delivered to customer"},{id:6,name:"Follow Up",color:"amber",description:"Requires follow up"},{id:7,name:"Cancelled",color:"red",description:"Order cancelled"},{id:8,name:"On Hold",color:"grey",description:"Order temporarily on hold"}]),te=m([{id:1,name:"Standard",status_id:1,description:"Standard processing"},{id:2,name:"Expedited",status_id:2,description:"Fast-track processing"},{id:3,name:"Follow Up",status_id:6,description:"Requires callback",requiresRecall:!0},{id:4,name:"Customer Request",status_id:8,description:"Customer requested hold"},{id:5,name:"Payment Issue",status_id:6,description:"Payment verification needed",requiresRecall:!0}]),le=m([]),z=m({saving:!1,formData:{type:"General",content:"",pinned:!1}}),_=m([{value:"General",text:"General Note",color:"blue-grey"},{value:"Call Summary",text:"Call Summary",color:"blue"},{value:"Customer Request",text:"Customer Request",color:"purple"},{value:"Issue",text:"Issue/Problem",color:"red"},{value:"Follow Up",text:"Follow Up Required",color:"orange"},{value:"Payment",text:"Payment Related",color:"green"}]),w=m([]),$=m([]),M=m({order:!1,statuses:!1,notes:!1}),I=N(()=>S.value?S.value.customer||S.value.customer_address||S.value.shipping_address||{}:null),Q=N(()=>P.value.formData.status_id?te.value.filter(n=>n.status_id===P.value.formData.status_id):[]),L=N(()=>{const n=te.value.find(u=>u.id===P.value.formData.status_category_id);return(n==null?void 0:n.requiresRecall)||!1}),R=N(()=>{const n=c.value.duration,u=Math.floor(n/60),a=n%60;return`${String(u).padStart(2,"0")}:${String(a).padStart(2,"0")}`}),Oe=N(()=>w.value.filter(n=>n.pinned)),ae=N(()=>w.value.filter(n=>!n.pinned)),V=(n,u=null)=>{console.log("Opening call dialog for phone number:",n),u&&(S.value=u),X.value=!0};function oe(){X.value=!1,U.value="call",Z(),c.value.active&&_e()}function p(n){U.value=n}function ne(){var n;if(!((n=I.value)!=null&&n.phone)){g("No phone number available","error");return}c.value.calling=!0,setTimeout(()=>{c.value.calling=!1,c.value.active=!0,c.value.startTime=Date.now(),T(),g("Call connected successfully","success")},2e3)}function T(){K.value=setInterval(()=>{c.value.active&&c.value.duration++},1e3)}function E(){K.value&&(clearInterval(K.value),K.value=null)}function ve(){c.value.muted=!c.value.muted,g(c.value.muted?"Microphone muted":"Microphone unmuted","info")}function pe(){c.value.onHold=!c.value.onHold,g(c.value.onHold?"Call on hold":"Call resumed","info")}function _e(){var u,a,e;const n=c.value.duration;ee.value.unshift({id:Date.now(),order_id:(u=S.value)==null?void 0:u.id,customer_name:(a=I.value)==null?void 0:a.full_name,phone:(e=I.value)==null?void 0:e.phone,type:"outgoing",duration:R.value,timestamp:new Date().toISOString(),recorded:c.value.recordCall,notes:c.value.autoLog?"Auto-logged call":null}),c.value.active=!1,c.value.calling=!1,c.value.muted=!1,c.value.onHold=!1,c.value.duration=0,c.value.startTime=null,E(),g("Call ended","info"),c.value.autoLog&&fe(n)}async function fe(n){const u={id:Date.now(),type:"Call Summary",content:`Called customer. Duration: ${He(n)}. ${c.value.recordCall?"Call was recorded.":""}`,pinned:!1,created_at:new Date().toISOString(),user_name:"Current User",auto_generated:!0};w.value.unshift(u)}function se(n){y.value.type=n,y.value.attachments=[]}function ye(n){const u=G.value.find(a=>a.id===n);u&&(y.value.content=ge(u.content),y.value.type==="email"&&(y.value.subject=u.name),y.value.selectedTemplate=n)}function ge(n){return!S.value||!I.value?n:n.replace(/{customer_name}/g,I.value.full_name||"Customer").replace(/{order_no}/g,S.value.order_no||"N/A").replace(/{delivery_date}/g,Ve(S.value.delivery_date)||"N/A").replace(/{total_price}/g,S.value.total_price||"0.00")}function he(n){y.value.content+=n}function Ne(n){y.value.attachments.push(n)}function be(n){y.value.attachments.splice(n,1)}async function Pe(){var n;if(!y.value.content.trim())return g("Please enter a message","error"),!1;y.value.sending=!0;try{await new Promise(a=>setTimeout(a,1500));const u={id:Date.now(),order_id:(n=S.value)==null?void 0:n.id,type:y.value.type,content:y.value.content,subject:y.value.subject,sent_at:new Date().toISOString(),status:"sent"};return g(`${y.value.type.toUpperCase()} sent successfully`,"success"),Ce(),!0}catch{return g("Failed to send message","error"),!1}finally{y.value.sending=!1}}async function ze(){var u;const n=P.value.formData;if(!n.status_id||!n.status_notes)return g("Please fill in all required fields","error"),!1;if(L.value&&!n.recall_date)return g("Recall date is required for this status","error"),!1;P.value.updating=!0;try{await new Promise(r=>setTimeout(r,1500));const a=j.value.find(r=>r.id===n.status_id),e={id:Date.now(),order_id:(u=S.value)==null?void 0:u.id,status_id:n.status_id,status_name:a.name,status_category_id:n.status_category_id,notes:n.status_notes,recall_date:n.recall_date,created_at:new Date().toISOString(),user:"Current User",color:a.color};return le.value.unshift(e),S.value&&(S.value.status=a.name,S.value.latest_status=e),g("Status updated successfully","success"),n.notifyCustomer&&await re(n.notificationMethod,e),we(),!0}catch{return g("Failed to update status","error"),!1}finally{P.value.updating=!1}}async function re(n,u){console.log(`Sending ${n} notification for status update:`,u)}async function Me(){var u;const n=z.value.formData;if(!n.content.trim())return g("Please enter note content","error"),!1;z.value.saving=!0;try{await new Promise(e=>setTimeout(e,1e3));const a={id:Date.now(),order_id:(u=S.value)==null?void 0:u.id,type:n.type,content:n.content,pinned:n.pinned,created_at:new Date().toISOString(),user_name:"Current User"};return w.value.unshift(a),g("Note saved successfully","success"),Se(),!0}catch{return g("Failed to save note","error"),!1}finally{z.value.saving=!1}}async function x(n){const u=w.value.findIndex(a=>a.id===n);u!==-1&&(w.value.splice(u,1),g("Note deleted","success"))}async function Ie(n){const u=w.value.find(a=>a.id===n);u&&(u.pinned=!u.pinned,g(u.pinned?"Note pinned":"Note unpinned","success"))}async function Fe(n){M.value.order=!0;try{await qe(n),await Ae(n),await $e(n)}catch(u){console.error("Error loading order data:",u),g("Failed to load order data","error")}finally{M.value.order=!1}}async function qe(n){M.value.statuses=!0;try{await new Promise(u=>setTimeout(u,500)),le.value=[{id:1,status_name:"Order Placed",notes:"Customer placed order online",created_at:new Date(Date.now()-864e5).toISOString(),user:"System",color:"blue"},{id:2,status_name:"Payment Confirmed",notes:"Payment received via M-Pesa",created_at:new Date(Date.now()-828e5).toISOString(),user:"John Doe",color:"green"}]}finally{M.value.statuses=!1}}async function Ae(n){M.value.notes=!0;try{await new Promise(u=>setTimeout(u,500)),w.value=[{id:1,type:"Call Summary",content:"Customer called to confirm delivery address. Updated address in system.",pinned:!0,created_at:new Date(Date.now()-36e5).toISOString(),user_name:"Jane Smith"},{id:2,type:"General",content:"Customer prefers morning deliveries between 8-10 AM.",pinned:!1,created_at:new Date(Date.now()-18e5).toISOString(),user_name:"Jane Smith"}]}finally{M.value.notes=!1}}async function $e(n){await new Promise(u=>setTimeout(u,500)),ee.value=[{id:1,type:"outgoing",duration:"5:23",timestamp:new Date(Date.now()-72e5).toISOString()},{id:2,type:"incoming",duration:"3:45",timestamp:new Date(Date.now()-864e5).toISOString()}]}function Z(){Ce(),we(),Se()}function Ce(){y.value.content="",y.value.subject="",y.value.attachments=[],y.value.selectedTemplate=null}function we(){P.value.formData={status_id:null,status_category_id:null,status_notes:"",recall_date:null,notifyCustomer:!0,notificationMethod:"sms"}}function Se(){z.value.formData={type:"General",content:"",pinned:!1}}function g(n,u="info"){const a={id:Date.now(),message:n,type:u,timestamp:new Date().toISOString()};$.value.push(a),setTimeout(()=>{const e=$.value.findIndex(r=>r.id===a.id);e!==-1&&$.value.splice(e,1)},5e3)}function Ve(n){return n?new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""}function Re(n){return n?new Date(n).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}function He(n){const u=Math.floor(n/60),a=n%60;return`${u}m ${a}s`}return{activeOrder:S,dialogOpen:X,activeTab:U,callState:c,callHistory:ee,messageState:y,messageTemplates:G,statusState:P,statusOptions:j,statusCategories:te,statusHistory:le,notesState:z,noteTypes:_,notes:w,notifications:$,loading:M,customer:I,filteredStatusCategories:Q,shouldShowRecallDate:L,formattedCallDuration:R,pinnedNotes:Oe,unpinnedNotes:ae,openDialog:V,closeDialog:oe,setActiveTab:p,initiateCall:ne,toggleMute:ve,holdCall:pe,endCall:_e,setMessageType:se,loadTemplate:ye,insertVariable:he,addAttachment:Ne,removeAttachment:be,sendMessage:Pe,updateOrderStatus:ze,saveNote:Me,deleteNote:x,toggleNotePin:Ie,loadOrderData:Fe,addNotification:g,formatDate:Ve,formatDateTime:Re,replaceVariables:ge}}),xt={class:"d-flex align-center w-100"},kt={class:"flex-grow-1"},Dt={class:"text-caption text-grey-lighten-1"},Ut={class:"pa-4"},Tt={class:"info-row"},Ot={class:"font-weight-medium"},ht={class:"info-row"},Nt={key:0,class:"info-row"},Pt={class:"text-truncate"},zt={key:1,class:"info-row"},Mt={class:"text-truncate"},It={key:2,class:"info-row"},Ft={class:"text-truncate"},qt={class:"mb-6"},At={class:"text-subtitle-1 font-weight-medium mb-3 text-primary"},$t={class:"mt-4"},Rt={key:0,class:"text-center"},Ht={key:1,class:"call-controls text-center"},jt={class:"call-status mb-4"},Gt={class:"text-caption text-grey"},Lt={class:"d-flex justify-center gap-3"},Et={class:"mb-3"},Jt={key:1,class:"mb-3"},Bt={key:0,class:"mt-2"},Wt={class:"preview-content"},Qt={class:"text-body-2"},Yt={key:0,class:"text-caption"},Kt={key:0,class:"ml-8 mb-3"},Zt={class:"text-subtitle-1 font-weight-medium mb-3"},Xt={class:"text-body-2 font-weight-medium"},el={class:"text-caption text-grey"},tl={class:"text-caption text-grey"},ll={key:0},al={class:"d-flex align-center mb-2"},ol={class:"text-caption text-grey"},nl={class:"text-body-2"},sl={class:"text-caption text-grey mt-2"},rl={__name:"CallCentreDialler",props:{modelValue:Boolean,order:Object},emits:["update:modelValue","status-updated","note-added"],setup(S,{emit:X}){const U=S,c=X,ee={required:a=>!!a||"This field is required",phone:a=>a?/^[\d\s\-\+\(\)]+$/.test(a)||"Invalid phone number format":!0},K=N({get:()=>U.modelValue,set:a=>c("update:modelValue",a)}),y=Vt(),G=bt(),P=Ct(),j=wt(),te=N({get:()=>U.modelValue,set:a=>c("update:modelValue",a)}),le=a=>{c("update:modelValue",a),a||y.closeDialog()},z=m("call"),_=yt(U,"order"),w=N(()=>{var a,e,r;return((a=U.order)==null?void 0:a.customer)||((e=U.order)==null?void 0:e.customer_address)||((r=U.order)==null?void 0:r.shipping_address)||{}}),$=m(!1),M=m(!1),I=m("00:00"),Q=m(!1),L=m({phone:"",recordCall:!0,autoLog:!0}),R=m("whatsapp"),Oe=m(null),ae=m(!1),V=m({subject:"",content:"",attachments:[]}),oe=m(!1),p=m({status_id:null,status_category_id:null,status_notes:"",recall_date:"",notifyCustomer:!0,notificationMethod:"sms"}),ne=m(!1),T=m({type:"General",content:"",pinned:!1}),E=m({show:!1,message:"",color:"success"}),ve=()=>!_.value.order_items||_.value.order_items.length===0?"0.00":_.value.order_items.reduce((e,r)=>e+Number(r.quantity)*Number(r.unit_price),0).toFixed(2),pe=m([]),_e=m(["General","Call Summary","Customer Request","Issue","Follow Up"]),fe=m([{id:1,type:"outgoing",duration:"5:23",timestamp:"2 hours ago"},{id:2,type:"incoming",duration:"3:45",timestamp:"Yesterday"}]),se=m([{status_name:"Order Placed",notes:"Customer placed order online",created_at:"2024-01-15T10:30:00",user:"System",color:"blue"},{status_name:"Payment Confirmed",notes:"Payment received via M-Pesa",created_at:"2024-01-15T10:35:00",user:"John Doe",color:"green"}]),ye=m([{id:1,type:"Call Summary",content:"Customer called to confirm delivery address. Updated address in system.",pinned:!0,created_at:"2024-01-15T14:20:00",user_name:"Jane Smith"},{id:2,type:"General",content:"Customer prefers morning deliveries between 8-10 AM.",pinned:!1,created_at:"2024-01-15T14:25:00",user_name:"Jane Smith"}]),ge=N(()=>p.value.status_id?pe.value.filter(a=>a.status_id===p.value.status_id):[]),he=N(()=>{const a=pe.value.find(e=>e.id===p.value.status_category_id);return(a==null?void 0:a.name)==="Follow Up"}),Ne=N(()=>{var e,r,h;let a=V.value.content||"Your message will appear here...";return a=a.replace("{customer_name}",w.value.full_name||"Customer"),a=a.replace("{order_no}",((e=U.order)==null?void 0:e.order_no)||"N/A"),a=a.replace("{delivery_date}",ze((r=U.order)==null?void 0:r.delivery_date)||"N/A"),a=a.replace("{total_price}",((h=U.order)==null?void 0:h.total_price)||"0.00"),a});gt(()=>U.order,a=>{a&&(L.value.phone=w.value.phone||"",a.order_statuses&&a.order_statuses.length>0&&(se.value=a.order_statuses.map(e=>{var r,h,O;return{status_name:((r=e.status)==null?void 0:r.name)||"Unknown",notes:e.status_notes||"No notes",created_at:e.created_at,user:((h=e.user)==null?void 0:h.name)||"System",color:be((O=e.status)==null?void 0:O.name)}})))},{immediate:!0,deep:!0});const be=a=>({Pending:"orange",Confirmed:"green",Processing:"blue",Shipped:"purple",Delivered:"teal",Cancelled:"red","Follow Up":"amber"})[a]||"grey",Pe=a=>({General:"blue-grey","Call Summary":"blue","Customer Request":"purple",Issue:"red","Follow Up":"orange"})[a]||"grey",ze=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",re=a=>a?new Date(a).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",Me=async a=>{try{await navigator.clipboard.writeText(a),x("Phone number copied to clipboard","success")}catch{x("Failed to copy","error")}},x=(a,e="success")=>{E.value={show:!0,message:a,color:e}},Ie=()=>{M.value=!0,P.callClient(L.phone),setTimeout(()=>{M.value=!1,$.value=!0,Fe(),x("Call connected","success")},2e3)},Fe=()=>{let a=0;const e=setInterval(()=>{if(!$.value){clearInterval(e);return}a++;const r=Math.floor(a/60),h=a%60;I.value=`${String(r).padStart(2,"0")}:${String(h).padStart(2,"0")}`},1e3)},qe=()=>{Q.value=!Q.value,x(Q.value?"Microphone muted":"Microphone unmuted","info")},Ae=()=>{x("Call on hold","info")},$e=()=>{$.value=!1,P.hangupCall(),I.value="00:00",x("Call ended","info"),fe.value.unshift({id:Date.now(),type:"outgoing",duration:I.value,timestamp:"Just now"})},Z=a=>{const e=document.querySelector("textarea");if(e){const r=e.selectionStart,h=e.selectionEnd,O=V.value.content;V.value.content=O.substring(0,r)+a+O.substring(h)}else V.value.content+=a},Ce=a=>{const e=Array.from(a.target.files);V.value.attachments.push(...e)},we=a=>{V.value.attachments.splice(a,1)},Se=async()=>{if(!V.value.content.trim()){x("Please enter a message","error");return}ae.value=!0,setTimeout(()=>{ae.value=!1,x(`${R.value.toUpperCase()} sent successfully`,"success"),V.value={subject:"",content:"",attachments:[]},Oe.value=null},1500)},g=async()=>{if(!p.value.status_id||!p.value.status_notes){x("Please fill in all required fields","error");return}oe.value=!0,setTimeout(()=>{oe.value=!1,x("Status updated successfully","success");const a=statusOptions.value.find(e=>e.id===p.value.status_id);se.value.unshift({status_name:a.name,notes:p.value.status_notes,created_at:new Date().toISOString(),user:"Current User",color:a.color}),c("status-updated",p.value),p.value={status_id:null,status_category_id:null,status_notes:"",recall_date:"",notifyCustomer:!0,notificationMethod:"sms"}},1500)},Ve=async()=>{if(!T.value.content.trim()){x("Please enter note content","error");return}ne.value=!0,setTimeout(()=>{ne.value=!1;const a={id:Date.now(),type:T.value.type,content:T.value.content,pinned:T.value.pinned,created_at:new Date().toISOString(),user_name:"Current User"};ye.value.unshift(a),x("Note saved successfully","success"),c("note-added",a),T.value={type:"General",content:"",pinned:!1}},1e3)},Re=()=>{x("Opening order history...","info")},He=()=>{x("Opening customer orders...","info")},n=()=>{x("Order marked as complete","success"),u(),G.updateOrder(_)},u=()=>{K.value=!1,z.value="call",$.value=!1,V.value={subject:"",content:"",attachments:[]},p.value={status_id:null,status_category_id:null,status_notes:"",recall_date:"",notifyCustomer:!0,notificationMethod:"sms"},T.value={type:"General",content:"",pinned:!1}};return(a,e)=>{const r=d("v-icon"),h=d("v-avatar"),O=d("v-chip"),b=d("v-btn"),ie=d("v-card-title"),xe=d("v-divider"),ke=d("v-autocomplete"),F=d("v-card-text"),q=d("v-card"),J=d("v-text-field"),tt=d("v-table"),ue=d("v-col"),Je=d("v-row"),De=d("v-tab"),lt=d("v-tabs"),Be=d("v-list-item-title"),We=d("v-list-item-subtitle"),je=d("v-list-item"),at=d("v-list"),Ue=d("v-window-item"),ot=d("v-btn-toggle"),Ge=d("v-textarea"),nt=d("v-chip-group"),st=d("v-alert"),Le=d("v-select"),Qe=d("v-checkbox"),Ee=d("v-radio"),rt=d("v-radio-group"),it=d("v-expand-transition"),ut=d("v-form"),dt=d("v-timeline-item"),mt=d("v-timeline"),Ye=d("v-spacer"),ct=d("v-window"),vt=d("v-card-actions"),pt=d("v-snackbar"),_t=d("v-dialog");return f(),Y(_t,{"model-value":te.value,"onUpdate:modelValue":le,"max-width":"1200px",persistent:"",scrollable:""},{default:l(()=>[t(q,{class:"call-center-dialog"},{default:l(()=>[t(ie,{class:"dialog-header pa-4"},{default:l(()=>{var o,C,D;return[i("div",xt,[t(h,{color:"primary",size:"48",class:"mr-3"},{default:l(()=>[t(r,{color:"white",size:"28"},{default:l(()=>e[30]||(e[30]=[s("mdi-headset")])),_:1,__:[30]})]),_:1}),i("div",kt,[e[31]||(e[31]=i("div",{class:"text-h5 font-weight-bold"},"CallCenter",-1)),i("div",Dt," Order #"+v(((o=_.value)==null?void 0:o.order_no)||"N/A")+" - "+v(((C=w.value)==null?void 0:C.full_name)||"Unknown Customer"),1)]),t(O,{color:be((D=_.value)==null?void 0:D.status),variant:"flat",class:"mr-2"},{default:l(()=>{var B,W,de;return[s(v(((de=(W=(B=_.value)==null?void 0:B.latest_status)==null?void 0:W.status)==null?void 0:de.name)||"Pending"),1)]}),_:1},8,["color"]),t(b,{icon:"",variant:"text",onClick:u},{default:l(()=>[t(r,null,{default:l(()=>e[32]||(e[32]=[s("mdi-close")])),_:1,__:[32]})]),_:1})])]}),_:1}),t(xe),t(F,{class:"pa-0",style:{height:"70vh"}},{default:l(()=>[t(Je,{"no-gutters":"",style:{height:"100%"}},{default:l(()=>[t(ue,{cols:"12",md:"4",class:"left-panel"},{default:l(()=>[i("div",Ut,[t(q,{variant:"outlined",class:"mb-4"},{default:l(()=>[t(ie,{class:"text-subtitle-1 bg-blue-grey-lighten-5 py-2"},{default:l(()=>[t(r,{size:"small",class:"mr-2"},{default:l(()=>e[33]||(e[33]=[s("mdi-account")])),_:1,__:[33]}),e[34]||(e[34]=s(" Customer Information "))]),_:1,__:[34]}),t(F,{class:"pa-3"},{default:l(()=>{var o,C,D,B,W,de,Ke;return[i("div",Tt,[t(r,{size:"20",class:"mr-2"},{default:l(()=>e[35]||(e[35]=[s("mdi-account-circle")])),_:1,__:[35]}),i("span",Ot,v(((o=w.value)==null?void 0:o.full_name)||"N/A"),1)]),i("div",ht,[t(r,{size:"20",class:"mr-2"},{default:l(()=>e[36]||(e[36]=[s("mdi-phone")])),_:1,__:[36]}),i("span",null,v(((C=w.value)==null?void 0:C.phone)||"N/A"),1),t(b,{icon:"",size:"x-small",variant:"text",onClick:e[0]||(e[0]=Te=>{var Ze;return Me((Ze=w.value)==null?void 0:Ze.phone)}),class:"ml-1"},{default:l(()=>[t(r,{size:"14"},{default:l(()=>e[37]||(e[37]=[s("mdi-content-copy")])),_:1,__:[37]})]),_:1})]),(D=w.value)!=null&&D.email?(f(),k("div",Nt,[t(r,{size:"20",class:"mr-2"},{default:l(()=>e[38]||(e[38]=[s("mdi-email")])),_:1,__:[38]}),i("span",Pt,v(w.value.email),1)])):A("",!0),t(ke,{modelValue:_.value.customer.city_id,"onUpdate:modelValue":e[1]||(e[1]=Te=>_.value.customer.city_id=Te),items:H(G).cityOptions,"item-title":"name","item-value":"id",label:"City","prepend-inner-icon":"mdi-city",variant:"outlined",density:"comfortable",rules:[ee.required],clearable:"","hide-no-data":"",class:"mb-3"},null,8,["modelValue","items","rules"]),t(ke,{modelValue:_.value.customer.zone_id,"onUpdate:modelValue":e[2]||(e[2]=Te=>_.value.customer.zone_id=Te),items:H(G).zoneOptions,"item-title":"name","item-value":"id",label:"Zone","prepend-inner-icon":"mdi-map-marker-radius",variant:"outlined",density:"comfortable",clearable:"","hide-no-data":"",class:"mb-3"},null,8,["modelValue","items"]),(B=w.value)!=null&&B.address?(f(),k("div",zt,[t(r,{size:"20",class:"mr-2"},{default:l(()=>e[39]||(e[39]=[s("mdi-map-marker")])),_:1,__:[39]}),i("span",Mt,v(w.value.address),1)])):A("",!0),(W=_.value)!=null&&W.customer_notes||(Ke=(de=_.value)==null?void 0:de.latest_status)!=null&&Ke.status_notes?(f(),k("div",It,[t(r,{size:"20",class:"mr-2"},{default:l(()=>e[40]||(e[40]=[s("mdi-note-text")])),_:1,__:[40]}),i("span",Ft,v(_.value.customer_notes),1)])):A("",!0)]}),_:1})]),_:1}),i("div",qt,[i("h3",At,[t(r,{class:"mr-1",size:"small"},{default:l(()=>e[41]||(e[41]=[s("mdi-package-variant")])),_:1,__:[41]}),e[42]||(e[42]=s(" Order Items "))]),t(tt,{density:"comfortable",class:"mb-2"},{default:l(()=>[e[43]||(e[43]=i("thead",null,[i("tr",null,[i("th",{style:{width:"30%"}},"Product"),i("th",{style:{width:"15%"}},"Quantity"),i("th",{style:{width:"15%"}}," Unit Price "),i("th",{style:{width:"15%"}},"Total"),i("th",{style:{width:"10%"}})])],-1)),i("tbody",null,[(f(!0),k(me,null,ce(_.value.order_items||[],(o,C)=>(f(),k("tr",{key:o.id||C},[i("td",null,[t(ke,{modelValue:o.product.product_name,"onUpdate:modelValue":D=>o.product.product_name=D,items:H(G).productOptions,"item-title":"product_name","item-value":"sku",placeholder:"Product name",density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue","items"])]),i("td",null,[t(J,{modelValue:o.quantity,"onUpdate:modelValue":D=>o.quantity=D,modelModifiers:{number:!0},type:"number",min:"1",density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue"])]),i("td",null,[t(J,{modelValue:o.unit_price,"onUpdate:modelValue":D=>o.unit_price=D,modelModifiers:{number:!0},type:"number",min:"0",step:"0.01",density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue"])]),i("td",null,v((o.quantity*o.unit_price).toFixed(2)),1),i("td",null,[t(b,{icon:"mdi-delete",size:"small",color:"error",variant:"text",onClick:D=>a.removeOrderItem(C)},null,8,["onClick"])])]))),128))])]),_:1,__:[43]}),t(b,{color:"primary",variant:"text","prepend-icon":"mdi-plus",onClick:a.addOrderItem,class:"mt-2"},{default:l(()=>e[44]||(e[44]=[s(" Add Item ")])),_:1,__:[44]},8,["onClick"])]),i("div",$t,[t(Je,null,{default:l(()=>[t(ue,{cols:"12",md:"4"},{default:l(()=>[t(J,{"model-value":ve(),"onUpdate:modelValue":e[3]||(e[3]=o=>_.value.total_price=o),label:"Total",variant:"outlined",density:"comfortable",readonly:""},null,8,["model-value"])]),_:1}),t(ue,{cols:"12",md:"4"},{default:l(()=>[t(J,{modelValue:_.value.shipping_charges,"onUpdate:modelValue":[e[4]||(e[4]=o=>_.value.shipping_charges=o),e[5]||(e[5]=o=>a.updateTotals())],label:"Shipping Charges",type:"number",min:"0",step:"0.01",variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1}),t(ue,{cols:"12",md:"4"},{default:l(()=>[t(J,{"model-value":(parseFloat(ve())+parseFloat(_.value.shipping_charges||0)).toFixed(2),label:"Grand Total",variant:"outlined",density:"comfortable",readonly:""},null,8,["model-value"])]),_:1})]),_:1})]),t(q,{variant:"outlined"},{default:l(()=>[t(ie,{class:"text-subtitle-1 bg-blue-grey-lighten-5 py-2"},{default:l(()=>[t(r,{size:"small",class:"mr-2"},{default:l(()=>e[45]||(e[45]=[s("mdi-lightning-bolt")])),_:1,__:[45]}),e[46]||(e[46]=s(" Quick Actions "))]),_:1,__:[46]}),t(F,{class:"pa-2"},{default:l(()=>[t(b,{block:"",variant:"outlined",color:"primary",size:"small",class:"mb-2",onClick:Re},{default:l(()=>[t(r,{size:"18",class:"mr-2"},{default:l(()=>e[47]||(e[47]=[s("mdi-history")])),_:1,__:[47]}),e[48]||(e[48]=s(" Order History "))]),_:1,__:[48]}),t(b,{block:"",variant:"outlined",color:"orange",size:"small",onClick:He},{default:l(()=>[t(r,{size:"18",class:"mr-2"},{default:l(()=>e[49]||(e[49]=[s("mdi-cart")])),_:1,__:[49]}),e[50]||(e[50]=s(" Customer Orders "))]),_:1,__:[50]})]),_:1})]),_:1})])]),_:1}),t(xe,{vertical:""}),t(ue,{cols:"12",md:"8",class:"right-panel"},{default:l(()=>[t(lt,{modelValue:z.value,"onUpdate:modelValue":e[6]||(e[6]=o=>z.value=o),"bg-color":"blue-grey-lighten-5",height:"48"},{default:l(()=>[t(De,{value:"call"},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[51]||(e[51]=[s("mdi-phone")])),_:1,__:[51]}),e[52]||(e[52]=s(" Call "))]),_:1,__:[52]}),t(De,{value:"message"},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[53]||(e[53]=[s("mdi-message")])),_:1,__:[53]}),e[54]||(e[54]=s(" Message "))]),_:1,__:[54]}),t(De,{value:"status"},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[55]||(e[55]=[s("mdi-update")])),_:1,__:[55]}),e[56]||(e[56]=s(" Update Status "))]),_:1,__:[56]}),t(De,{value:"notes"},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[57]||(e[57]=[s("mdi-note-text")])),_:1,__:[57]}),e[58]||(e[58]=s(" Notes "))]),_:1,__:[58]})]),_:1},8,["modelValue"]),t(ct,{modelValue:z.value,"onUpdate:modelValue":e[27]||(e[27]=o=>z.value=o),class:"tab-content"},{default:l(()=>[t(Ue,{value:"call",class:"pa-4"},{default:l(()=>[t(q,{variant:"outlined",class:"mb-4"},{default:l(()=>[t(F,null,{default:l(()=>[e[65]||(e[65]=i("div",{class:"text-h6 mb-4"}," Make a Call ",-1)),t(J,{modelValue:L.value.phone,"onUpdate:modelValue":e[7]||(e[7]=o=>L.value.phone=o),label:"Phone Number","prepend-inner-icon":"mdi-phone",variant:"outlined",density:"comfortable",readonly:"",class:"mb-3"},null,8,["modelValue"]),$.value?(f(),k("div",Ht,[i("div",jt,[t(h,{color:"green",size:"80",class:"pulse-animation"},{default:l(()=>[t(r,{size:"40",color:"white"},{default:l(()=>e[61]||(e[61]=[s("mdi-phone-in-talk")])),_:1,__:[61]})]),_:1}),e[62]||(e[62]=i("div",{class:"text-h6 mt-3"}," Call in Progress ",-1)),i("div",Gt,v(I.value),1)]),i("div",Lt,[t(b,{icon:"",size:"large",color:Q.value?"error":"grey",variant:"outlined",onClick:qe},{default:l(()=>[t(r,null,{default:l(()=>[s(v(Q.value?"mdi-microphone-off":"mdi-microphone"),1)]),_:1})]),_:1},8,["color"]),t(b,{icon:"",size:"large",color:"grey",variant:"outlined",onClick:Ae},{default:l(()=>[t(r,null,{default:l(()=>e[63]||(e[63]=[s("mdi-pause")])),_:1,__:[63]})]),_:1}),t(b,{icon:"",size:"large",color:"red",variant:"flat",onClick:$e},{default:l(()=>[t(r,null,{default:l(()=>e[64]||(e[64]=[s("mdi-phone-hangup")])),_:1,__:[64]})]),_:1})])])):(f(),k("div",Rt,[t(b,{color:"green",size:"x-large",rounded:"pill",elevation:"4",onClick:e[8]||(e[8]=o=>Ie(L.value.phone)),loading:M.value,class:"call-button"},{default:l(()=>[t(r,{size:"32",class:"mr-2"},{default:l(()=>e[59]||(e[59]=[s("mdi-phone")])),_:1,__:[59]}),e[60]||(e[60]=s(" Call Customer "))]),_:1,__:[60]},8,["loading"])]))]),_:1,__:[65]})]),_:1}),t(q,{variant:"outlined"},{default:l(()=>[t(ie,{class:"text-subtitle-1"},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[66]||(e[66]=[s("mdi-history")])),_:1,__:[66]}),e[67]||(e[67]=s(" Recent Calls "))]),_:1,__:[67]}),t(F,null,{default:l(()=>[t(at,{density:"compact"},{default:l(()=>[(f(!0),k(me,null,ce(fe.value,o=>(f(),Y(je,{key:o.id,class:"mb-1"},{prepend:l(()=>[t(r,{color:o.type==="incoming"?"blue":"green"},{default:l(()=>[s(v(o.type==="incoming"?"mdi-phone-incoming":"mdi-phone-outgoing"),1)]),_:2},1032,["color"])]),append:l(()=>[t(b,{icon:"",size:"x-small",variant:"text"},{default:l(()=>[t(r,null,{default:l(()=>e[68]||(e[68]=[s("mdi-play")])),_:1,__:[68]})]),_:1})]),default:l(()=>[t(Be,null,{default:l(()=>[s(v(o.duration),1)]),_:2},1024),t(We,null,{default:l(()=>[s(v(o.timestamp),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),t(Ue,{value:"message",class:"pa-4"},{default:l(()=>[t(q,{variant:"outlined"},{default:l(()=>[t(F,null,{item:l(({props:o,item:C})=>[t(je,Xe(et(o)),{prepend:l(()=>[t(r,null,{default:l(()=>e[75]||(e[75]=[s("mdi-file-document-outline")])),_:1,__:[75]})]),default:l(()=>[t(Be,null,{default:l(()=>[s(v(C.raw.name),1)]),_:2},1024),t(We,null,{default:l(()=>[s(v(C.raw.description),1)]),_:2},1024)]),_:2},1040)]),default:l(()=>[e[84]||(e[84]=i("div",{class:"text-h6 mb-4"}," Send Message ",-1)),t(ot,{modelValue:R.value,"onUpdate:modelValue":e[9]||(e[9]=o=>R.value=o),mandatory:"",divided:"",variant:"outlined",class:"mb-4"},{default:l(()=>[t(b,{value:"whatsapp"},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[69]||(e[69]=[s("mdi-whatsapp")])),_:1,__:[69]}),e[70]||(e[70]=s(" WhatsApp "))]),_:1,__:[70]}),t(b,{value:"sms"},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[71]||(e[71]=[s("mdi-message-text")])),_:1,__:[71]}),e[72]||(e[72]=s(" SMS "))]),_:1,__:[72]}),t(b,{value:"email"},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[73]||(e[73]=[s("mdi-email")])),_:1,__:[73]}),e[74]||(e[74]=s(" Email "))]),_:1,__:[74]})]),_:1},8,["modelValue"]),t(ke,{modelValue:H(j).selectedTemplate,"onUpdate:modelValue":[e[10]||(e[10]=o=>H(j).selectedTemplate=o),H(j).onTemplateSelect],items:H(j).allTemplates,"item-title":"name","item-value":"id",label:"Select Template","return-object":"",disabled:H(j).loading.templates,loading:H(j).loading.templates,clearable:"",class:"mt-3","hide-no-data":"",dense:""},null,8,["modelValue","items","disabled","loading","onUpdate:modelValue"]),R.value==="email"?(f(),Y(J,{key:0,modelValue:V.value.subject,"onUpdate:modelValue":e[11]||(e[11]=o=>V.value.subject=o),label:"Subject",variant:"outlined",density:"comfortable",class:"mb-3"},null,8,["modelValue"])):A("",!0),t(Ge,{modelValue:V.value.content,"onUpdate:modelValue":e[12]||(e[12]=o=>V.value.content=o),label:"Message",variant:"outlined",rows:"8",counter:"",maxlength:R.value==="sms"?160:1e3,class:"mb-3"},null,8,["modelValue","maxlength"]),i("div",Et,[e[80]||(e[80]=i("div",{class:"text-caption text-grey mb-2"}," Insert Variables: ",-1)),t(nt,null,{default:l(()=>[t(O,{size:"small",onClick:e[13]||(e[13]=o=>Z("{customer_name}"))},{default:l(()=>e[76]||(e[76]=[s(" Customer Name ")])),_:1,__:[76]}),t(O,{size:"small",onClick:e[14]||(e[14]=o=>Z("{order_no}"))},{default:l(()=>e[77]||(e[77]=[s(" Order Number ")])),_:1,__:[77]}),t(O,{size:"small",onClick:e[15]||(e[15]=o=>Z("{delivery_date}"))},{default:l(()=>e[78]||(e[78]=[s(" Delivery Date ")])),_:1,__:[78]}),t(O,{size:"small",onClick:e[16]||(e[16]=o=>Z("{total_price}"))},{default:l(()=>e[79]||(e[79]=[s(" Total Price ")])),_:1,__:[79]})]),_:1})]),R.value==="email"?(f(),k("div",Jt,[t(b,{variant:"outlined",size:"small","prepend-icon":"mdi-paperclip",onClick:e[17]||(e[17]=o=>a.$refs.fileInput.click())},{default:l(()=>e[81]||(e[81]=[s(" Attach File ")])),_:1,__:[81]}),i("input",{ref:"fileInput",type:"file",style:{display:"none"},onChange:Ce},null,544),V.value.attachments.length?(f(),k("div",Bt,[(f(!0),k(me,null,ce(V.value.attachments,(o,C)=>(f(),Y(O,{key:C,closable:"","onClick:close":D=>we(C),size:"small",class:"mr-2"},{default:l(()=>[s(v(o.name),1)]),_:2},1032,["onClick:close"]))),128))])):A("",!0)])):A("",!0),t(q,{variant:"tonal",color:"blue-grey-lighten-5",class:"mb-3"},{default:l(()=>[t(F,{class:"text-body-2"},{default:l(()=>[e[82]||(e[82]=i("div",{class:"font-weight-bold mb-2"}," Preview: ",-1)),i("div",Wt,v(Ne.value),1)]),_:1,__:[82]})]),_:1}),t(b,{block:"",color:"primary",size:"large",loading:ae.value,onClick:Se},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[83]||(e[83]=[s("mdi-send")])),_:1,__:[83]}),s(" Send "+v(R.value.toUpperCase()),1)]),_:1},8,["loading"])]),_:1,__:[84]})]),_:1})]),_:1}),t(Ue,{value:"status",class:"pa-4"},{default:l(()=>[t(q,{variant:"outlined"},{default:l(()=>[t(F,null,{default:l(()=>[e[91]||(e[91]=i("div",{class:"text-h6 mb-4"}," Update Order Status ",-1)),t(ut,{ref_key:"statusForm",ref:p},{default:l(()=>[t(st,{type:"info",variant:"tonal",density:"compact",class:"mb-4"},{default:l(()=>{var o,C,D,B,W;return[i("div",Qt,[e[85]||(e[85]=i("strong",null,"Current Status:",-1)),s(" "+v(((D=(C=(o=_.value)==null?void 0:o.latest_status)==null?void 0:C.status)==null?void 0:D.name)||"Pending"),1)]),(W=(B=_.value)==null?void 0:B.latest_status)!=null&&W.created_at?(f(),k("div",Yt," Updated "+v(re(_.value.latest_status.created_at)),1)):A("",!0)]}),_:1}),t(Le,{modelValue:p.value.status_id,"onUpdate:modelValue":e[18]||(e[18]=o=>p.value.status_id=o),items:H(G).statusOptions,"item-title":"name","item-value":"id",label:"New Status",variant:"outlined",density:"comfortable",rules:[o=>!!o||"Status is required"],class:"mb-3"},{item:l(({props:o,item:C})=>[t(je,Xe(et(o)),{prepend:l(()=>[t(r,{color:C.raw.color},{default:l(()=>e[86]||(e[86]=[s("mdi-circle")])),_:2,__:[86]},1032,["color"])]),_:2},1040)]),_:1},8,["modelValue","items","rules"]),t(Le,{modelValue:p.value.status_category_id,"onUpdate:modelValue":e[19]||(e[19]=o=>p.value.status_category_id=o),items:ge.value,"item-title":"name","item-value":"id",label:"Status Category",variant:"outlined",density:"comfortable",disabled:!p.value.status_id,class:"mb-3"},null,8,["modelValue","items","disabled"]),he.value?(f(),Y(J,{key:0,modelValue:p.value.recall_date,"onUpdate:modelValue":e[20]||(e[20]=o=>p.value.recall_date=o),label:"Recall Date & Time",type:"datetime-local",variant:"outlined",density:"comfortable",rules:[o=>!!o||"Recall date is required"],class:"mb-3"},null,8,["modelValue","rules"])):A("",!0),t(Ge,{modelValue:p.value.status_notes,"onUpdate:modelValue":e[21]||(e[21]=o=>p.value.status_notes=o),label:"Status Notes",variant:"outlined",rows:"4",rules:[o=>!!o||"Notes are required"],hint:"Add any relevant information about this status change",class:"mb-3"},null,8,["modelValue","rules"]),t(Qe,{modelValue:p.value.notifyCustomer,"onUpdate:modelValue":e[22]||(e[22]=o=>p.value.notifyCustomer=o),label:"Notify customer of status change",density:"compact",class:"mb-3"},null,8,["modelValue"]),t(it,null,{default:l(()=>[p.value.notifyCustomer?(f(),k("div",Kt,[t(rt,{modelValue:p.value.notificationMethod,"onUpdate:modelValue":e[23]||(e[23]=o=>p.value.notificationMethod=o),density:"compact",inline:""},{default:l(()=>[t(Ee,{label:"SMS",value:"sms"}),t(Ee,{label:"WhatsApp",value:"whatsapp"}),t(Ee,{label:"Email",value:"email"})]),_:1},8,["modelValue"])])):A("",!0)]),_:1}),t(b,{block:"",color:"primary",size:"large",loading:oe.value,onClick:g},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[87]||(e[87]=[s("mdi-update")])),_:1,__:[87]}),e[88]||(e[88]=s(" Update Status "))]),_:1,__:[88]},8,["loading"])]),_:1},512),t(xe,{class:"my-4"}),i("div",Zt,[t(r,{class:"mr-2"},{default:l(()=>e[89]||(e[89]=[s("mdi-timeline")])),_:1,__:[89]}),e[90]||(e[90]=s(" Status History "))]),t(mt,{density:"compact",side:"end",align:"start"},{default:l(()=>[(f(!0),k(me,null,ce(se.value,(o,C)=>(f(),Y(dt,{key:C,"dot-color":o.color,size:"small"},{default:l(()=>[i("div",Xt,v(o.status_name),1),i("div",el,v(o.notes),1),i("div",tl,[s(v(re(o.created_at))+" ",1),o.user?(f(),k("span",ll," by "+v(o.user),1)):A("",!0)])]),_:2},1032,["dot-color"]))),128))]),_:1})]),_:1,__:[91]})]),_:1})]),_:1}),t(Ue,{value:"notes",class:"pa-4"},{default:l(()=>[t(q,{variant:"outlined",class:"mb-4"},{default:l(()=>[t(F,null,{default:l(()=>[e[94]||(e[94]=i("div",{class:"text-h6 mb-4"},"Add Note",-1)),t(Le,{modelValue:T.value.type,"onUpdate:modelValue":e[24]||(e[24]=o=>T.value.type=o),items:_e.value,label:"Note Type",variant:"outlined",density:"comfortable",class:"mb-3"},null,8,["modelValue","items"]),t(Ge,{modelValue:T.value.content,"onUpdate:modelValue":e[25]||(e[25]=o=>T.value.content=o),label:"Note Content",variant:"outlined",rows:"6",counter:"",maxlength:"500",class:"mb-3"},null,8,["modelValue"]),t(Qe,{modelValue:T.value.pinned,"onUpdate:modelValue":e[26]||(e[26]=o=>T.value.pinned=o),label:"Pin this note",density:"compact",class:"mb-3"},null,8,["modelValue"]),t(b,{block:"",color:"primary",loading:ne.value,onClick:Ve},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[92]||(e[92]=[s("mdi-content-save")])),_:1,__:[92]}),e[93]||(e[93]=s(" Save Note "))]),_:1,__:[93]},8,["loading"])]),_:1,__:[94]})]),_:1}),t(q,{variant:"outlined"},{default:l(()=>[t(ie,{class:"text-subtitle-1"},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[95]||(e[95]=[s("mdi-note-multiple")])),_:1,__:[95]}),e[96]||(e[96]=s(" All Notes "))]),_:1,__:[96]}),t(F,null,{default:l(()=>[(f(!0),k(me,null,ce(ye.value,o=>(f(),k("div",{key:o.id,class:"note-item mb-3"},[t(q,{variant:"tonal"},{default:l(()=>[t(F,null,{default:l(()=>[i("div",al,[t(O,{size:"x-small",color:Pe(o.type),class:"mr-2"},{default:l(()=>[s(v(o.type),1)]),_:2},1032,["color"]),o.pinned?(f(),Y(r,{key:0,size:"small",color:"warning",class:"mr-2"},{default:l(()=>e[97]||(e[97]=[s(" mdi-pin ")])),_:1,__:[97]})):A("",!0),t(Ye),i("span",ol,v(re(o.created_at)),1)]),i("div",nl,v(o.content),1),i("div",sl," By "+v(o.user_name),1)]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(xe),t(vt,{class:"pa-4"},{default:l(()=>[t(b,{variant:"outlined",onClick:u},{default:l(()=>e[98]||(e[98]=[s(" Close ")])),_:1,__:[98]}),t(Ye),t(b,{color:"success",variant:"flat","prepend-icon":"mdi-check-circle",onClick:n},{default:l(()=>e[99]||(e[99]=[s(" Mark Complete & Close ")])),_:1,__:[99]})]),_:1})]),_:1}),t(pt,{modelValue:E.value.show,"onUpdate:modelValue":e[29]||(e[29]=o=>E.value.show=o),color:E.value.color,timeout:3e3},{actions:l(()=>[t(b,{variant:"text",onClick:e[28]||(e[28]=o=>E.value.show=!1)},{default:l(()=>e[100]||(e[100]=[s(" Close ")])),_:1,__:[100]})]),default:l(()=>[s(v(E.value.message)+" ",1)]),_:1},8,["modelValue","color"])]),_:1},8,["model-value"])}}},il=St(rl,[["__scopeId","data-v-8d93b46f"]]),pl=Object.freeze(Object.defineProperty({__proto__:null,default:il},Symbol.toStringTag,{value:"Module"}));export{il as C,pl as a,Vt as u};
