import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as h,s as D,j as p,l as o,d as k,o as b,a as j,b as n,f as V,e as E,t as O,n as T,w as c,m as z}from"./app-nkozdOV_.js";const I={key:0,class:"text-red-600 ml-1"},L={__name:"DualDatePicker",props:{modelValue:{type:Array,default:()=>[]},label:String,required:{type:Boolean,default:!1},placeholder:{type:String,default:"Select date range"},validateOnMount:{type:Boolean,default:!1}},emits:["update:modelValue","validation"],setup(f,{expose:C,emit:A}){var x;const r=f,_=A,m=h(!1),s=h(r.validateOnMount),a=h((x=r.modelValue)!=null&&x.length?[...r.modelValue]:[]);D(()=>r.modelValue,t=>{Array.isArray(t)?a.value=t.length?[...t]:[]:a.value=[]});const g=p(()=>r.required?Array.isArray(a.value)&&a.value.length===2:!0),y=p(()=>r.required&&s.value&&!g.value),q=p(()=>y.value?!a.value||a.value.length===0?"Date range is required":a.value.length===1?"Please select an end date":"":""),w=p(()=>r.required&&!g.value&&s.value?"text-red-600":"text-gray-700"),S=p(()=>{if(!Array.isArray(a.value)||a.value.length===0)return"";const t=a.value,e=l=>(l instanceof Date?l:new Date(l)).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"}),u=e(t[0]),d=t.length>=2?e(t[t.length-1]):null;return d?`${u} → ${d}`:`${u} → ...`}),B=t=>{s.value=!0;const e=Array.isArray(t)?t:t?[t]:[],u=e[0],d=e[e.length-1],l=e.length>=2?[u,d]:e;a.value=l,_("update:modelValue",l);const v=r.required?l.length===2:!0;_("validation",v),l.length===2&&setTimeout(()=>{m.value=!1},300)},P=()=>{a.value=[],_("update:modelValue",[]),_("validation",!r.required)};return D(m,t=>{!t&&!s.value&&(s.value=!0)}),C({validate:()=>(s.value=!0,g.value),isValid:g}),(t,e)=>{const u=o("v-text-field"),d=o("v-date-picker"),l=o("v-spacer"),v=o("v-btn"),N=o("v-card-actions"),$=o("v-card"),M=o("v-menu");return b(),k("div",null,[j("label",{class:T(["block text-sm font-medium mb-1",w.value])},[V(O(f.label)+" ",1),f.required?(b(),k("span",I,"*")):E("",!0)],2),n(M,{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=i=>m.value=i),"close-on-content-click":!1,transition:"scale-transition",location:"bottom","max-width":"auto","min-width":"600px"},{activator:c(({props:i})=>[n(u,z(i,{"model-value":S.value,"prepend-inner-icon":"mdi-calendar",readonly:"",density:"compact",variant:"outlined",error:y.value,"error-messages":q.value,"hide-details":!y.value,placeholder:f.placeholder}),null,16,["model-value","error","error-messages","hide-details","placeholder"])]),default:c(()=>[n($,null,{default:c(()=>[n(d,{modelValue:a.value,"onUpdate:modelValue":[e[0]||(e[0]=i=>a.value=i),B],multiple:"range","show-adjacent-months":"",color:"primary"},null,8,["modelValue"]),n(N,null,{default:c(()=>[n(l),n(v,{text:"",onClick:P},{default:c(()=>e[3]||(e[3]=[V("Clear")])),_:1,__:[3]}),n(v,{text:"",color:"primary",onClick:e[1]||(e[1]=i=>m.value=!1)},{default:c(()=>e[4]||(e[4]=[V("Close")])),_:1,__:[4]})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},H=U(L,[["__scopeId","data-v-cddbd223"]]);export{H as D};
