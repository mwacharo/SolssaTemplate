import{r as v,k,c as w,o as d,w as T,a as e,t as u,A as n,B as p,C as V,f as y,D as b,d as r,e as f,F as N,g as U,u as _}from"./app-Cuu9_Ou2.js";import{u as A}from"./conditionTypeStore-BeyjtTHw.js";import{_ as S}from"./AppLayout-D7OvL1cP.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./webrtc-DUR8KGJE.js";import"./africastalking-CLaKg46O.js";import"./IncomingCallDialog-Bg37T-b7.js";/* empty css                                                                           */const I={class:"p-6 space-y-6"},M={class:"bg-white p-4 rounded shadow"},D={class:"text-lg font-bold mb-4"},$={class:"grid grid-cols-2 gap-4"},E={class:"flex items-center gap-2"},F={class:"flex items-center gap-2"},O={class:"mt-4 flex gap-2"},J={class:"bg-white p-4 rounded shadow"},L={class:"w-full border"},R={class:"p-2"},j={class:"p-2"},Y={class:"p-2"},q={class:"p-2"},z={class:"p-2"},G=["checked","onChange"],H={class:"p-2 flex gap-2"},K=["onClick"],P=["onClick"],Q={key:0,class:"mt-3 text-gray-500"},W={__name:"ConditionTypes",setup(X){const l=A(),i=v(!1),c=v(null),o=v({name:"",code:"",input_type:"text",supports_range:!1,unit:"",meta:"",is_active:!0});k(()=>{l.fetchAll()});const m=()=>{o.value={name:"",code:"",input_type:"text",supports_range:!1,unit:"",meta:"",is_active:!0},i.value=!1,c.value=null},h=async()=>{i.value?await l.update(c.value,o.value):await l.create(o.value),m()},x=a=>{i.value=!0,c.value=a.id,Object.assign(o.value,{name:a.name,code:a.code,input_type:a.input_type,supports_range:a.supports_range,unit:a.unit,meta:a.meta?JSON.stringify(a.meta,null,2):null,is_active:a.is_active})},C=async a=>{confirm("Are you sure?")&&await l.delete(a)};return(a,t)=>(d(),w(S,{title:"Condition Types"},{default:T(()=>[e("div",I,[e("div",M,[e("h2",D,u(i.value?"Edit":"Create")+" Condition Type ",1),e("div",$,[n(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.value.name=s),placeholder:"Name",class:"input"},null,512),[[p,o.value.name]]),n(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.value.code=s),placeholder:"Code",class:"input"},null,512),[[p,o.value.code]]),n(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.value.input_type=s),class:"input"},t[7]||(t[7]=[e("option",{value:"text"},"Text",-1),e("option",{value:"number"},"Number",-1),e("option",{value:"select"},"Select",-1)]),512),[[V,o.value.input_type]]),n(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.value.unit=s),placeholder:"Unit",class:"input"},null,512),[[p,o.value.unit]]),e("label",E,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=s=>o.value.supports_range=s)},null,512),[[b,o.value.supports_range]]),t[8]||(t[8]=y(" Supports Range "))]),e("label",F,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=s=>o.value.is_active=s)},null,512),[[b,o.value.is_active]]),t[9]||(t[9]=y(" Active "))]),n(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=s=>o.value.meta=s),placeholder:"Meta (JSON)",class:"input col-span-2"},null,512),[[p,o.value.meta]])]),e("div",O,[e("button",{onClick:h,class:"btn-primary"},u(i.value?"Update":"Save"),1),i.value?(d(),r("button",{key:0,onClick:m,class:"btn-secondary"}," Cancel ")):f("",!0)])]),e("div",J,[t[11]||(t[11]=e("h2",{class:"text-lg font-bold mb-4"},"All Condition Types",-1)),e("table",L,[t[10]||(t[10]=e("thead",null,[e("tr",{class:"bg-gray-100"},[e("th",{class:"p-2"},"Name"),e("th",{class:"p-2"},"Code"),e("th",{class:"p-2"},"Input Type"),e("th",{class:"p-2"},"Range"),e("th",{class:"p-2"},"Active"),e("th",{class:"p-2"},"Actions")])],-1)),e("tbody",null,[(d(!0),r(N,null,U(_(l).conditionTypes,s=>(d(),r("tr",{key:s.id,class:"border-t"},[e("td",R,u(s.name),1),e("td",j,u(s.code),1),e("td",Y,u(s.input_type),1),e("td",q,u(s.supports_range?"Yes":"No"),1),e("td",z,[e("input",{type:"checkbox",checked:s.is_active,onChange:g=>_(l).toggleActive(s)},null,40,G)]),e("td",H,[e("button",{onClick:g=>x(s),class:"text-blue-600"}," Edit ",8,K),e("button",{onClick:g=>C(s.id),class:"text-red-600"}," Delete ",8,P)])]))),128))])]),_(l).loading?(d(),r("div",Q," Loading... ")):f("",!0)])])]),_:1}))}},ie=B(W,[["__scopeId","data-v-b27a8dc4"]]);export{ie as default};
