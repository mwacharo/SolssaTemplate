import{A as X,r as p,j as $,V as Y,k as Z,s as ee,c as te,o as i,w as se,a as e,d,e as A,t as n,u as v,F as C,g as I,n as H,C as k,E as K,D as q}from"./app-UF4J_52Y.js";import{_ as oe}from"./AppLayout-B5wYy7Ac.js";import{n as y}from"./toast-BR2KUkgA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./webrtc-CXAbwmh1.js";import"./africastalking-Boz6WrtY.js";import"./IncomingCallDialog-BKFhgtBu.js";/* empty css                                                                           */const ae=X("crm",()=>{const b=p({totalSms:0,formResponses:0,telegramMessages:0,aiQueries:0}),m=p([{id:1,name:"Vendor A",phone:"+254700000001",email:"vendora@example.com"},{id:2,name:"Vendor B",phone:"+254700000002",email:"vendorb@example.com"},{id:3,name:"Vendor C",phone:"+254700000003",email:"vendorc@example.com"}]),g=p([]),u=p([]),S=p([]),T=p([]),M=p([]),N=p(null),B=$(()=>m.value.filter(t=>t.active!==!1)),_=$(()=>u.value.slice(-10).reverse()),D=async()=>{try{await Promise.all([V(),P(),R(),f(),w(),Q()])}catch(t){console.error("Failed to load dashboard data:",t)}},V=async()=>{await new Promise(t=>setTimeout(t,500)),b.value={totalSms:1250,formResponses:890,telegramMessages:340,aiQueries:156}},P=async()=>{await new Promise(t=>setTimeout(t,300)),g.value=[{id:1,name:"Product Launch Campaign",recipients:500,status:"completed",createdAt:Date.now()-864e5},{id:2,name:"Customer Feedback Survey",recipients:300,status:"pending",createdAt:Date.now()-432e5},{id:3,name:"Service Update Notification",recipients:750,status:"active",createdAt:Date.now()-216e5}]},R=async()=>{await new Promise(t=>setTimeout(t,400)),u.value=[{id:1,clientName:"John Doe",clientPhone:"+254700000001",vendorId:1,vendorName:"Vendor A",message:"I am interested in your product. Please contact me for more details.",timestamp:Date.now()-36e5,status:"new"},{id:2,clientName:"Jane Smith",clientPhone:"+254700000002",vendorId:2,vendorName:"Vendor B",message:"What are your pricing options for bulk orders?",timestamp:Date.now()-72e5,status:"responded"},{id:3,clientName:"Mike Johnson",clientPhone:"+254700000003",vendorId:1,vendorName:"Vendor A",message:"Can you provide delivery to Nairobi CBD?",timestamp:Date.now()-108e5,status:"broadcasted"}]},f=async()=>{await new Promise(t=>setTimeout(t,200)),S.value=[{id:1,name:"Vendor A Customers",chatId:"-1001234567890",members:150,active:!0},{id:2,name:"General Support",chatId:"-1001234567891",members:300,active:!0},{id:3,name:"VIP Customers",chatId:"-1001234567892",members:45,active:!1}]},w=async()=>{await new Promise(t=>setTimeout(t,250)),T.value=[{id:1,groupName:"Vendor A Customers",message:"New customer inquiry: John Doe is interested in our product...",timestamp:Date.now()-18e5},{id:2,groupName:"General Support",message:"Jane Smith asked about bulk pricing options...",timestamp:Date.now()-54e5}]},Q=async()=>{await new Promise(t=>setTimeout(t,350)),M.value=[{id:1,query:"What is the best response for a pricing inquiry?",response:"For pricing inquiries, acknowledge their interest and provide a personalized quote based on their specific needs...",timestamp:Date.now()-9e5},{id:2,query:"How to handle delivery questions?",response:"For delivery questions, confirm the delivery location and provide accurate delivery timeframes and costs...",timestamp:Date.now()-27e5}]},G=async t=>{try{await new Promise(l=>setTimeout(l,1e3));const a={id:Date.now(),name:t.name,message:t.message,vendorId:t.vendorId,recipients:Math.floor(Math.random()*500)+100,status:"pending",createdAt:Date.now()};g.value.unshift(a),b.value.totalSms+=a.recipients;const r=`https://forms.example.com/vendor-${t.vendorId}/${a.id}`;return setTimeout(()=>{a.status="active",j(a)},2e3),a}catch(a){throw console.error("Failed to create SMS campaign:",a),a}},j=t=>{const a=Math.floor(Math.random()*10)+3;for(let r=0;r<a;r++)setTimeout(()=>{var h;const l={id:Date.now()+r,clientName:`Client ${Math.floor(Math.random()*1e3)}`,clientPhone:`+25470${Math.floor(Math.random()*1e7).toString().padStart(7,"0")}`,vendorId:t.vendorId,vendorName:((h=m.value.find(x=>x.id===t.vendorId))==null?void 0:h.name)||"Unknown Vendor",message:F(),timestamp:Date.now()+r*1e3,status:"new",campaignId:t.id};u.value.unshift(l),b.value.formResponses++,o(l)},r*2e3)},F=()=>{const t=["I am interested in your product. Please contact me.","What are your prices for bulk orders?","Do you deliver to my area?","Can I get a discount on my first order?","I need more information about your services.","Is this product available in different colors?","What is your return policy?","Can you provide installation services?"];return t[Math.floor(Math.random()*t.length)]},W=async t=>{try{await new Promise(x=>setTimeout(x,800));const a=S.value.find(x=>x.active&&x.name.includes(t.vendorName))||S.value.find(x=>x.active);if(!a)throw new Error("No active Telegram group found");const r=`ðŸ”” New Customer Inquiry

Customer: ${t.clientName}
Phone: ${t.clientPhone}
Vendor: ${t.vendorName}
Message: ${t.message}

Time: ${new Date(t.timestamp).toLocaleString()}`,l={id:Date.now(),groupName:a.name,message:r,timestamp:Date.now(),responseId:t.id};T.value.unshift(l),b.value.telegramMessages++;const h=u.value.findIndex(x=>x.id===t.id);return h!==-1&&(u.value[h].status="broadcasted"),l}catch(a){throw console.error("Failed to broadcast to Telegram:",a),a}},U=async t=>{try{await new Promise(h=>setTimeout(h,1200));const a=await z(t.message),r={id:Date.now(),query:t.message,response:a,timestamp:Date.now(),customerName:t.clientName,vendorName:t.vendorName,originalResponseId:t.id};M.value.unshift(r),b.value.aiQueries++;const l=u.value.findIndex(h=>h.id===t.id);return l!==-1&&(u.value[l].status="ai_responded",u.value[l].aiResponse=a),r}catch(a){throw console.error("Failed to generate AI response:",a),a}},z=async t=>{const a=t.toLowerCase();return a.includes("price")||a.includes("cost")||a.includes("pricing")?"Thank you for your interest in our pricing. We offer competitive rates with flexible payment options. Our team will contact you within 24 hours to discuss a personalized quote based on your specific needs. For immediate assistance, please call our sales hotline.":a.includes("deliver")||a.includes("shipping")?"We provide delivery services across Nairobi and surrounding areas. Standard delivery takes 2-3 business days, with express options available. Delivery charges depend on location and order size. We'll confirm delivery details and timeline once we process your order.":a.includes("product")||a.includes("service")?"Thank you for your interest in our products/services. We'd be happy to provide detailed information and help you find the perfect solution for your needs. Our customer service team will reach out to you shortly with comprehensive details and answer any questions you may have.":a.includes("contact")||a.includes("call")?"We appreciate your interest in getting in touch with us. Our customer service team is available Monday-Friday 8AM-6PM, Saturday 9AM-2PM. We'll prioritize your inquiry and ensure you receive a prompt response within 4 hours during business hours.":"Thank you for reaching out to us. We've received your inquiry and our team will review it carefully. We'll get back to you within 24 hours with a detailed response. In the meantime, feel free to contact us directly if you have any urgent questions."},L=async t=>{try{if(await new Promise(l=>setTimeout(l,600)),!await E(t.botToken,t.chatId))throw new Error("Invalid bot token or chat ID");const r={id:Date.now(),name:t.name,chatId:t.chatId,botToken:t.botToken,members:Math.floor(Math.random()*200)+50,active:!0,createdAt:Date.now()};return S.value.push(r),r}catch(a){throw console.error("Failed to add Telegram group:",a),a}},E=async(t,a)=>(await new Promise(r=>setTimeout(r,500)),t&&a&&t.length>20),J=async t=>{try{await new Promise(l=>setTimeout(l,1e3));const a=await c(t),r={id:Date.now(),query:t,response:a,timestamp:Date.now(),type:"manual_query"};return M.value.unshift(r),b.value.aiQueries++,r}catch(a){throw console.error("Failed to process AI query:",a),a}},c=async t=>{const a=t.toLowerCase();return a.includes("best")&&a.includes("response")?"Based on successful customer interactions, the best responses include: 1) Acknowledge their interest immediately, 2) Provide specific information relevant to their query, 3) Offer multiple contact options, 4) Set clear expectations for follow-up, 5) Include a personal touch when possible.":a.includes("improve")&&(a.includes("conversion")||a.includes("response rate"))?"To improve response rates: 1) Personalize SMS messages with customer names, 2) Include clear call-to-action with benefits, 3) Optimize form length (max 3-5 fields), 4) Send follow-up reminders after 48 hours, 5) A/B test different message formats and timing.":a.includes("telegram")&&a.includes("engagement")?"Telegram engagement best practices: 1) Post regular updates and valuable content, 2) Encourage community interaction with polls and questions, 3) Respond promptly to group messages, 4) Share success stories and testimonials, 5) Use multimedia content when appropriate.":a.includes("analytics")||a.includes("metrics")?"Key metrics to track: 1) SMS delivery and read rates, 2) Form completion rates by vendor, 3) Response time to customer queries, 4) Telegram group engagement levels, 5) Customer acquisition cost per channel. Monitor these weekly and adjust strategies based on trends.":"I'd be happy to help with your query. Based on the current CRM data and best practices, I recommend analyzing your specific use case in detail. Consider factors like your target audience, current performance metrics, and business objectives. Would you like me to provide more specific guidance on any particular aspect?"},s=async()=>{try{await new Promise(a=>setTimeout(a,2e3));const t={responses:u.value.length,campaigns:g.value.length,telegramMessages:T.value.length,queries:M.value.length};return console.log("Training AI model with data:",t),setTimeout(()=>{console.log("AI model training completed successfully")},3e3),{status:"training_started",data:t}}catch(t){throw console.error("Failed to train AI model:",t),t}},o=t=>{N.value=t,setTimeout(()=>{var a;((a=N.value)==null?void 0:a.id)===t.id&&(N.value=null)},5e3)};return{stats:b,vendors:m,smsCampaigns:g,formResponses:u,telegramGroups:S,telegramBroadcasts:T,aiResponses:M,newResponse:N,activeVendors:B,recentResponses:_,loadDashboardData:D,createSmsCampaign:G,broadcastToTelegram:W,generateAiResponse:U,addTelegramGroup:L,processAiQuery:J,trainAiModel:s,updateResponseStatus:(t,a)=>{const r=u.value.findIndex(l=>l.id===t);r!==-1&&(u.value[r].status=a)},getVendorStats:()=>m.value.map(t=>{const a=u.value.filter(l=>l.vendorId===t.id),r=g.value.filter(l=>l.vendorId===t.id);return{...t,responseCount:a.length,campaignCount:r.length,conversionRate:r.length>0?(a.length/r.reduce((l,h)=>l+h.recipients,0)*100).toFixed(1):0}}),startRealTimeUpdates:()=>{setInterval(()=>{if(Math.random()>.7){const t=m.value[Math.floor(Math.random()*m.value.length)],a={id:Date.now(),clientName:`Walk-in Customer ${Math.floor(Math.random()*1e3)}`,clientPhone:`+25470${Math.floor(Math.random()*1e7).toString().padStart(7,"0")}`,vendorId:t.id,vendorName:t.name,message:F(),timestamp:Date.now(),status:"new"};u.value.unshift(a),b.value.formResponses++,o(a)}},3e4)}}}),ne={class:"space-y-6"},re={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ie={class:"bg-white p-6 rounded-lg shadow-md"},de={class:"text-2xl font-bold text-blue-600"},le={class:"bg-white p-6 rounded-lg shadow-md"},ue={class:"text-2xl font-bold text-green-600"},ce={class:"bg-white p-6 rounded-lg shadow-md"},me={class:"text-2xl font-bold text-purple-600"},pe={class:"bg-white p-6 rounded-lg shadow-md"},ge={class:"text-2xl font-bold text-indigo-600"},ve={class:"bg-white rounded-lg shadow-md"},ye={class:"border-b border-gray-200"},he={class:"-mb-px flex space-x-8"},fe=["onClick"],we={class:"p-6"},xe={key:0,class:"space-y-6"},be={class:"flex justify-between items-center"},_e={class:"bg-gray-50 p-4 rounded-lg"},Ce={class:"space-y-2"},Ie={class:"font-medium"},Te={class:"text-sm text-gray-600"},ke={key:1,class:"space-y-6"},Se={class:"flex justify-between items-center"},Me={class:"flex space-x-2"},Re=["value"],Ae={class:"overflow-x-auto"},Ne={class:"min-w-full divide-y divide-gray-200"},De={class:"divide-y divide-gray-200"},Ve={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Pe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Fe={class:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate"},qe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},$e={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Be=["onClick"],Qe=["onClick"],Ge={key:2,class:"space-y-6"},je={class:"flex justify-between items-center"},We={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ue={class:"bg-gray-50 p-4 rounded-lg"},ze={class:"space-y-2"},Le={class:"font-medium"},Ee={class:"text-sm text-gray-600"},Je={class:"bg-gray-50 p-4 rounded-lg"},Oe={class:"space-y-2 max-h-64 overflow-y-auto"},He={class:"text-sm font-medium"},Ke={class:"text-xs text-gray-600 truncate"},Xe={class:"text-xs text-gray-500"},Ye={key:3,class:"space-y-6"},Ze={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},et={class:"bg-gray-50 p-4 rounded-lg"},tt={class:"space-y-4"},st=["disabled"],ot={class:"bg-gray-50 p-4 rounded-lg"},at={class:"space-y-2 max-h-64 overflow-y-auto"},nt={class:"text-sm font-medium"},rt={class:"text-xs text-gray-600"},it={class:"text-xs text-gray-500"},dt={key:4,class:"space-y-6"},lt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ut={class:"bg-gray-50 p-4 rounded-lg"},ct={class:"text-3xl font-bold text-green-600"},mt={class:"text-sm text-gray-600"},pt={class:"bg-gray-50 p-4 rounded-lg"},gt={class:"space-y-2"},vt={class:"text-sm"},yt={class:"text-sm font-medium"},ht={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},ft={class:"bg-white p-6 rounded-lg w-full max-w-md"},wt={class:"space-y-4"},xt=["value"],bt={class:"flex justify-end space-x-2 mt-4"},_t={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Ct={class:"bg-white p-6 rounded-lg w-full max-w-md"},It={class:"space-y-4"},Tt={class:"flex justify-end space-x-2 mt-4"},qt={__name:"Telegram",setup(b){const m=ae(),{stats:g,vendors:u,smsCampaigns:S,formResponses:T,telegramGroups:M,telegramBroadcasts:N,aiResponses:B}=Y(m),_=p("sms"),D=p(""),V=p(!1),P=p(!1),R=p(""),f=p({name:"",message:"",vendorId:""}),w=p({name:"",chatId:"",botToken:""}),Q=[{id:"sms",name:"SMS Campaigns"},{id:"responses",name:"Form Responses"},{id:"telegram",name:"Telegram"},{id:"ai",name:"AI Assistant"},{id:"analytics",name:"Analytics"}],G=$(()=>D.value?T.value.filter(c=>c.vendorId===D.value):T.value),j=$(()=>u.value.map(s=>({...s,responseCount:T.value.filter(o=>o.vendorId===s.id).length})).sort((s,o)=>o.responseCount-s.responseCount).slice(0,5)),F=c=>new Date(c).toLocaleString(),W=async()=>{try{await m.createSmsCampaign(f.value),y("SMS Campaign created successfully","success"),V.value=!1,f.value={name:"",message:"",vendorId:""}}catch{y("Failed to create SMS campaign","error")}},U=async c=>{try{await m.broadcastToTelegram(c),y("Message broadcasted to Telegram","success")}catch{y("Failed to broadcast message","error")}},z=async c=>{try{await m.generateAiResponse(c),y("AI response generated","success")}catch{y("Failed to generate AI response","error")}},L=async()=>{try{await m.addTelegramGroup(w.value),y("Telegram group added successfully","success"),P.value=!1,w.value={name:"",chatId:"",botToken:""}}catch{y("Failed to add Telegram group","error")}},E=async()=>{try{await m.processAiQuery(R.value),y("Query processed successfully","success"),R.value=""}catch{y("Failed to process query","error")}},J=async()=>{try{await m.trainAiModel(),y("AI model training initiated","success")}catch{y("Failed to train AI model","error")}};return Z(()=>{m.loadDashboardData()}),ee(()=>m.newResponse,c=>{c&&y(`New response from ${c.clientName}`,"info")},{deep:!0}),(c,s)=>(i(),te(oe,{title:"telegram"},{default:se(()=>[e("div",ne,[e("div",re,[e("div",ie,[s[12]||(s[12]=e("h3",{class:"text-sm font-medium text-gray-500"},"Total SMS Sent",-1)),e("p",de,n(v(g).totalSms),1)]),e("div",le,[s[13]||(s[13]=e("h3",{class:"text-sm font-medium text-gray-500"},"Form Responses",-1)),e("p",ue,n(v(g).formResponses),1)]),e("div",ce,[s[14]||(s[14]=e("h3",{class:"text-sm font-medium text-gray-500"},"Telegram Messages",-1)),e("p",me,n(v(g).telegramMessages),1)]),e("div",pe,[s[15]||(s[15]=e("h3",{class:"text-sm font-medium text-gray-500"},"AI Queries",-1)),e("p",ge,n(v(g).aiQueries),1)])]),e("div",ve,[e("div",ye,[e("nav",he,[(i(),d(C,null,I(Q,o=>e("button",{key:o.id,onClick:O=>_.value=o.id,class:H(["py-4 px-1 border-b-2 font-medium text-sm",_.value===o.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},n(o.name),11,fe)),64))])]),e("div",we,[_.value==="sms"?(i(),d("div",xe,[e("div",be,[s[16]||(s[16]=e("h2",{class:"text-xl font-semibold"},"SMS Campaigns",-1)),e("button",{onClick:s[0]||(s[0]=o=>V.value=!0),class:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700"}," New Campaign ")]),e("div",_e,[s[17]||(s[17]=e("h3",{class:"font-medium mb-2"},"Recent Campaigns",-1)),e("div",Ce,[(i(!0),d(C,null,I(v(S),o=>(i(),d("div",{key:o.id,class:"bg-white p-3 rounded border flex justify-between items-center"},[e("div",null,[e("p",Ie,n(o.name),1),e("p",Te,"Sent to "+n(o.recipients)+" recipients",1)]),e("span",{class:H(["px-2 py-1 rounded text-xs",o.status==="completed"?"bg-green-100 text-green-800":o.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"])},n(o.status),3)]))),128))])])])):A("",!0),_.value==="responses"?(i(),d("div",ke,[e("div",Se,[s[19]||(s[19]=e("h2",{class:"text-xl font-semibold"},"Form Responses",-1)),e("div",Me,[k(e("select",{"onUpdate:modelValue":s[1]||(s[1]=o=>D.value=o),class:"border rounded px-3 py-2"},[s[18]||(s[18]=e("option",{value:""},"All Vendors",-1)),(i(!0),d(C,null,I(v(u),o=>(i(),d("option",{key:o.id,value:o.id},n(o.name),9,Re))),128))],512),[[K,D.value]])])]),e("div",Ae,[e("table",Ne,[s[20]||(s[20]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Client"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Vendor"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Response"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Time"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),e("tbody",De,[(i(!0),d(C,null,I(G.value,o=>(i(),d("tr",{key:o.id},[e("td",Ve,n(o.clientName),1),e("td",Pe,n(o.vendorName),1),e("td",Fe,n(o.message),1),e("td",qe,n(F(o.timestamp)),1),e("td",$e,[e("button",{onClick:O=>U(o),class:"text-purple-600 hover:text-purple-900 mr-3"}," Broadcast ",8,Be),e("button",{onClick:O=>z(o),class:"text-indigo-600 hover:text-indigo-900"}," AI Reply ",8,Qe)])]))),128))])])])])):A("",!0),_.value==="telegram"?(i(),d("div",Ge,[e("div",je,[s[21]||(s[21]=e("h2",{class:"text-xl font-semibold"},"Telegram Integration",-1)),e("button",{onClick:s[2]||(s[2]=o=>P.value=!0),class:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700"}," Configure Groups ")]),e("div",We,[e("div",Ue,[s[22]||(s[22]=e("h3",{class:"font-medium mb-2"},"Connected Groups",-1)),e("div",ze,[(i(!0),d(C,null,I(v(M),o=>(i(),d("div",{key:o.id,class:"bg-white p-3 rounded border flex justify-between items-center"},[e("div",null,[e("p",Le,n(o.name),1),e("p",Ee,n(o.members)+" members",1)]),e("span",{class:H(["px-2 py-1 rounded text-xs",o.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},n(o.active?"Active":"Inactive"),3)]))),128))])]),e("div",Je,[s[23]||(s[23]=e("h3",{class:"font-medium mb-2"},"Broadcast History",-1)),e("div",Oe,[(i(!0),d(C,null,I(v(N),o=>(i(),d("div",{key:o.id,class:"bg-white p-3 rounded border"},[e("p",He,n(o.groupName),1),e("p",Ke,n(o.message),1),e("p",Xe,n(F(o.timestamp)),1)]))),128))])])])])):A("",!0),_.value==="ai"?(i(),d("div",Ye,[e("div",{class:"flex justify-between items-center"},[s[24]||(s[24]=e("h2",{class:"text-xl font-semibold"},"AI Assistant",-1)),e("button",{onClick:J,class:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700"}," Train Model ")]),e("div",Ze,[e("div",et,[s[25]||(s[25]=e("h3",{class:"font-medium mb-2"},"AI Query Interface",-1)),e("div",tt,[k(e("textarea",{"onUpdate:modelValue":s[3]||(s[3]=o=>R.value=o),placeholder:"Enter your query here...",class:"w-full p-3 border rounded-lg resize-none",rows:"4"},null,512),[[q,R.value]]),e("button",{onClick:E,disabled:!R.value.trim(),class:"w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 disabled:bg-gray-400"}," Process Query ",8,st)])]),e("div",ot,[s[26]||(s[26]=e("h3",{class:"font-medium mb-2"},"Recent AI Responses",-1)),e("div",at,[(i(!0),d(C,null,I(v(B),o=>(i(),d("div",{key:o.id,class:"bg-white p-3 rounded border"},[e("p",nt,"Query: "+n(o.query.substring(0,50))+"...",1),e("p",rt,"Response: "+n(o.response.substring(0,100))+"...",1),e("p",it,n(F(o.timestamp)),1)]))),128))])])])])):A("",!0),_.value==="analytics"?(i(),d("div",dt,[s[29]||(s[29]=e("h2",{class:"text-xl font-semibold"},"Analytics & Reports",-1)),e("div",lt,[e("div",ut,[s[27]||(s[27]=e("h3",{class:"font-medium mb-2"},"Response Rate",-1)),e("div",ct,n((v(g).formResponses/v(g).totalSms*100).toFixed(1))+"% ",1),e("p",mt,n(v(g).formResponses)+" responses from "+n(v(g).totalSms)+" SMS sent",1)]),e("div",pt,[s[28]||(s[28]=e("h3",{class:"font-medium mb-2"},"Top Performing Vendors",-1)),e("div",gt,[(i(!0),d(C,null,I(j.value,o=>(i(),d("div",{key:o.id,class:"flex justify-between"},[e("span",vt,n(o.name),1),e("span",yt,n(o.responseCount)+" responses",1)]))),128))])])])])):A("",!0)])]),V.value?(i(),d("div",ht,[e("div",ft,[s[31]||(s[31]=e("h3",{class:"text-lg font-semibold mb-4"},"Create SMS Campaign",-1)),e("div",wt,[k(e("input",{"onUpdate:modelValue":s[4]||(s[4]=o=>f.value.name=o),placeholder:"Campaign Name",class:"w-full p-2 border rounded"},null,512),[[q,f.value.name]]),k(e("textarea",{"onUpdate:modelValue":s[5]||(s[5]=o=>f.value.message=o),placeholder:"SMS Message with {form_link} placeholder",class:"w-full p-2 border rounded resize-none",rows:"3"},null,512),[[q,f.value.message]]),k(e("select",{"onUpdate:modelValue":s[6]||(s[6]=o=>f.value.vendorId=o),class:"w-full p-2 border rounded"},[s[30]||(s[30]=e("option",{value:""},"Select Vendor",-1)),(i(!0),d(C,null,I(v(u),o=>(i(),d("option",{key:o.id,value:o.id},n(o.name),9,xt))),128))],512),[[K,f.value.vendorId]])]),e("div",bt,[e("button",{onClick:s[7]||(s[7]=o=>V.value=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Cancel "),e("button",{onClick:W,class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"}," Create Campaign ")])])])):A("",!0),P.value?(i(),d("div",_t,[e("div",Ct,[s[32]||(s[32]=e("h3",{class:"text-lg font-semibold mb-4"},"Configure Telegram Group",-1)),e("div",It,[k(e("input",{"onUpdate:modelValue":s[8]||(s[8]=o=>w.value.name=o),placeholder:"Group Name",class:"w-full p-2 border rounded"},null,512),[[q,w.value.name]]),k(e("input",{"onUpdate:modelValue":s[9]||(s[9]=o=>w.value.chatId=o),placeholder:"Chat ID",class:"w-full p-2 border rounded"},null,512),[[q,w.value.chatId]]),k(e("input",{"onUpdate:modelValue":s[10]||(s[10]=o=>w.value.botToken=o),placeholder:"Bot Token",class:"w-full p-2 border rounded",type:"password"},null,512),[[q,w.value.botToken]])]),e("div",Tt,[e("button",{onClick:s[11]||(s[11]=o=>P.value=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Cancel "),e("button",{onClick:L,class:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700"}," Add Group ")])])])):A("",!0)])]),_:1}))}};export{qt as default};
