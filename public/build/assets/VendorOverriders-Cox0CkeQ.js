import{G as D,r as A,x as F,j as M,c as N,o as n,w as U,a as e,d,e as w,t as o,y as $,A as p,u as i,F as m,g as _,C,B as j,W as E}from"./app-Bb0Q1EIt.js";import{_ as W}from"./AppLayout-UMGJesI-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./webrtc-JHrLhPx_.js";import"./africastalking-CcxJMV7u.js";import"./IncomingCallDialog-DOGkybrx.js";/* empty css                                                                           */const G={class:"p-6"},L={class:"flex justify-between items-center mb-6"},T={key:0,class:"bg-gray-50 p-6 rounded mb-8 border"},q={class:"grid grid-cols-2 gap-4"},z=["value"],H=["value"],I={class:"mt-4"},J=["disabled"],K={class:"bg-white border rounded"},P={class:"w-full"},Q={class:"p-3"},X={class:"p-3"},Y={class:"p-3"},Z={class:"p-3"},ee={class:"p-3 font-semibold"},te={class:"p-3"},se=["onClick"],oe={key:0},pe={__name:"VendorOverriders",setup(re){const v=D(),f=v.props.vendorServices??[],V=v.props.conditions??[],b=v.props.overrides??[],l=A(!1),r=F({vendor_service_id:"",service_condition_id:"",custom_rate:""}),R=M(()=>{if(!r.vendor_service_id)return[];const a=f.find(t=>t.id===r.vendor_service_id);return a?V.filter(t=>t.service_id===a.service_id):[]}),B=()=>{r.post(route("vendor-overrides.store"),{onSuccess:()=>{r.reset(),l.value=!1}})},O=a=>{confirm("Remove this override?")&&E.delete(route("vendor-overrides.destroy",a))};return(a,t)=>(n(),N(W,null,{default:U(()=>[e("div",G,[e("div",L,[t[4]||(t[4]=e("h1",{class:"text-2xl font-bold"},"Vendor Rate Overrides",-1)),e("button",{onClick:t[0]||(t[0]=s=>l.value=!l.value),class:"bg-blue-600 text-white px-4 py-2 rounded"},o(l.value?"Close":"Add Override"),1)]),l.value?(n(),d("div",T,[e("form",{onSubmit:$(B,["prevent"])},[e("div",q,[e("div",null,[t[6]||(t[6]=e("label",{class:"block mb-1 font-medium"}," Vendor Service ",-1)),p(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>i(r).vendor_service_id=s),class:"w-full border rounded p-2"},[t[5]||(t[5]=e("option",{value:""},"Select Vendor Service",-1)),(n(!0),d(m,null,_(i(f),s=>{var c,u;return n(),d("option",{key:s.id,value:s.id},o((c=s.vendor)==null?void 0:c.name)+" - "+o((u=s.service)==null?void 0:u.service_name),9,z)}),128))],512),[[C,i(r).vendor_service_id]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block mb-1 font-medium"}," Service Condition ",-1)),p(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>i(r).service_condition_id=s),class:"w-full border rounded p-2"},[t[7]||(t[7]=e("option",{value:""},"Select Condition",-1)),(n(!0),d(m,null,_(R.value,s=>(n(),d("option",{key:s.id,value:s.id},o(s.condition_type)+" ("+o(s.min_value)+" - "+o(s.max_value)+") â†’ Default: "+o(s.rate),9,H))),128))],512),[[C,i(r).service_condition_id]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block mb-1 font-medium"}," Custom Rate ",-1)),p(e("input",{type:"number",step:"0.01","onUpdate:modelValue":t[3]||(t[3]=s=>i(r).custom_rate=s),class:"w-full border rounded p-2",placeholder:"Enter override rate"},null,512),[[j,i(r).custom_rate]])])]),e("div",I,[e("button",{type:"submit",disabled:i(r).processing,class:"bg-green-600 text-white px-4 py-2 rounded"}," Save Override ",8,J)])],32)])):w("",!0),e("div",K,[e("table",P,[t[11]||(t[11]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"p-3 text-left"},"Vendor"),e("th",{class:"p-3 text-left"},"Service"),e("th",{class:"p-3 text-left"},"Condition"),e("th",{class:"p-3 text-left"},"Default Rate"),e("th",{class:"p-3 text-left"},"Custom Rate"),e("th",{class:"p-3 text-left"},"Action")])],-1)),e("tbody",null,[(n(!0),d(m,null,_(i(b),s=>{var c,u,x,y,g,S,k,h;return n(),d("tr",{key:s.id,class:"border-t"},[e("td",Q,o((u=(c=s.vendorService)==null?void 0:c.vendor)==null?void 0:u.name),1),e("td",X,o((y=(x=s.vendorService)==null?void 0:x.service)==null?void 0:y.service_name),1),e("td",Y,o((g=s.condition)==null?void 0:g.condition_type)+" ("+o((S=s.condition)==null?void 0:S.min_value)+" - "+o((k=s.condition)==null?void 0:k.max_value)+") ",1),e("td",Z,o((h=s.condition)==null?void 0:h.rate),1),e("td",ee,o(s.custom_rate),1),e("td",te,[e("button",{onClick:ie=>O(s.id),class:"text-red-600"}," Remove ",8,se)])])}),128)),i(b).length===0?(n(),d("tr",oe,t[10]||(t[10]=[e("td",{colspan:"6",class:"p-4 text-center text-gray-500"}," No overrides created yet. ",-1)]))):w("",!0)])])])])]),_:1}))}};export{pe as default};
