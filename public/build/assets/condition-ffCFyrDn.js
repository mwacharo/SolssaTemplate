import{E as d,i as n}from"./app-COMRJuZu.js";const l=d("condition",{state:()=>({conditions:[],loading:!1,error:null}),actions:{async fetchConditions(){var i,e;this.loading=!0,this.error=null;try{const t=await n.get("/api/v1/service-conditions");this.conditions=t.data||[]}catch(t){this.error=((e=(i=t.response)==null?void 0:i.data)==null?void 0:e.message)||"Failed to fetch service conditions",console.error("Fetch conditions error:",t)}finally{this.loading=!1}},async createCondition(i){var e,t;this.loading=!0,this.error=null;try{const o=await n.post("/api/v1/service-conditions",i);return this.conditions.unshift(o.data.data),o.data.data}catch(o){throw this.error=((t=(e=o.response)==null?void 0:e.data)==null?void 0:t.message)||"Failed to create condition",console.error("Create condition error:",o),o}finally{this.loading=!1}},async updateCondition(i,e){var t,o;this.loading=!0,this.error=null;try{const r=await n.put(`/api/v1/service-conditions/${i}`,e),s=this.conditions.findIndex(a=>a.id===i);return s!==-1&&(this.conditions[s]=r.data.data),r.data.data}catch(r){throw this.error=((o=(t=r.response)==null?void 0:t.data)==null?void 0:o.message)||"Failed to update condition",console.error("Update condition error:",r),r}finally{this.loading=!1}},async deleteCondition(i){var e,t;this.loading=!0,this.error=null;try{await n.delete(`/api/v1/service-conditions/${i}`),this.conditions=this.conditions.filter(o=>o.id!==i)}catch(o){throw this.error=((t=(e=o.response)==null?void 0:e.data)==null?void 0:t.message)||"Failed to delete condition",console.error("Delete condition error:",o),o}finally{this.loading=!1}}}});export{l as u};
