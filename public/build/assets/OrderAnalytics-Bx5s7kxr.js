import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as g,j as l,s as D,k as z,l as B,d as x,o as u,a as s,F as Q,g as F,c as j,t as i,n as A}from"./app-C6VbMVsS.js";const S={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},W={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6"},L={class:"flex items-center space-x-2"},I={class:"flex bg-gray-100 rounded-lg p-1"},P=["onClick"],T={class:"relative"},E={key:0,class:"flex items-center justify-center h-80"},O={class:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-6 pt-6 border-t border-gray-100"},Y={class:"text-center"},G={class:"text-2xl font-bold text-gray-900"},J={class:"text-center"},N={class:"text-2xl font-bold text-gray-900"},V={class:"text-center"},$={class:"text-2xl font-bold text-gray-900"},R={class:"text-center"},q={class:"text-2xl font-bold text-gray-900"},H={__name:"OrderAnalytics",props:{chartData:{type:Array,required:!0,default:()=>[]}},setup(v){const c=v,n=g("6M"),m=g(!1),h=[{label:"1M",value:"1M"},{label:"3M",value:"3M"},{label:"6M",value:"6M"},{label:"1Y",value:"1Y"}],b=l(()=>({chart:{id:"orders-analytics",type:"area",height:320,fontFamily:"Inter, sans-serif",toolbar:{show:!0,tools:{download:!0,selection:!1,zoom:!0,zoomin:!0,zoomout:!0,pan:!1,reset:!0}},animations:{enabled:!0,easing:"easeinout",speed:800}},colors:["#3B82F6","#10B981"],dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3,lineCap:"round"},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.4,opacityTo:.1,stops:[0,100]}},grid:{borderColor:"#E5E7EB",strokeDashArray:3,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}},padding:{top:20,right:20,bottom:20,left:20}},xaxis:{categories:y(n.value),axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:"#6B7280",fontSize:"12px",fontWeight:500}}},yaxis:{labels:{style:{colors:"#6B7280",fontSize:"12px",fontWeight:500},formatter:t=>t>=1e3?(t/1e3).toFixed(1)+"K":t}},tooltip:{theme:"light",x:{show:!0},y:{formatter:(t,{seriesIndex:e,dataPointIndex:o,w:a})=>`${a.config.series[e].name}: ${t.toLocaleString()} orders`},marker:{show:!0},style:{fontSize:"12px",fontFamily:"Inter, sans-serif"}},legend:{show:!0,position:"top",horizontalAlign:"right",fontSize:"12px",fontFamily:"Inter, sans-serif",fontWeight:500,labels:{colors:"#374151"},markers:{width:8,height:8,strokeWidth:0,radius:4}},responsive:[{breakpoint:768,options:{chart:{height:280},legend:{position:"bottom",horizontalAlign:"center"}}}]})),d=l(()=>!c.chartData||c.chartData.length===0?[{name:"Confirmed",data:[]},{name:"Delivered",data:[]}]:c.chartData.map(t=>({...t,data:w(t.data,n.value)})));function y(t){const e={"1M":["Week 1","Week 2","Week 3","Week 4"],"3M":["Jan","Feb","Mar"],"6M":["Jan","Feb","Mar","Apr","May","Jun"],"1Y":["Q1","Q2","Q3","Q4","Q1","Q2","Q3","Q4","Q1","Q2","Q3","Q4"]};return e[t]||e["6M"]}function w(t,e){return t?{"1M":t.slice(-4),"3M":t.slice(-3),"6M":t,"1Y":[...t,...t]}[e]||t:[]}const f=l(()=>{const t=d.value.find(e=>e.name==="Confirmed");return t?t.data.reduce((e,o)=>e+o,0):0}),p=l(()=>{const t=d.value.find(e=>e.name==="Delivered");return t?t.data.reduce((e,o)=>e+o,0):0}),_=l(()=>f.value===0?0:Math.round(p.value/f.value*100)),M=l(()=>{var a;const t=((a=d.value.find(r=>r.name==="Confirmed"))==null?void 0:a.data)||[];if(t.length<2)return 0;let e=0,o=0;for(let r=1;r<t.length;r++)if(t[r-1]>0){const k=(t[r]-t[r-1])/t[r-1]*100;e+=k,o++}return o>0?Math.round(e/o):0});return D(n,async()=>{m.value=!0,await new Promise(t=>setTimeout(t,500)),m.value=!1}),z(()=>{}),(t,e)=>{const o=B("apexchart");return u(),x("div",S,[s("div",W,[e[0]||(e[0]=s("div",{class:"mb-4 sm:mb-0"},[s("h3",{class:"text-lg font-semibold text-gray-900 mb-1"},"Order Analytics"),s("p",{class:"text-sm text-gray-500"},"Confirmed vs Delivered orders over time")],-1)),s("div",L,[s("div",I,[(u(),x(Q,null,F(h,a=>s("button",{key:a.value,onClick:r=>n.value=a.value,class:A(["px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200",n.value===a.value?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"])},i(a.label),11,P)),64))])])]),s("div",T,[m.value?(u(),x("div",E,e[1]||(e[1]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-2 border-blue-600 border-t-transparent"},null,-1)]))):(u(),j(o,{key:1,type:"area",height:"320",options:b.value,series:d.value,class:"apex-chart"},null,8,["options","series"]))]),s("div",O,[s("div",Y,[e[2]||(e[2]=s("div",{class:"flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full mx-auto mb-2"},[s("div",{class:"w-3 h-3 bg-blue-600 rounded-full"})],-1)),s("p",G,i(f.value),1),e[3]||(e[3]=s("p",{class:"text-xs text-gray-500"},"Total Confirmed",-1))]),s("div",J,[e[4]||(e[4]=s("div",{class:"flex items-center justify-center w-8 h-8 bg-green-100 rounded-full mx-auto mb-2"},[s("div",{class:"w-3 h-3 bg-green-600 rounded-full"})],-1)),s("p",N,i(p.value),1),e[5]||(e[5]=s("p",{class:"text-xs text-gray-500"},"Total Delivered",-1))]),s("div",V,[e[6]||(e[6]=s("div",{class:"flex items-center justify-center w-8 h-8 bg-orange-100 rounded-full mx-auto mb-2"},[s("svg",{class:"w-4 h-4 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z","clip-rule":"evenodd"})])],-1)),s("p",$,i(_.value)+"%",1),e[7]||(e[7]=s("p",{class:"text-xs text-gray-500"},"Completion Rate",-1))]),s("div",R,[e[8]||(e[8]=s("div",{class:"flex items-center justify-center w-8 h-8 bg-purple-100 rounded-full mx-auto mb-2"},[s("svg",{class:"w-4 h-4 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})])],-1)),s("p",q,i(M.value)+"%",1),e[9]||(e[9]=s("p",{class:"text-xs text-gray-500"},"Avg Growth",-1))])])])}}},X=C(H,[["__scopeId","data-v-53b6c1d2"]]);export{X as default};
