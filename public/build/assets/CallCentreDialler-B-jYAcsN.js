import{E as ft,r as d,j as h,s as _t,l as i,c as G,o as g,w as l,b as t,a as r,f as n,t as c,d as x,e as F,F as ie,g as ue,u as K,p as We,q as Ke}from"./app-CtLjL_h-.js";import{u as gt}from"./orderStore-DYlFbo8e.js";import{u as yt}from"./callCenter-98vl48eu.js";import{u as bt}from"./whatsappStore-D-ayhmEe.js";import{_ as Ct}from"./_plugin-vue_export-helper-DlAUqK2U.js";const wt=ft("callCentreDialler",()=>{const m=d(null),Q=d(!1),O=d("call"),v=d({active:!1,calling:!1,muted:!1,onHold:!1,duration:0,startTime:null,recordCall:!0,autoLog:!0}),Y=d([]),E=d(null),y=d({type:"whatsapp",selectedTemplate:null,sending:!1,content:"",subject:"",attachments:[]}),$=d([{id:1,name:"Order Confirmation",description:"Confirm order details",content:"Dear {customer_name}, your order #{order_no} has been confirmed and will be delivered on {delivery_date}.",type:"all"},{id:2,name:"Delivery Update",description:"Update on delivery status",content:"Hi {customer_name}, your order #{order_no} is out for delivery and will arrive on {delivery_date}.",type:"all"},{id:3,name:"Payment Reminder",description:"Remind about pending payment",content:"Hello {customer_name}, please complete payment of KSH {total_price} for order #{order_no}. Thank you!",type:"all"},{id:4,name:"Order Cancellation",description:"Notify order cancellation",content:"Dear {customer_name}, we regret to inform you that order #{order_no} has been cancelled. Please contact us for more details.",type:"all"},{id:5,name:"Feedback Request",description:"Request customer feedback",content:"Hi {customer_name}, thank you for your order #{order_no}. We would love to hear your feedback!",type:"all"}]),q=d({updating:!1,formData:{status_id:null,status_category_id:null,status_notes:"",recall_date:null,notifyCustomer:!0,notificationMethod:"sms"}}),de=d([{id:1,name:"Pending",color:"orange",description:"Order awaiting confirmation"},{id:2,name:"Confirmed",color:"green",description:"Order confirmed by customer"},{id:3,name:"Processing",color:"blue",description:"Order being prepared"},{id:4,name:"Shipped",color:"purple",description:"Order dispatched for delivery"},{id:5,name:"Delivered",color:"teal",description:"Order delivered to customer"},{id:6,name:"Follow Up",color:"amber",description:"Requires follow up"},{id:7,name:"Cancelled",color:"red",description:"Order cancelled"},{id:8,name:"On Hold",color:"grey",description:"Order temporarily on hold"}]),H=d([{id:1,name:"Standard",status_id:1,description:"Standard processing"},{id:2,name:"Expedited",status_id:2,description:"Fast-track processing"},{id:3,name:"Follow Up",status_id:6,description:"Requires callback",requiresRecall:!0},{id:4,name:"Customer Request",status_id:8,description:"Customer requested hold"},{id:5,name:"Payment Issue",status_id:6,description:"Payment verification needed",requiresRecall:!0}]),V=d([]),I=d({saving:!1,formData:{type:"General",content:"",pinned:!1}}),Z=d([{value:"General",text:"General Note",color:"blue-grey"},{value:"Call Summary",text:"Call Summary",color:"blue"},{value:"Customer Request",text:"Customer Request",color:"purple"},{value:"Issue",text:"Issue/Problem",color:"red"},{value:"Follow Up",text:"Follow Up Required",color:"orange"},{value:"Payment",text:"Payment Related",color:"green"}]),k=d([]),R=d([]),D=d({order:!1,statuses:!1,notes:!1}),U=h(()=>m.value?m.value.customer||m.value.customer_address||m.value.shipping_address||{}:null),Se=h(()=>q.value.formData.status_id?H.value.filter(e=>e.status_id===q.value.formData.status_id):[]),J=h(()=>{const e=H.value.find(a=>a.id===q.value.formData.status_category_id);return(e==null?void 0:e.requiresRecall)||!1}),w=h(()=>{const e=v.value.duration,a=Math.floor(e/60),u=e%60;return`${String(a).padStart(2,"0")}:${String(u).padStart(2,"0")}`}),X=h(()=>k.value.filter(e=>e.pinned)),p=h(()=>k.value.filter(e=>!e.pinned)),ee=(e,a=null)=>{console.log("Opening call dialog for phone number:",e),a&&(m.value=a),Q.value=!0};function T(){Q.value=!1,O.value="call",Ae(),v.value.active&&le()}function j(e){O.value=e}function me(){var e;if(!((e=U.value)!=null&&e.phone)){b("No phone number available","error");return}v.value.calling=!0,setTimeout(()=>{v.value.calling=!1,v.value.active=!0,v.value.startTime=Date.now(),ce(),b("Call connected successfully","success")},2e3)}function ce(){E.value=setInterval(()=>{v.value.active&&v.value.duration++},1e3)}function xe(){E.value&&(clearInterval(E.value),E.value=null)}function ve(){v.value.muted=!v.value.muted,b(v.value.muted?"Microphone muted":"Microphone unmuted","info")}function te(){v.value.onHold=!v.value.onHold,b(v.value.onHold?"Call on hold":"Call resumed","info")}function le(){var a,u,f;const e=v.value.duration;Y.value.unshift({id:Date.now(),order_id:(a=m.value)==null?void 0:a.id,customer_name:(u=U.value)==null?void 0:u.full_name,phone:(f=U.value)==null?void 0:f.phone,type:"outgoing",duration:w.value,timestamp:new Date().toISOString(),recorded:v.value.recordCall,notes:v.value.autoLog?"Auto-logged call":null}),v.value.active=!1,v.value.calling=!1,v.value.muted=!1,v.value.onHold=!1,v.value.duration=0,v.value.startTime=null,xe(),b("Call ended","info"),v.value.autoLog&&De(e)}async function De(e){const a={id:Date.now(),type:"Call Summary",content:`Called customer. Duration: ${s(e)}. ${v.value.recordCall?"Call was recorded.":""}`,pinned:!1,created_at:new Date().toISOString(),user_name:"Current User",auto_generated:!0};k.value.unshift(a)}function Ve(e){y.value.type=e,y.value.attachments=[]}function ke(e){const a=$.value.find(u=>u.id===e);a&&(y.value.content=ae(a.content),y.value.type==="email"&&(y.value.subject=a.name),y.value.selectedTemplate=e)}function ae(e){return!m.value||!U.value?e:e.replace(/{customer_name}/g,U.value.full_name||"Customer").replace(/{order_no}/g,m.value.order_no||"N/A").replace(/{delivery_date}/g,ye(m.value.delivery_date)||"N/A").replace(/{total_price}/g,m.value.total_price||"0.00")}function Ue(e){y.value.content+=e}function pe(e){y.value.attachments.push(e)}function oe(e){y.value.attachments.splice(e,1)}async function Te(){var e;if(!y.value.content.trim())return b("Please enter a message","error"),!1;y.value.sending=!0;try{await new Promise(u=>setTimeout(u,1500));const a={id:Date.now(),order_id:(e=m.value)==null?void 0:e.id,type:y.value.type,content:y.value.content,subject:y.value.subject,sent_at:new Date().toISOString(),status:"sent"};return b(`${y.value.type.toUpperCase()} sent successfully`,"success"),fe(),!0}catch{return b("Failed to send message","error"),!1}finally{y.value.sending=!1}}async function S(){var a;const e=q.value.formData;if(!e.status_id||!e.status_notes)return b("Please fill in all required fields","error"),!1;if(J.value&&!e.recall_date)return b("Recall date is required for this status","error"),!1;q.value.updating=!0;try{await new Promise(_=>setTimeout(_,1500));const u=de.value.find(_=>_.id===e.status_id),f={id:Date.now(),order_id:(a=m.value)==null?void 0:a.id,status_id:e.status_id,status_name:u.name,status_category_id:e.status_category_id,notes:e.status_notes,recall_date:e.recall_date,created_at:new Date().toISOString(),user:"Current User",color:u.color};return V.value.unshift(f),m.value&&(m.value.status=u.name,m.value.latest_status=f),b("Status updated successfully","success"),e.notifyCustomer&&await Oe(e.notificationMethod,f),_e(),!0}catch{return b("Failed to update status","error"),!1}finally{q.value.updating=!1}}async function Oe(e,a){console.log(`Sending ${e} notification for status update:`,a)}async function Ne(){var a;const e=I.value.formData;if(!e.content.trim())return b("Please enter note content","error"),!1;I.value.saving=!0;try{await new Promise(f=>setTimeout(f,1e3));const u={id:Date.now(),order_id:(a=m.value)==null?void 0:a.id,type:e.type,content:e.content,pinned:e.pinned,created_at:new Date().toISOString(),user_name:"Current User"};return k.value.unshift(u),b("Note saved successfully","success"),ge(),!0}catch{return b("Failed to save note","error"),!1}finally{I.value.saving=!1}}async function Pe(e){const a=k.value.findIndex(u=>u.id===e);a!==-1&&(k.value.splice(a,1),b("Note deleted","success"))}async function ze(e){const a=k.value.find(u=>u.id===e);a&&(a.pinned=!a.pinned,b(a.pinned?"Note pinned":"Note unpinned","success"))}async function Me(e){D.value.order=!0;try{await B(e),await he(e),await Ie(e)}catch(a){console.error("Error loading order data:",a),b("Failed to load order data","error")}finally{D.value.order=!1}}async function B(e){D.value.statuses=!0;try{await new Promise(a=>setTimeout(a,500)),V.value=[{id:1,status_name:"Order Placed",notes:"Customer placed order online",created_at:new Date(Date.now()-864e5).toISOString(),user:"System",color:"blue"},{id:2,status_name:"Payment Confirmed",notes:"Payment received via M-Pesa",created_at:new Date(Date.now()-828e5).toISOString(),user:"John Doe",color:"green"}]}finally{D.value.statuses=!1}}async function he(e){D.value.notes=!0;try{await new Promise(a=>setTimeout(a,500)),k.value=[{id:1,type:"Call Summary",content:"Customer called to confirm delivery address. Updated address in system.",pinned:!0,created_at:new Date(Date.now()-36e5).toISOString(),user_name:"Jane Smith"},{id:2,type:"General",content:"Customer prefers morning deliveries between 8-10 AM.",pinned:!1,created_at:new Date(Date.now()-18e5).toISOString(),user_name:"Jane Smith"}]}finally{D.value.notes=!1}}async function Ie(e){await new Promise(a=>setTimeout(a,500)),Y.value=[{id:1,type:"outgoing",duration:"5:23",timestamp:new Date(Date.now()-72e5).toISOString()},{id:2,type:"incoming",duration:"3:45",timestamp:new Date(Date.now()-864e5).toISOString()}]}function Ae(){fe(),_e(),ge()}function fe(){y.value.content="",y.value.subject="",y.value.attachments=[],y.value.selectedTemplate=null}function _e(){q.value.formData={status_id:null,status_category_id:null,status_notes:"",recall_date:null,notifyCustomer:!0,notificationMethod:"sms"}}function ge(){I.value.formData={type:"General",content:"",pinned:!1}}function b(e,a="info"){const u={id:Date.now(),message:e,type:a,timestamp:new Date().toISOString()};R.value.push(u),setTimeout(()=>{const f=R.value.findIndex(_=>_.id===u.id);f!==-1&&R.value.splice(f,1)},5e3)}function ye(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""}function ne(e){return e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}function s(e){const a=Math.floor(e/60),u=e%60;return`${a}m ${u}s`}return{activeOrder:m,dialogOpen:Q,activeTab:O,callState:v,callHistory:Y,messageState:y,messageTemplates:$,statusState:q,statusOptions:de,statusCategories:H,statusHistory:V,notesState:I,noteTypes:Z,notes:k,notifications:R,loading:D,customer:U,filteredStatusCategories:Se,shouldShowRecallDate:J,formattedCallDuration:w,pinnedNotes:X,unpinnedNotes:p,openDialog:ee,closeDialog:T,setActiveTab:j,initiateCall:me,toggleMute:ve,holdCall:te,endCall:le,setMessageType:Ve,loadTemplate:ke,insertVariable:Ue,addAttachment:pe,removeAttachment:oe,sendMessage:Te,updateOrderStatus:S,saveNote:Ne,deleteNote:Pe,toggleNotePin:ze,loadOrderData:Me,addNotification:b,formatDate:ye,formatDateTime:ne,replaceVariables:ae}}),St={class:"d-flex align-center w-100"},xt={class:"flex-grow-1"},Dt={class:"text-caption text-grey-lighten-1"},Vt={class:"pa-4"},kt={class:"info-row"},Ut={class:"font-weight-medium"},Tt={class:"info-row"},Ot={key:0,class:"info-row"},Nt={class:"text-truncate"},Pt={key:1,class:"info-row"},zt={class:"text-truncate"},Mt={key:2,class:"info-row"},ht={class:"text-truncate"},It={class:"info-row"},At={class:"font-weight-bold"},Ft={class:"info-row"},qt={class:"font-weight-bold text-green"},Rt={class:"info-row"},$t={class:"info-row"},Ht={class:"order-items-list"},jt={class:"d-flex align-center"},Lt={class:"flex-grow-1"},Gt={class:"text-body-2 font-weight-medium"},Et={class:"text-caption text-grey"},Jt={key:0,class:"text-center"},Bt={key:1,class:"call-controls text-center"},Wt={class:"call-status mb-4"},Kt={class:"text-caption text-grey"},Qt={class:"d-flex justify-center gap-3"},Yt={class:"mb-3"},Zt={key:1,class:"mb-3"},Xt={key:0,class:"mt-2"},el={class:"preview-content"},tl={class:"text-body-2"},ll={key:0,class:"text-caption"},al={key:0,class:"ml-8 mb-3"},ol={class:"text-subtitle-1 font-weight-medium mb-3"},nl={class:"text-body-2 font-weight-medium"},sl={class:"text-caption text-grey"},rl={class:"text-caption text-grey"},il={key:0},ul={class:"d-flex align-center mb-2"},dl={class:"text-caption text-grey"},ml={class:"text-body-2"},cl={class:"text-caption text-grey mt-2"},vl={__name:"CallCentreDialler",props:{modelValue:Boolean,order:Object},emits:["update:modelValue","status-updated","note-added"],setup(m,{emit:Q}){const O=m,v=Q,Y={required:s=>!!s||"This field is required",phone:s=>s?/^[\d\s\-\+\(\)]+$/.test(s)||"Invalid phone number format":!0},E=h({get:()=>O.modelValue,set:s=>v("update:modelValue",s)}),y=wt();gt(),yt();const $=bt(),q=h({get:()=>O.modelValue,set:s=>v("update:modelValue",s)}),de=s=>{v("update:modelValue",s),s||y.closeDialog()},H=d("call"),V=h(()=>{var s,e,a;return((s=O.order)==null?void 0:s.customer)||((e=O.order)==null?void 0:e.customer_address)||((a=O.order)==null?void 0:a.shipping_address)||{}}),I=d(!1),Z=d(!1),k=d("00:00"),R=d(!1),D=d({phone:"",recordCall:!0,autoLog:!0}),U=d("whatsapp"),Se=d(null),J=d(!1),w=d({subject:"",content:"",attachments:[]}),X=d(!1),p=d({status_id:null,status_category_id:null,status_notes:"",recall_date:"",notifyCustomer:!0,notificationMethod:"sms"}),ee=d(!1),T=d({type:"General",content:"",pinned:!1}),j=d({show:!1,message:"",color:"success"}),me=d([{id:1,name:"Confirmed",color:"green"},{id:2,name:"Processing",color:"blue"},{id:3,name:"Shipped",color:"orange"},{id:4,name:"Delivered",color:"teal"},{id:5,name:"Follow Up",color:"purple"}]),ce=d([{id:1,name:"Standard",status_id:1},{id:2,name:"Expedited",status_id:2},{id:3,name:"Follow Up",status_id:5}]),xe=d(["General","Call Summary","Customer Request","Issue","Follow Up"]),ve=d([{id:1,type:"outgoing",duration:"5:23",timestamp:"2 hours ago"},{id:2,type:"incoming",duration:"3:45",timestamp:"Yesterday"}]),te=d([{status_name:"Order Placed",notes:"Customer placed order online",created_at:"2024-01-15T10:30:00",user:"System",color:"blue"},{status_name:"Payment Confirmed",notes:"Payment received via M-Pesa",created_at:"2024-01-15T10:35:00",user:"John Doe",color:"green"}]),le=d([{id:1,type:"Call Summary",content:"Customer called to confirm delivery address. Updated address in system.",pinned:!0,created_at:"2024-01-15T14:20:00",user_name:"Jane Smith"},{id:2,type:"General",content:"Customer prefers morning deliveries between 8-10 AM.",pinned:!1,created_at:"2024-01-15T14:25:00",user_name:"Jane Smith"}]),De=h(()=>p.value.status_id?ce.value.filter(s=>s.status_id===p.value.status_id):[]),Ve=h(()=>{const s=ce.value.find(e=>e.id===p.value.status_category_id);return(s==null?void 0:s.name)==="Follow Up"}),ke=h(()=>{var e,a,u;let s=w.value.content||"Your message will appear here...";return s=s.replace("{customer_name}",V.value.full_name||"Customer"),s=s.replace("{order_no}",((e=O.order)==null?void 0:e.order_no)||"N/A"),s=s.replace("{delivery_date}",pe((a=O.order)==null?void 0:a.delivery_date)||"N/A"),s=s.replace("{total_price}",((u=O.order)==null?void 0:u.total_price)||"0.00"),s});_t(()=>O.order,s=>{s&&(D.value.phone=V.value.phone||"",s.order_statuses&&s.order_statuses.length>0&&(te.value=s.order_statuses.map(e=>{var a,u,f;return{status_name:((a=e.status)==null?void 0:a.name)||"Unknown",notes:e.status_notes||"No notes",created_at:e.created_at,user:((u=e.user)==null?void 0:u.name)||"System",color:ae((f=e.status)==null?void 0:f.name)}})))},{immediate:!0,deep:!0});const ae=s=>({Pending:"orange",Confirmed:"green",Processing:"blue",Shipped:"purple",Delivered:"teal",Cancelled:"red","Follow Up":"amber"})[s]||"grey",Ue=s=>({General:"blue-grey","Call Summary":"blue","Customer Request":"purple",Issue:"red","Follow Up":"orange"})[s]||"grey",pe=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",oe=s=>s?new Date(s).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",Te=async s=>{try{await navigator.clipboard.writeText(s),S("Phone number copied to clipboard","success")}catch{S("Failed to copy","error")}},S=(s,e="success")=>{j.value={show:!0,message:s,color:e}},Oe=()=>{Z.value=!0,setTimeout(()=>{Z.value=!1,I.value=!0,Ne(),S("Call connected","success")},2e3)},Ne=()=>{let s=0;const e=setInterval(()=>{if(!I.value){clearInterval(e);return}s++;const a=Math.floor(s/60),u=s%60;k.value=`${String(a).padStart(2,"0")}:${String(u).padStart(2,"0")}`},1e3)},Pe=()=>{R.value=!R.value,S(R.value?"Microphone muted":"Microphone unmuted","info")},ze=()=>{S("Call on hold","info")},Me=()=>{I.value=!1,k.value="00:00",S("Call ended","info"),ve.value.unshift({id:Date.now(),type:"outgoing",duration:k.value,timestamp:"Just now"})},B=s=>{const e=document.querySelector("textarea");if(e){const a=e.selectionStart,u=e.selectionEnd,f=w.value.content;w.value.content=f.substring(0,a)+s+f.substring(u)}else w.value.content+=s},he=s=>{const e=Array.from(s.target.files);w.value.attachments.push(...e)},Ie=s=>{w.value.attachments.splice(s,1)},Ae=async()=>{if(!w.value.content.trim()){S("Please enter a message","error");return}J.value=!0,setTimeout(()=>{J.value=!1,S(`${U.value.toUpperCase()} sent successfully`,"success"),w.value={subject:"",content:"",attachments:[]},Se.value=null},1500)},fe=async()=>{if(!p.value.status_id||!p.value.status_notes){S("Please fill in all required fields","error");return}X.value=!0,setTimeout(()=>{X.value=!1,S("Status updated successfully","success");const s=me.value.find(e=>e.id===p.value.status_id);te.value.unshift({status_name:s.name,notes:p.value.status_notes,created_at:new Date().toISOString(),user:"Current User",color:s.color}),v("status-updated",p.value),p.value={status_id:null,status_category_id:null,status_notes:"",recall_date:"",notifyCustomer:!0,notificationMethod:"sms"}},1500)},_e=async()=>{if(!T.value.content.trim()){S("Please enter note content","error");return}ee.value=!0,setTimeout(()=>{ee.value=!1;const s={id:Date.now(),type:T.value.type,content:T.value.content,pinned:T.value.pinned,created_at:new Date().toISOString(),user_name:"Current User"};le.value.unshift(s),S("Note saved successfully","success"),v("note-added",s),T.value={type:"General",content:"",pinned:!1}},1e3)},ge=()=>{S("Opening order history...","info")},b=()=>{S("Opening customer orders...","info")},ye=()=>{S("Order marked as complete","success"),ne()},ne=()=>{E.value=!1,H.value="call",I.value=!1,w.value={subject:"",content:"",attachments:[]},p.value={status_id:null,status_category_id:null,status_notes:"",recall_date:"",notifyCustomer:!0,notificationMethod:"sms"},T.value={type:"General",content:"",pinned:!1}};return(s,e)=>{const a=i("v-icon"),u=i("v-avatar"),f=i("v-chip"),_=i("v-btn"),W=i("v-card-title"),se=i("v-divider"),Fe=i("v-autocomplete"),P=i("v-card-text"),z=i("v-card"),Le=i("v-col"),be=i("v-tab"),Qe=i("v-tabs"),qe=i("v-text-field"),Ye=i("v-expansion-panel-title"),Ce=i("v-checkbox"),Ze=i("v-expansion-panel-text"),Xe=i("v-expansion-panel"),et=i("v-expansion-panels"),Ge=i("v-list-item-title"),Ee=i("v-list-item-subtitle"),Re=i("v-list-item"),tt=i("v-list"),we=i("v-window-item"),lt=i("v-btn-toggle"),$e=i("v-textarea"),at=i("v-chip-group"),ot=i("v-alert"),He=i("v-select"),je=i("v-radio"),nt=i("v-radio-group"),st=i("v-expand-transition"),rt=i("v-form"),it=i("v-timeline-item"),ut=i("v-timeline"),Je=i("v-spacer"),dt=i("v-window"),mt=i("v-row"),ct=i("v-card-actions"),vt=i("v-snackbar"),pt=i("v-dialog");return g(),G(pt,{"model-value":q.value,"onUpdate:modelValue":de,"max-width":"1200px",persistent:"",scrollable:""},{default:l(()=>[t(z,{class:"call-center-dialog"},{default:l(()=>[t(W,{class:"dialog-header pa-4"},{default:l(()=>{var o,C,M;return[r("div",St,[t(u,{color:"primary",size:"48",class:"mr-3"},{default:l(()=>[t(a,{color:"white",size:"28"},{default:l(()=>e[28]||(e[28]=[n("mdi-headset")])),_:1,__:[28]})]),_:1}),r("div",xt,[e[29]||(e[29]=r("div",{class:"text-h5 font-weight-bold"},"CallCenter",-1)),r("div",Dt," Order #"+c(((o=m.order)==null?void 0:o.order_no)||"N/A")+" - "+c(((C=V.value)==null?void 0:C.full_name)||"Unknown Customer"),1)]),t(f,{color:ae((M=m.order)==null?void 0:M.status),variant:"flat",class:"mr-2"},{default:l(()=>{var A,N,L;return[n(c(((L=(N=(A=m.order)==null?void 0:A.latest_status)==null?void 0:N.status)==null?void 0:L.name)||"Pending"),1)]}),_:1},8,["color"]),t(_,{icon:"",variant:"text",onClick:ne},{default:l(()=>[t(a,null,{default:l(()=>e[30]||(e[30]=[n("mdi-close")])),_:1,__:[30]})]),_:1})])]}),_:1}),t(se),t(P,{class:"pa-0",style:{height:"70vh"}},{default:l(()=>[t(mt,{"no-gutters":"",style:{height:"100%"}},{default:l(()=>[t(Le,{cols:"12",md:"4",class:"left-panel"},{default:l(()=>[r("div",Vt,[t(z,{variant:"outlined",class:"mb-4"},{default:l(()=>[t(W,{class:"text-subtitle-1 bg-blue-grey-lighten-5 py-2"},{default:l(()=>[t(a,{size:"small",class:"mr-2"},{default:l(()=>e[31]||(e[31]=[n("mdi-account")])),_:1,__:[31]}),e[32]||(e[32]=n(" Customer Information "))]),_:1,__:[32]}),t(P,{class:"pa-3"},{default:l(()=>{var o,C,M,A;return[r("div",kt,[t(a,{size:"20",class:"mr-2"},{default:l(()=>e[33]||(e[33]=[n("mdi-account-circle")])),_:1,__:[33]}),r("span",Ut,c(((o=V.value)==null?void 0:o.full_name)||"N/A"),1)]),r("div",Tt,[t(a,{size:"20",class:"mr-2"},{default:l(()=>e[34]||(e[34]=[n("mdi-phone")])),_:1,__:[34]}),r("span",null,c(((C=V.value)==null?void 0:C.phone)||"N/A"),1),t(_,{icon:"",size:"x-small",variant:"text",onClick:e[0]||(e[0]=N=>{var L;return Te((L=V.value)==null?void 0:L.phone)}),class:"ml-1"},{default:l(()=>[t(a,{size:"14"},{default:l(()=>e[35]||(e[35]=[n("mdi-content-copy")])),_:1,__:[35]})]),_:1})]),(M=V.value)!=null&&M.email?(g(),x("div",Ot,[t(a,{size:"20",class:"mr-2"},{default:l(()=>e[36]||(e[36]=[n("mdi-email")])),_:1,__:[36]}),r("span",Nt,c(V.value.email),1)])):F("",!0),t(Fe,{modelValue:m.order.customer.city_id,"onUpdate:modelValue":e[1]||(e[1]=N=>m.order.customer.city_id=N),items:s.cityOptions,"item-title":"name","item-value":"id",label:"City","prepend-inner-icon":"mdi-city",variant:"outlined",density:"comfortable",rules:[Y.required],clearable:"","hide-no-data":"",class:"mb-3"},null,8,["modelValue","items","rules"]),t(Fe,{modelValue:m.order.customer.zone_id,"onUpdate:modelValue":e[2]||(e[2]=N=>m.order.customer.zone_id=N),items:s.zoneOptions,"item-title":"name","item-value":"id",label:"Zone","prepend-inner-icon":"mdi-map-marker-radius",variant:"outlined",density:"comfortable",clearable:"","hide-no-data":"",class:"mb-3"},null,8,["modelValue","items"]),(A=V.value)!=null&&A.address?(g(),x("div",Pt,[t(a,{size:"20",class:"mr-2"},{default:l(()=>e[37]||(e[37]=[n("mdi-map-marker")])),_:1,__:[37]}),r("span",zt,c(V.value.address),1)])):F("",!0),m.order.customer_notes?(g(),x("div",Mt,[t(a,{size:"20",class:"mr-2"},{default:l(()=>e[38]||(e[38]=[n("mdi-note-text")])),_:1,__:[38]}),r("span",ht,c(m.order.customer_notes),1)])):F("",!0)]}),_:1})]),_:1}),t(z,{variant:"outlined",class:"mb-4"},{default:l(()=>[t(W,{class:"text-subtitle-1 bg-blue-grey-lighten-5 py-2"},{default:l(()=>[t(a,{size:"small",class:"mr-2"},{default:l(()=>e[39]||(e[39]=[n("mdi-package-variant")])),_:1,__:[39]}),e[40]||(e[40]=n(" Order Summary "))]),_:1,__:[40]}),t(P,{class:"pa-3"},{default:l(()=>{var o,C,M,A,N,L;return[r("div",It,[e[41]||(e[41]=r("span",{class:"text-grey"},"Order No:",-1)),r("span",At,c(((o=m.order)==null?void 0:o.order_no)||"N/A"),1)]),r("div",Ft,[e[42]||(e[42]=r("span",{class:"text-grey"},"Total:",-1)),r("span",qt," KSH "+c(((C=m.order)==null?void 0:C.total_price)||"0.00"),1)]),r("div",Rt,[e[43]||(e[43]=r("span",{class:"text-grey"},"Delivery Date:",-1)),r("span",null,c(pe((M=m.order)==null?void 0:M.delivery_date)||"N/A"),1)]),r("div",$t,[e[44]||(e[44]=r("span",{class:"text-grey"},"Items:",-1)),r("span",null,c(((N=(A=m.order)==null?void 0:A.order_items)==null?void 0:N.length)||0)+" product(s)",1)]),t(se,{class:"my-2"}),r("div",Ht,[(g(!0),x(ie,null,ue((L=m.order)==null?void 0:L.order_items,re=>{var Be;return g(),x("div",{key:re.id,class:"order-item"},[r("div",jt,[t(u,{size:"32",color:"blue-grey-lighten-4",class:"mr-2"},{default:l(()=>[t(a,{size:"18"},{default:l(()=>e[45]||(e[45]=[n("mdi-package")])),_:1,__:[45]})]),_:1}),r("div",Lt,[r("div",Gt,c(((Be=re.product)==null?void 0:Be.product_name)||re.name||"Product"),1),r("div",Et," Qty: "+c(re.quantity)+" Ã— KSH "+c(re.unit_price),1)])])])}),128))])]}),_:1})]),_:1}),t(z,{variant:"outlined"},{default:l(()=>[t(W,{class:"text-subtitle-1 bg-blue-grey-lighten-5 py-2"},{default:l(()=>[t(a,{size:"small",class:"mr-2"},{default:l(()=>e[46]||(e[46]=[n("mdi-lightning-bolt")])),_:1,__:[46]}),e[47]||(e[47]=n(" Quick Actions "))]),_:1,__:[47]}),t(P,{class:"pa-2"},{default:l(()=>[t(_,{block:"",variant:"outlined",color:"primary",size:"small",class:"mb-2",onClick:ge},{default:l(()=>[t(a,{size:"18",class:"mr-2"},{default:l(()=>e[48]||(e[48]=[n("mdi-history")])),_:1,__:[48]}),e[49]||(e[49]=n(" Order History "))]),_:1,__:[49]}),t(_,{block:"",variant:"outlined",color:"orange",size:"small",onClick:b},{default:l(()=>[t(a,{size:"18",class:"mr-2"},{default:l(()=>e[50]||(e[50]=[n("mdi-cart")])),_:1,__:[50]}),e[51]||(e[51]=n(" Customer Orders "))]),_:1,__:[51]})]),_:1})]),_:1})])]),_:1}),t(se,{vertical:""}),t(Le,{cols:"12",md:"8",class:"right-panel"},{default:l(()=>[t(Qe,{modelValue:H.value,"onUpdate:modelValue":e[3]||(e[3]=o=>H.value=o),"bg-color":"blue-grey-lighten-5",height:"48"},{default:l(()=>[t(be,{value:"call"},{default:l(()=>[t(a,{class:"mr-2"},{default:l(()=>e[52]||(e[52]=[n("mdi-phone")])),_:1,__:[52]}),e[53]||(e[53]=n(" Call "))]),_:1,__:[53]}),t(be,{value:"message"},{default:l(()=>[t(a,{class:"mr-2"},{default:l(()=>e[54]||(e[54]=[n("mdi-message")])),_:1,__:[54]}),e[55]||(e[55]=n(" Message "))]),_:1,__:[55]}),t(be,{value:"status"},{default:l(()=>[t(a,{class:"mr-2"},{default:l(()=>e[56]||(e[56]=[n("mdi-update")])),_:1,__:[56]}),e[57]||(e[57]=n(" Update Status "))]),_:1,__:[57]}),t(be,{value:"notes"},{default:l(()=>[t(a,{class:"mr-2"},{default:l(()=>e[58]||(e[58]=[n("mdi-note-text")])),_:1,__:[58]}),e[59]||(e[59]=n(" Notes "))]),_:1,__:[59]})]),_:1},8,["modelValue"]),t(dt,{modelValue:H.value,"onUpdate:modelValue":e[25]||(e[25]=o=>H.value=o),class:"tab-content"},{default:l(()=>[t(we,{value:"call",class:"pa-4"},{default:l(()=>[t(z,{variant:"outlined",class:"mb-4"},{default:l(()=>[t(P,null,{default:l(()=>[e[68]||(e[68]=r("div",{class:"text-h6 mb-4"}," Make a Call ",-1)),t(qe,{modelValue:D.value.phone,"onUpdate:modelValue":e[4]||(e[4]=o=>D.value.phone=o),label:"Phone Number","prepend-inner-icon":"mdi-phone",variant:"outlined",density:"comfortable",readonly:"",class:"mb-3"},null,8,["modelValue"]),I.value?(g(),x("div",Bt,[r("div",Wt,[t(u,{color:"green",size:"80",class:"pulse-animation"},{default:l(()=>[t(a,{size:"40",color:"white"},{default:l(()=>e[62]||(e[62]=[n("mdi-phone-in-talk")])),_:1,__:[62]})]),_:1}),e[63]||(e[63]=r("div",{class:"text-h6 mt-3"}," Call in Progress ",-1)),r("div",Kt,c(k.value),1)]),r("div",Qt,[t(_,{icon:"",size:"large",color:R.value?"error":"grey",variant:"outlined",onClick:Pe},{default:l(()=>[t(a,null,{default:l(()=>[n(c(R.value?"mdi-microphone-off":"mdi-microphone"),1)]),_:1})]),_:1},8,["color"]),t(_,{icon:"",size:"large",color:"grey",variant:"outlined",onClick:ze},{default:l(()=>[t(a,null,{default:l(()=>e[64]||(e[64]=[n("mdi-pause")])),_:1,__:[64]})]),_:1}),t(_,{icon:"",size:"large",color:"red",variant:"flat",onClick:Me},{default:l(()=>[t(a,null,{default:l(()=>e[65]||(e[65]=[n("mdi-phone-hangup")])),_:1,__:[65]})]),_:1})])])):(g(),x("div",Jt,[t(_,{color:"green",size:"x-large",rounded:"pill",elevation:"4",onClick:Oe,loading:Z.value,class:"call-button"},{default:l(()=>[t(a,{size:"32",class:"mr-2"},{default:l(()=>e[60]||(e[60]=[n("mdi-phone")])),_:1,__:[60]}),e[61]||(e[61]=n(" Call Customer "))]),_:1,__:[61]},8,["loading"])])),t(et,{class:"mt-4",variant:"accordion"},{default:l(()=>[t(Xe,null,{default:l(()=>[t(Ye,null,{default:l(()=>[t(a,{class:"mr-2"},{default:l(()=>e[66]||(e[66]=[n("mdi-cog")])),_:1,__:[66]}),e[67]||(e[67]=n(" Call Options "))]),_:1,__:[67]}),t(Ze,null,{default:l(()=>[t(Ce,{modelValue:D.value.recordCall,"onUpdate:modelValue":e[5]||(e[5]=o=>D.value.recordCall=o),label:"Record this call",density:"compact"},null,8,["modelValue"]),t(Ce,{modelValue:D.value.autoLog,"onUpdate:modelValue":e[6]||(e[6]=o=>D.value.autoLog=o),label:"Auto-log call notes",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1,__:[68]})]),_:1}),t(z,{variant:"outlined"},{default:l(()=>[t(W,{class:"text-subtitle-1"},{default:l(()=>[t(a,{class:"mr-2"},{default:l(()=>e[69]||(e[69]=[n("mdi-history")])),_:1,__:[69]}),e[70]||(e[70]=n(" Recent Calls "))]),_:1,__:[70]}),t(P,null,{default:l(()=>[t(tt,{density:"compact"},{default:l(()=>[(g(!0),x(ie,null,ue(ve.value,o=>(g(),G(Re,{key:o.id,class:"mb-1"},{prepend:l(()=>[t(a,{color:o.type==="incoming"?"blue":"green"},{default:l(()=>[n(c(o.type==="incoming"?"mdi-phone-incoming":"mdi-phone-outgoing"),1)]),_:2},1032,["color"])]),append:l(()=>[t(_,{icon:"",size:"x-small",variant:"text"},{default:l(()=>[t(a,null,{default:l(()=>e[71]||(e[71]=[n("mdi-play")])),_:1,__:[71]})]),_:1})]),default:l(()=>[t(Ge,null,{default:l(()=>[n(c(o.duration),1)]),_:2},1024),t(Ee,null,{default:l(()=>[n(c(o.timestamp),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),t(we,{value:"message",class:"pa-4"},{default:l(()=>[t(z,{variant:"outlined"},{default:l(()=>[t(P,null,{item:l(({props:o,item:C})=>[t(Re,We(Ke(o)),{prepend:l(()=>[t(a,null,{default:l(()=>e[78]||(e[78]=[n("mdi-file-document-outline")])),_:1,__:[78]})]),default:l(()=>[t(Ge,null,{default:l(()=>[n(c(C.raw.name),1)]),_:2},1024),t(Ee,null,{default:l(()=>[n(c(C.raw.description),1)]),_:2},1024)]),_:2},1040)]),default:l(()=>[e[87]||(e[87]=r("div",{class:"text-h6 mb-4"}," Send Message ",-1)),t(lt,{modelValue:U.value,"onUpdate:modelValue":e[7]||(e[7]=o=>U.value=o),mandatory:"",divided:"",variant:"outlined",class:"mb-4"},{default:l(()=>[t(_,{value:"whatsapp"},{default:l(()=>[t(a,{class:"mr-2"},{default:l(()=>e[72]||(e[72]=[n("mdi-whatsapp")])),_:1,__:[72]}),e[73]||(e[73]=n(" WhatsApp "))]),_:1,__:[73]}),t(_,{value:"sms"},{default:l(()=>[t(a,{class:"mr-2"},{default:l(()=>e[74]||(e[74]=[n("mdi-message-text")])),_:1,__:[74]}),e[75]||(e[75]=n(" SMS "))]),_:1,__:[75]}),t(_,{value:"email"},{default:l(()=>[t(a,{class:"mr-2"},{default:l(()=>e[76]||(e[76]=[n("mdi-email")])),_:1,__:[76]}),e[77]||(e[77]=n(" Email "))]),_:1,__:[77]})]),_:1},8,["modelValue"]),t(Fe,{modelValue:K($).selectedTemplate,"onUpdate:modelValue":[e[8]||(e[8]=o=>K($).selectedTemplate=o),K($).onTemplateSelect],items:K($).allTemplates,"item-title":"name","item-value":"id",label:"Select Template","return-object":"",disabled:K($).loading.templates,loading:K($).loading.templates,clearable:"",class:"mt-3","hide-no-data":"",dense:""},null,8,["modelValue","items","disabled","loading","onUpdate:modelValue"]),U.value==="email"?(g(),G(qe,{key:0,modelValue:w.value.subject,"onUpdate:modelValue":e[9]||(e[9]=o=>w.value.subject=o),label:"Subject",variant:"outlined",density:"comfortable",class:"mb-3"},null,8,["modelValue"])):F("",!0),t($e,{modelValue:w.value.content,"onUpdate:modelValue":e[10]||(e[10]=o=>w.value.content=o),label:"Message",variant:"outlined",rows:"8",counter:"",maxlength:U.value==="sms"?160:1e3,class:"mb-3"},null,8,["modelValue","maxlength"]),r("div",Yt,[e[83]||(e[83]=r("div",{class:"text-caption text-grey mb-2"}," Insert Variables: ",-1)),t(at,null,{default:l(()=>[t(f,{size:"small",onClick:e[11]||(e[11]=o=>B("{customer_name}"))},{default:l(()=>e[79]||(e[79]=[n(" Customer Name ")])),_:1,__:[79]}),t(f,{size:"small",onClick:e[12]||(e[12]=o=>B("{order_no}"))},{default:l(()=>e[80]||(e[80]=[n(" Order Number ")])),_:1,__:[80]}),t(f,{size:"small",onClick:e[13]||(e[13]=o=>B("{delivery_date}"))},{default:l(()=>e[81]||(e[81]=[n(" Delivery Date ")])),_:1,__:[81]}),t(f,{size:"small",onClick:e[14]||(e[14]=o=>B("{total_price}"))},{default:l(()=>e[82]||(e[82]=[n(" Total Price ")])),_:1,__:[82]})]),_:1})]),U.value==="email"?(g(),x("div",Zt,[t(_,{variant:"outlined",size:"small","prepend-icon":"mdi-paperclip",onClick:e[15]||(e[15]=o=>s.$refs.fileInput.click())},{default:l(()=>e[84]||(e[84]=[n(" Attach File ")])),_:1,__:[84]}),r("input",{ref:"fileInput",type:"file",style:{display:"none"},onChange:he},null,544),w.value.attachments.length?(g(),x("div",Xt,[(g(!0),x(ie,null,ue(w.value.attachments,(o,C)=>(g(),G(f,{key:C,closable:"","onClick:close":M=>Ie(C),size:"small",class:"mr-2"},{default:l(()=>[n(c(o.name),1)]),_:2},1032,["onClick:close"]))),128))])):F("",!0)])):F("",!0),t(z,{variant:"tonal",color:"blue-grey-lighten-5",class:"mb-3"},{default:l(()=>[t(P,{class:"text-body-2"},{default:l(()=>[e[85]||(e[85]=r("div",{class:"font-weight-bold mb-2"}," Preview: ",-1)),r("div",el,c(ke.value),1)]),_:1,__:[85]})]),_:1}),t(_,{block:"",color:"primary",size:"large",loading:J.value,onClick:Ae},{default:l(()=>[t(a,{class:"mr-2"},{default:l(()=>e[86]||(e[86]=[n("mdi-send")])),_:1,__:[86]}),n(" Send "+c(U.value.toUpperCase()),1)]),_:1},8,["loading"])]),_:1,__:[87]})]),_:1})]),_:1}),t(we,{value:"status",class:"pa-4"},{default:l(()=>[t(z,{variant:"outlined"},{default:l(()=>[t(P,null,{default:l(()=>[e[94]||(e[94]=r("div",{class:"text-h6 mb-4"}," Update Order Status ",-1)),t(rt,{ref_key:"statusForm",ref:p},{default:l(()=>[t(ot,{type:"info",variant:"tonal",density:"compact",class:"mb-4"},{default:l(()=>{var o,C,M,A,N;return[r("div",tl,[e[88]||(e[88]=r("strong",null,"Current Status:",-1)),n(" "+c(((M=(C=(o=m.order)==null?void 0:o.latest_status)==null?void 0:C.status)==null?void 0:M.name)||"Pending"),1)]),(N=(A=m.order)==null?void 0:A.latest_status)!=null&&N.created_at?(g(),x("div",ll," Updated "+c(oe(m.order.latest_status.created_at)),1)):F("",!0)]}),_:1}),t(He,{modelValue:p.value.status_id,"onUpdate:modelValue":e[16]||(e[16]=o=>p.value.status_id=o),items:me.value,"item-title":"name","item-value":"id",label:"New Status",variant:"outlined",density:"comfortable",rules:[o=>!!o||"Status is required"],class:"mb-3"},{item:l(({props:o,item:C})=>[t(Re,We(Ke(o)),{prepend:l(()=>[t(a,{color:C.raw.color},{default:l(()=>e[89]||(e[89]=[n("mdi-circle")])),_:2,__:[89]},1032,["color"])]),_:2},1040)]),_:1},8,["modelValue","items","rules"]),t(He,{modelValue:p.value.status_category_id,"onUpdate:modelValue":e[17]||(e[17]=o=>p.value.status_category_id=o),items:De.value,"item-title":"name","item-value":"id",label:"Status Category",variant:"outlined",density:"comfortable",disabled:!p.value.status_id,class:"mb-3"},null,8,["modelValue","items","disabled"]),Ve.value?(g(),G(qe,{key:0,modelValue:p.value.recall_date,"onUpdate:modelValue":e[18]||(e[18]=o=>p.value.recall_date=o),label:"Recall Date & Time",type:"datetime-local",variant:"outlined",density:"comfortable",rules:[o=>!!o||"Recall date is required"],class:"mb-3"},null,8,["modelValue","rules"])):F("",!0),t($e,{modelValue:p.value.status_notes,"onUpdate:modelValue":e[19]||(e[19]=o=>p.value.status_notes=o),label:"Status Notes",variant:"outlined",rows:"4",rules:[o=>!!o||"Notes are required"],hint:"Add any relevant information about this status change",class:"mb-3"},null,8,["modelValue","rules"]),t(Ce,{modelValue:p.value.notifyCustomer,"onUpdate:modelValue":e[20]||(e[20]=o=>p.value.notifyCustomer=o),label:"Notify customer of status change",density:"compact",class:"mb-3"},null,8,["modelValue"]),t(st,null,{default:l(()=>[p.value.notifyCustomer?(g(),x("div",al,[t(nt,{modelValue:p.value.notificationMethod,"onUpdate:modelValue":e[21]||(e[21]=o=>p.value.notificationMethod=o),density:"compact",inline:""},{default:l(()=>[t(je,{label:"SMS",value:"sms"}),t(je,{label:"WhatsApp",value:"whatsapp"}),t(je,{label:"Email",value:"email"})]),_:1},8,["modelValue"])])):F("",!0)]),_:1}),t(_,{block:"",color:"primary",size:"large",loading:X.value,onClick:fe},{default:l(()=>[t(a,{class:"mr-2"},{default:l(()=>e[90]||(e[90]=[n("mdi-update")])),_:1,__:[90]}),e[91]||(e[91]=n(" Update Status "))]),_:1,__:[91]},8,["loading"])]),_:1},512),t(se,{class:"my-4"}),r("div",ol,[t(a,{class:"mr-2"},{default:l(()=>e[92]||(e[92]=[n("mdi-timeline")])),_:1,__:[92]}),e[93]||(e[93]=n(" Status History "))]),t(ut,{density:"compact",side:"end",align:"start"},{default:l(()=>[(g(!0),x(ie,null,ue(te.value,(o,C)=>(g(),G(it,{key:C,"dot-color":o.color,size:"small"},{default:l(()=>[r("div",nl,c(o.status_name),1),r("div",sl,c(o.notes),1),r("div",rl,[n(c(oe(o.created_at))+" ",1),o.user?(g(),x("span",il," by "+c(o.user),1)):F("",!0)])]),_:2},1032,["dot-color"]))),128))]),_:1})]),_:1,__:[94]})]),_:1})]),_:1}),t(we,{value:"notes",class:"pa-4"},{default:l(()=>[t(z,{variant:"outlined",class:"mb-4"},{default:l(()=>[t(P,null,{default:l(()=>[e[97]||(e[97]=r("div",{class:"text-h6 mb-4"},"Add Note",-1)),t(He,{modelValue:T.value.type,"onUpdate:modelValue":e[22]||(e[22]=o=>T.value.type=o),items:xe.value,label:"Note Type",variant:"outlined",density:"comfortable",class:"mb-3"},null,8,["modelValue","items"]),t($e,{modelValue:T.value.content,"onUpdate:modelValue":e[23]||(e[23]=o=>T.value.content=o),label:"Note Content",variant:"outlined",rows:"6",counter:"",maxlength:"500",class:"mb-3"},null,8,["modelValue"]),t(Ce,{modelValue:T.value.pinned,"onUpdate:modelValue":e[24]||(e[24]=o=>T.value.pinned=o),label:"Pin this note",density:"compact",class:"mb-3"},null,8,["modelValue"]),t(_,{block:"",color:"primary",loading:ee.value,onClick:_e},{default:l(()=>[t(a,{class:"mr-2"},{default:l(()=>e[95]||(e[95]=[n("mdi-content-save")])),_:1,__:[95]}),e[96]||(e[96]=n(" Save Note "))]),_:1,__:[96]},8,["loading"])]),_:1,__:[97]})]),_:1}),t(z,{variant:"outlined"},{default:l(()=>[t(W,{class:"text-subtitle-1"},{default:l(()=>[t(a,{class:"mr-2"},{default:l(()=>e[98]||(e[98]=[n("mdi-note-multiple")])),_:1,__:[98]}),e[99]||(e[99]=n(" All Notes "))]),_:1,__:[99]}),t(P,null,{default:l(()=>[(g(!0),x(ie,null,ue(le.value,o=>(g(),x("div",{key:o.id,class:"note-item mb-3"},[t(z,{variant:"tonal"},{default:l(()=>[t(P,null,{default:l(()=>[r("div",ul,[t(f,{size:"x-small",color:Ue(o.type),class:"mr-2"},{default:l(()=>[n(c(o.type),1)]),_:2},1032,["color"]),o.pinned?(g(),G(a,{key:0,size:"small",color:"warning",class:"mr-2"},{default:l(()=>e[100]||(e[100]=[n(" mdi-pin ")])),_:1,__:[100]})):F("",!0),t(Je),r("span",dl,c(oe(o.created_at)),1)]),r("div",ml,c(o.content),1),r("div",cl," By "+c(o.user_name),1)]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(se),t(ct,{class:"pa-4"},{default:l(()=>[t(_,{variant:"outlined",onClick:ne},{default:l(()=>e[101]||(e[101]=[n(" Close ")])),_:1,__:[101]}),t(Je),t(_,{color:"success",variant:"flat","prepend-icon":"mdi-check-circle",onClick:ye},{default:l(()=>e[102]||(e[102]=[n(" Mark Complete & Close ")])),_:1,__:[102]})]),_:1})]),_:1}),t(vt,{modelValue:j.value.show,"onUpdate:modelValue":e[27]||(e[27]=o=>j.value.show=o),color:j.value.color,timeout:3e3},{actions:l(()=>[t(_,{variant:"text",onClick:e[26]||(e[26]=o=>j.value.show=!1)},{default:l(()=>e[103]||(e[103]=[n(" Close ")])),_:1,__:[103]})]),default:l(()=>[n(c(j.value.message)+" ",1)]),_:1},8,["modelValue","color"])]),_:1},8,["model-value"])}}},pl=Ct(vl,[["__scopeId","data-v-420da012"]]),Cl=Object.freeze(Object.defineProperty({__proto__:null,default:pl},Symbol.toStringTag,{value:"Module"}));export{pl as C,Cl as a,wt as u};
