import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{j as o,r as y,s as T,l as I,d as l,o as n,a as e,e as f,t as d,f as N,b as j,F as B,g as M,n as _,U as w}from"./app-BIopewo-.js";const L={class:"bg-white p-6 rounded-2xl shadow-lg"},$={class:"flex items-center justify-between mb-6"},H={class:"text-sm text-gray-500 mt-1"},O={class:"flex items-center space-x-4"},W={key:0,class:"text-right"},P={class:"text-sm font-semibold text-green-600"},U={key:0,class:"text-center py-12"},E={key:1,class:"mb-6"},G={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},X={class:"flex items-center justify-between mb-2"},Y={class:"flex items-center"},q={class:"font-medium text-gray-800"},J={key:0,class:"ml-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full"},K={class:"text-right"},Q={class:"font-bold text-gray-800"},Z={class:"flex items-center justify-between text-sm"},ee={class:"mt-2"},te={class:"w-full bg-gray-200 rounded-full h-2"},se={key:3,class:"grid grid-cols-4 gap-4 pt-6 border-t border-gray-100"},ae={class:"text-center"},re={class:"text-2xl font-bold text-gray-800"},oe={class:"text-center"},ie={class:"text-2xl font-bold text-green-600"},le={class:"text-center"},ne={class:"text-2xl font-bold text-blue-600"},de={class:"text-center"},ce={class:"text-2xl font-bold text-purple-600"},ue={__name:"TopSellers",props:{topSellers:{type:Array,default:()=>[]},period:{type:String,default:"This Month"}},setup(k){const u=k,m=["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6"],i=o(()=>u.topSellers&&u.topSellers.length>0),a=o(()=>i.value?u.topSellers.map(s=>({id:s.id,name:s.name||"Unknown Vendor",deliveries:parseInt(s.deliveries)||0,successRate:parseFloat(s.successRate)||0})).sort((s,t)=>t.deliveries-s.deliveries).slice(0,5):[]),S=o(()=>a.value.map(s=>s.name)),c=o(()=>a.value.map(s=>s.deliveries)),h=o(()=>i.value?c.value.reduce((s,t)=>s+t,0):0),D=o(()=>!i.value||c.value.length===0?0:Math.round(h.value/c.value.length)),R=o(()=>!i.value||c.value.length===0?1:Math.max(...c.value)),z=o(()=>a.value.length),C=o(()=>!i.value||a.value.length===0?0:(a.value.reduce((t,v)=>t+v.successRate,0)/a.value.length).toFixed(1)),V=o(()=>u.period),A=s=>s>=95?"text-green-600":s>=90?"text-blue-600":s>=85?"text-yellow-600":"text-red-600",b=y([{name:"Deliveries",data:c.value}]),p=y({chart:{type:"bar",toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},plotOptions:{bar:{horizontal:!0,borderRadius:8,borderRadiusApplication:"end",barHeight:"65%",distributed:!0,dataLabels:{position:"center"}}},dataLabels:{enabled:!0,textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"14px",fontFamily:"Inter, sans-serif",fontWeight:"600",colors:["#ffffff"]},formatter:function(s){return s+" deliveries"}},xaxis:{categories:S.value,title:{text:"Number of Deliveries",style:{color:"#6b7280",fontSize:"12px",fontFamily:"Inter, sans-serif"}},labels:{style:{colors:"#6b7280",fontSize:"12px",fontFamily:"Inter, sans-serif"},formatter:function(s){return s}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{style:{colors:"#374151",fontSize:"13px",fontFamily:"Inter, sans-serif",fontWeight:"500"},maxWidth:100}},colors:m,grid:{show:!0,borderColor:"#f3f4f6",strokeDashArray:0,position:"back",xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}},padding:{top:0,right:20,bottom:0,left:10}},tooltip:{enabled:!0,theme:"light",style:{fontSize:"12px",fontFamily:"Inter, sans-serif"},custom:function({series:s,seriesIndex:t,dataPointIndex:v,w:g}){const r=a.value[v];return r?`
                <div class="px-3 py-2">
                    <div class="font-semibold">${r.name}</div>
                    <div class="text-sm">
                        <div>Deliveries: <span class="font-medium">${r.deliveries}</span></div>
                        <div>Success Rate: <span class="font-medium">${r.successRate}%</span></div>
                    </div>
                </div>
            `:""}},legend:{show:!1},responsive:[{breakpoint:768,options:{plotOptions:{bar:{barHeight:"55%"}},dataLabels:{style:{fontSize:"12px"}}}}]});return T(()=>u.topSellers,s=>{s&&s.length>0&&(b.value=[{name:"Deliveries",data:a.value.map(t=>t.deliveries)}],p.value={...p.value,xaxis:{...p.value.xaxis,categories:a.value.map(t=>t.name)}})},{deep:!0,immediate:!0}),(s,t)=>{var g;const v=I("apexchart");return n(),l("div",L,[e("div",$,[e("div",null,[t[0]||(t[0]=e("h3",{class:"text-lg font-semibold text-gray-800"}," Top Sellers by Deliveries ",-1)),e("p",H," Performance ranking for "+d(V.value),1)]),e("div",O,[t[2]||(t[2]=e("div",{class:"flex items-center text-xs text-gray-500"},[e("div",{class:"w-2 h-2 bg-green-500 rounded-full mr-1"}),N(" Completed Deliveries ")],-1)),i.value?(n(),l("div",W,[t[1]||(t[1]=e("div",{class:"text-xs text-gray-500"},"Avg Success Rate",-1)),e("div",P,d(C.value)+"% ",1)])):f("",!0)])]),i.value?(n(),l("div",E,[j(v,{type:"bar",height:"400",options:p.value,series:b.value},null,8,["options","series"])])):(n(),l("div",U,t[3]||(t[3]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),e("p",{class:"mt-2 text-sm text-gray-500"}," No seller data available yet ",-1)]))),i.value?(n(),l("div",G,[(n(!0),l(B,null,M(a.value,(r,x)=>(n(),l("div",{key:r.id,class:_(["p-4 border border-gray-100 rounded-lg hover:shadow-md transition-shadow",x===0?"ring-2 ring-green-200 bg-green-50":""])},[e("div",X,[e("div",Y,[e("div",{class:"w-3 h-3 rounded-full mr-2",style:w({backgroundColor:m[x]})},null,4),e("span",q,d(r.name),1),x===0?(n(),l("span",J," üèÜ Top ")):f("",!0)]),e("div",K,[e("div",Q,d(r.deliveries),1),t[4]||(t[4]=e("div",{class:"text-xs text-gray-500"},"deliveries",-1))])]),e("div",Z,[t[5]||(t[5]=e("span",{class:"text-gray-500"},"Success Rate",-1)),e("span",{class:_(["font-medium",A(r.successRate)])},d(r.successRate)+"% ",3)]),e("div",ee,[e("div",te,[e("div",{class:"h-2 rounded-full transition-all duration-500",style:w({width:`${r.deliveries/R.value*100}%`,backgroundColor:m[x]})},null,4)])])],2))),128))])):f("",!0),i.value?(n(),l("div",se,[e("div",ae,[e("div",re,d(h.value),1),t[6]||(t[6]=e("div",{class:"text-xs text-gray-500 uppercase tracking-wide"}," Total Deliveries ",-1))]),e("div",oe,[e("div",ie,d(((g=a.value[0])==null?void 0:g.name)||"N/A"),1),t[7]||(t[7]=e("div",{class:"text-xs text-gray-500 uppercase tracking-wide"}," Top Performer ",-1))]),e("div",le,[e("div",ne,d(D.value),1),t[8]||(t[8]=e("div",{class:"text-xs text-gray-500 uppercase tracking-wide"}," Avg Deliveries ",-1))]),e("div",de,[e("div",ce,d(z.value),1),t[9]||(t[9]=e("div",{class:"text-xs text-gray-500 uppercase tracking-wide"}," Active Vendors ",-1))])])):f("",!0)])}}},xe=F(ue,[["__scopeId","data-v-b7b8581d"]]);export{xe as default};
