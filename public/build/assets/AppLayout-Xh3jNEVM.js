import{d as C,o as l,a as S,G as re,r as R,I as fe,e as E,n as H,t as g,y as Se,E as Ee,j as K,k as he,l as u,c as m,w as e,b as t,f as o,F as M,g as V,u as B,S as Q,m as $,v as Ae,J as te,W as se}from"./app-C0POzRtL.js";import{_ as Te}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as we}from"./webrtc-CzIsViKU.js";import Ie from"./IncomingCallDialog-MsaWOLG_.js";const Ce={},Ne={viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Re(c,a){return l(),C("svg",Ne,a[0]||(a[0]=[S("path",{d:"M11.395 44.428C4.557 40.198 0 32.632 0 24 0 10.745 10.745 0 24 0a23.891 23.891 0 0113.997 4.502c-.2 17.907-11.097 33.245-26.602 39.926z",fill:"#6875F5"},null,-1),S("path",{d:"M14.134 45.885A23.914 23.914 0 0024 48c13.255 0 24-10.745 24-24 0-3.516-.756-6.856-2.115-9.866-4.659 15.143-16.608 27.092-31.75 31.751z",fill:"#6875F5"},null,-1)]))}const ie=Te(Ce,[["render",Re]]),ye={class:"max-w-screen-xl mx-auto py-2 px-3 sm:px-6 lg:px-8"},ke={class:"flex items-center justify-between flex-wrap"},be={class:"w-0 flex-1 flex items-center min-w-0"},Le={key:0,class:"size-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},De={key:1,class:"size-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Oe={class:"ms-3 font-medium text-sm text-white truncate"},Pe={class:"shrink-0 sm:ms-3"},Me={__name:"Banner",setup(c){const a=re(),T=R(!0),_=R("success"),w=R("");return fe(async()=>{var I,v;_.value=((I=a.props.jetstream.flash)==null?void 0:I.bannerStyle)||"success",w.value=((v=a.props.jetstream.flash)==null?void 0:v.banner)||"",T.value=!0}),(I,v)=>(l(),C("div",null,[T.value&&w.value?(l(),C("div",{key:0,class:H({"bg-indigo-500":_.value=="success","bg-red-700":_.value=="danger"})},[S("div",ye,[S("div",ke,[S("div",be,[S("span",{class:H(["flex p-2 rounded-lg",{"bg-indigo-600":_.value=="success","bg-red-600":_.value=="danger"}])},[_.value=="success"?(l(),C("svg",Le,v[1]||(v[1]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):E("",!0),_.value=="danger"?(l(),C("svg",De,v[2]||(v[2]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)]))):E("",!0)],2),S("p",Oe,g(w.value),1)]),S("div",Pe,[S("button",{type:"button",class:H(["-me-1 flex p-2 rounded-md focus:outline-none sm:-me-2 transition",{"hover:bg-indigo-600 focus:bg-indigo-600":_.value=="success","hover:bg-red-600 focus:bg-red-600":_.value=="danger"}]),"aria-label":"Dismiss",onClick:v[0]||(v[0]=Se(D=>T.value=!1,["prevent"]))},v[3]||(v[3]=[S("svg",{class:"size-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]),2)])])])],2)):E("",!0)]))}},s={DASHBOARD:{INDEX:"dashboard",METRICS:"dashboard.metrics"},CALL_CENTRE:{INDEX:"call-centre.index",TICKETS:"call-centre.tickets",MESSAGES:"call-centre.messages",WHATSAPP:"call-centre.whatsapp",EMAILS:"call-centre.emails",CLIENTS:"call-centre.clients",CONTACTS:"call-centre.contacts",TELEGRAM:"call-centre.telegram",NOTES:"call-centre.notes"},ORDERS:{INDEX:"orders.index",SHIPPING:"orders.shipping",SCAN_DISPATCH:"orders.scan-dispatch",DISPATCH_LIST:"orders.dispatch-list"},USERS:{INDEX:"admin.users",ROLES:"users.roles",PERMISSIONS:"users.permissions"},REPORTS:{INDEX:"reports.index"},BRANCHES:{INDEX:"branches.index",CITIES:"branches.cities",ZONES:"branches.zones"},WAREHOUSE:{INDEX:"warehouse.index",PRODUCTS:"warehouse.products",INVENTORY:"warehouse.inventory",STATISTICS:"warehouse.statistics",CATEGORY:"warehouse.category"},SETTINGS:{IVR:"settings.ivr",INTEGRATIONS:"settings.integrations",TEMPLATES:"settings.templates",CALL_SETTINGS:"settings.call-settings",STATUS:"settings.status"},INTEGRATIONS:{MARKETPLACE:"integrations.marketplace"},BILLING:{PLANS:"billing.plans",PAYMENTS:"billing.payments",INVOICES:"billing.invoices",USAGE:"billing.usage",LICENSES:"billing.licenses"},NOTIFICATIONS:{CENTER:"notifications.center",ACTIVITY:"notifications.activity",STATUS:"notifications.status"},AUDIT:{LOGINS:"audit.logins",ACTIONS:"audit.actions",SYSTEM:"audit.system"},DEVELOPER:{DOCS:"developer.docs",SDKS:"developer.sdks",SANDBOX:"developer.sandbox",STATS:"developer.stats"},SUPPORT:{FAQS:"support.faqs",CONTACT:"support.contact",CHAT:"support.chat",TICKET:"support.ticket"}},xe=Ee("nav",{state:()=>({expandedGroups:[],navItems:[{title:"Dashboard",icon:"mdi-view-dashboard",route:s.DASHBOARD.INDEX,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Free","Pro","Enterprise"],features:["dashboard"],permissions:["dashboard_view","dashboard_export"],children:[{title:"Overview",route:s.DASHBOARD.INDEX,icon:"mdi-view-dashboard-outline",permission:"dashboard_view"},{title:"Metrics",route:s.DASHBOARD.METRICS,icon:"mdi-chart-line",permission:"dashboard_view"}]},{title:"Call Center",icon:"mdi-headset",route:s.CALL_CENTRE.INDEX,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Free","Pro","Enterprise"],features:["call-center"],permissions:["call_center_view"],children:[{title:"Call Centre",route:s.CALL_CENTRE.INDEX,icon:"mdi-headset",permission:"call_center_view"},{title:"Tickets",route:s.CALL_CENTRE.TICKETS,icon:"mdi-ticket-outline",permission:"tickets_view"},{title:"Messages",route:s.CALL_CENTRE.MESSAGES,icon:"mdi-message-text-outline",permission:"messages_view"},{title:"WhatsApp",route:s.CALL_CENTRE.WHATSAPP,icon:"mdi-whatsapp",permission:"whatsapp_view"},{title:"Emails",route:s.CALL_CENTRE.EMAILS,icon:"mdi-email-outline",permission:"emails_view"},{title:"Clients",route:s.CALL_CENTRE.CLIENTS,icon:"mdi-account-multiple-outline",permission:"clients_view"},{title:"Contacts",route:s.CALL_CENTRE.CONTACTS,icon:"mdi-phone-outline",permission:"contacts_view"},{title:"Telegram",route:s.CALL_CENTRE.TELEGRAM,icon:"mdi-telegram",permission:"telegram_view"},{title:"Notes",route:s.CALL_CENTRE.NOTES,icon:"mdi-note-text-outline",permission:"notes_view"}]},{title:"Orders",icon:"mdi-cart",route:s.ORDERS.INDEX,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Free","Pro","Enterprise"],features:["orders"],permissions:["orders_view","orders_create","orders_edit","orders_delete","orders_ship","orders_dispatch","orders_scan","orders_track","orders_update_status","orders_refund"],children:[{title:"All Orders",route:s.ORDERS.INDEX,icon:"mdi-cart-outline",permission:"orders_view"},{title:"Shipping",route:s.ORDERS.SHIPPING,icon:"mdi-truck-outline",permission:"orders_ship"},{title:"Scan & Dispatch",route:s.ORDERS.SCAN_DISPATCH,icon:"mdi-barcode-scan",permission:"orders_scan"},{title:"Dispatch List",route:s.ORDERS.DISPATCH_LIST,icon:"mdi-format-list-bulleted",permission:"orders_dispatch"}]},{title:"Users & Teams",icon:"mdi-account-group",route:s.USERS.INDEX,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Pro","Enterprise"],features:["team-management"],permissions:["users_view","users_create","users_edit","users_delete","users_impersonate","roles_view","roles_create","roles_edit","roles_delete","roles_assign","permissions_view","permissions_create","permissions_edit","permissions_delete"],children:[{title:"User Management",route:s.USERS.INDEX,icon:"mdi-account-group-outline",permission:"users_view"},{title:"User Roles",route:s.USERS.ROLES,icon:"mdi-account-key-outline",permission:"roles_view"},{title:"Permissions",route:s.USERS.PERMISSIONS,icon:"mdi-shield-key-outline",permission:"permissions_view"}]},{title:"Reports",icon:"mdi-chart-box",route:s.REPORTS.INDEX,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Pro","Enterprise"],features:["reports"],permissions:["reports_view","reports_create","reports_export","reports_schedule","reports_share"],children:[{title:"View Reports",route:s.REPORTS.INDEX,icon:"mdi-chart-box-outline",permission:"reports_view"}]},{title:"Branches",icon:"mdi-map-marker-outline",route:s.BRANCHES.INDEX,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Pro","Enterprise"],features:["branch-management"],permissions:["branches_view","branches_create","branches_edit","branches_delete","cities_manage","zones_manage"],children:[{title:"View Branches",route:s.BRANCHES.INDEX,icon:"mdi-map-marker-radius-outline",permission:"branches_view"},{title:"Cities",route:s.BRANCHES.CITIES,icon:"mdi-city",permission:"cities_manage"},{title:"Zones",route:s.BRANCHES.ZONES,icon:"mdi-shape-outline",permission:"zones_manage"}]},{title:"Warehousing",icon:"mdi-warehouse",route:"warehouse.index",roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Pro","Enterprise"],features:["warehousing"],permissions:["warehouse_view","warehouse_manage","products_view","products_create","products_edit","products_delete","inventory_view","inventory_adjust","inventory_transfer","categories_manage"],children:[{title:"Warehouse",route:s.WAREHOUSE.INDEX,icon:"mdi-warehouse",permission:"warehouse_view"},{title:"Products",route:s.WAREHOUSE.PRODUCTS,icon:"mdi-package-variant-closed",permission:"products_view"},{title:"Inventory",route:s.WAREHOUSE.INVENTORY,icon:"mdi-warehouse",permission:"inventory_view"},{title:"Statistics",route:s.WAREHOUSE.STATISTICS,icon:"mdi-chart-bar",permission:"warehouse_view"},{title:"Category",route:s.WAREHOUSE.CATEGORY,icon:"mdi-tag-multiple",permission:"categories_manage"}]},{title:"Settings",icon:"mdi-cog",route:s.SETTINGS.PROFILE,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Free","Pro","Enterprise"],features:[],permissions:["settings_view","settings_edit","ivr_manage","integrations_view","integrations_manage","templates_view","templates_create","templates_edit","templates_delete","call_settings_manage","system_status_view","system_status_manage"],children:[{title:"IVR Options",route:s.SETTINGS.IVR,icon:"mdi-phone-settings",permission:"ivr_manage"},{title:"Integrations",route:s.SETTINGS.INTEGRATIONS,icon:"mdi-puzzle",permission:"integrations_view"},{title:"Templates",route:s.SETTINGS.TEMPLATES,icon:"mdi-file-outline",permission:"templates_view"},{title:"Call Settings",route:s.SETTINGS.CALL_SETTINGS,icon:"mdi-phone-outline",permission:"call_settings_manage"},{title:"System Statuses",route:s.SETTINGS.STATUS,icon:"mdi-server",permission:"system_status_view"}]},{title:"Integrations",icon:"mdi-api",route:s.INTEGRATIONS.API,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Pro","Enterprise"],features:["integrations"],permissions:["integrations_view","integrations_manage","api_manage","webhooks_manage"],children:[{title:"Marketplace",route:s.INTEGRATIONS.MARKETPLACE,icon:"mdi-storefront-outline",permission:"integrations_view"}]},{title:"Billing",icon:"mdi-credit-card",route:s.BILLING.PLANS,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Pro","Enterprise"],features:["billing"],permissions:["billing_view","billing_manage","invoices_view","invoices_create","payments_view","payments_process"],children:[{title:"Plans & Pricing",route:s.BILLING.PLANS,icon:"mdi-card-account-details",permission:"billing_view"},{title:"Payment Methods",route:s.BILLING.PAYMENTS,icon:"mdi-credit-card-outline",permission:"payments_view"},{title:"Invoices",route:s.BILLING.INVOICES,icon:"mdi-receipt",permission:"invoices_view"},{title:"Usage Metering",route:s.BILLING.USAGE,icon:"mdi-gauge",permission:"billing_view"},{title:"License Management",route:s.BILLING.LICENSES,icon:"mdi-license",permission:"billing_manage"}]},{title:"Notifications",icon:"mdi-bell",route:s.NOTIFICATIONS.CENTER,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Pro","Enterprise"],features:["notifications"],permissions:["notifications_view","notifications_create","notifications_manage"],children:[{title:"Notification Center",route:s.NOTIFICATIONS.CENTER,icon:"mdi-bell-outline",permission:"notifications_view"},{title:"Activity Trail",route:s.NOTIFICATIONS.ACTIVITY,icon:"mdi-timeline",permission:"notifications_view"},{title:"Read/Unread",route:s.NOTIFICATIONS.STATUS,icon:"mdi-bell-check",permission:"notifications_view"}]},{title:"Audit Logs",icon:"mdi-clipboard-text-clock",route:s.AUDIT.LOGINS,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Enterprise"],features:["audit-trail"],permissions:["audit_logs_view","login_history_view","system_changes_view","security_settings_manage"],children:[{title:"Login History",route:s.AUDIT.LOGINS,icon:"mdi-account-clock",permission:"login_history_view"},{title:"User Actions",route:s.AUDIT.ACTIONS,icon:"mdi-account-edit",permission:"audit_logs_view"},{title:"System Changes",route:s.AUDIT.SYSTEM,icon:"mdi-cog-clockwise",permission:"system_changes_view"}]},{title:"Developer Tools",icon:"mdi-code-tags",route:s.DEVELOPER.DOCS,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Enterprise"],features:["developer-tools"],permissions:["developer_tools_access","api_manage","webhooks_manage","sandbox_access","feature_flags_manage"],children:[{title:"API Docs",route:s.DEVELOPER.DOCS,icon:"mdi-book-open-variant",permission:"developer_tools_access"},{title:"SDKs",route:s.DEVELOPER.SDKS,icon:"mdi-package-variant",permission:"developer_tools_access"},{title:"Sandbox Mode",route:s.DEVELOPER.SANDBOX,icon:"mdi-play-box-outline",permission:"sandbox_access"},{title:"Usage Stats",route:s.DEVELOPER.STATS,icon:"mdi-chart-line-variant",permission:"developer_tools_access"}]},{title:"Help & Support",icon:"mdi-lifebuoy",route:s.SUPPORT.FAQS,roles:["Admin","Manager","CallAgent","Vendor","Delivery Agent"],plans:["Free","Pro","Enterprise"],features:[],children:[{title:"FAQs / Knowledge Base",route:s.SUPPORT.FAQS,icon:"mdi-help-circle-outline"},{title:"Contact Support",route:s.SUPPORT.CONTACT,icon:"mdi-email-outline"},{title:"Live Chat",route:s.SUPPORT.CHAT,icon:"mdi-chat-outline"},{title:"Submit a Ticket",route:s.SUPPORT.TICKET,icon:"mdi-ticket-plus-outline"}]}]}),getters:{filteredNavItems:c=>(a,T,_=[],w=[])=>{const I=Array.isArray(a)?a.map(d=>String(d||"").toLowerCase()):[String(a||"").toLowerCase()],v=String(T||"").toLowerCase(),D=[...Array.isArray(w)?w:[]].map(d=>d.toLowerCase()),y=_.map(d=>d.toLowerCase());return c.navItems.map(d=>{const x=(d.roles||[]).map(i=>i.toLowerCase()),N=(d.plans||[]).map(i=>i.toLowerCase()),b=(d.features||[]).map(i=>i.toLowerCase()),k=[];d.permission&&k.push(d.permission.toLowerCase()),Array.isArray(d.permissions)&&k.push(...d.permissions.map(i=>i.toLowerCase()));const F=x.length===0||I.some(i=>x.includes(i)),z=N.length===0||N.includes(v),X=b.length===0||b.every(i=>y.includes(i)),W=k.length===0||k.some(i=>D.includes(i));if(!(F&&z&&X&&W))return null;let n=[];return d.children&&(n=d.children.filter(i=>{var h,G;const p=(h=i.permission)==null?void 0:h.toLowerCase(),O=(G=i.role)==null?void 0:G.toLowerCase(),f=!p||D.includes(p),L=!O||I.includes(O);return f&&L})),{...d,children:n}}).filter(Boolean)}},actions:{toggleGroup(c){const a=this.expandedGroups.indexOf(c);a===-1?this.expandedGroups.push(c):this.expandedGroups.splice(a,1)},isGroupExpanded(c){return this.expandedGroups.includes(c)},expandAllGroups(){this.expandedGroups=this.navItems.map(c=>c.title)},collapseAllGroups(){this.expandedGroups=[]},findNavItemByRoute(c){for(const a of this.navItems){if(a.route===c)return a;if(a.children){const T=a.children.find(_=>_.route===c);if(T)return{parent:a,child:T}}}return null},getBreadcrumb(c){const a=this.findNavItemByRoute(c);return a?a.parent?[{title:a.parent.title,route:a.parent.route},{title:a.child.title,route:a.child.route}]:[{title:a.title,route:a.route}]:[]}}}),Ge={class:"pa-2"},Ue={class:"text-center w-100"},ne="Enterprise",Fe={__name:"AppLayout",props:{title:String},setup(c){const a=xe(),T=we(),_=re(),w=K(()=>{var n;return((n=_.props.authUser)==null?void 0:n.roles)||[]});console.log("User Roles:",w.value);const I=K(()=>{var n;return((n=_.props.authUser)==null?void 0:n.permissions)||[]});console.log("User Permissions:",I.value);const v=["dashboard","call-center","team-management","reports","branch-management","integrations","billing","notifications","audit-trail","developer-tools","vendor-management","warehousing","orders"],D=K(()=>{console.log("userRoles.value:",w.value),console.log("userPermissions.value:",I.value),console.log("userPlan:",ne),console.log("enabledFeatures:",v);const n=a.filteredNavItems(w.value,ne,v,I.value);return console.log("Filtered nav items:",n),n}),y=R(!0),d=R(!1),x=()=>{d.value=!d.value},N=R([{id:1,text:"New support ticket opened",read:!1},{id:2,text:"Customer waiting for callback",read:!1},{id:3,text:"Weekly report ready",read:!0}]),b=()=>N.value.filter(n=>!n.read).length,k=R(!1),F=n=>{const i=N.value.find(p=>p.id===n);i&&(i.read=!0)},z=()=>{N.value.forEach(n=>n.read=!0)},X=n=>{se.put(route("current-team.update"),{team_id:n.id},{preserveState:!1})},W=()=>{se.post(route("logout"))};return R([]),console.log("Initializing Africastalking..."),he(async()=>{await T.initializeAfricastalking(),console.log("Initialization complete")}),(n,i)=>{const p=u("v-list-item-title"),O=u("v-list-item-subtitle"),f=u("v-list-item"),L=u("v-divider"),h=u("v-icon"),G=u("v-list-group"),U=u("v-list"),Z=u("v-img"),q=u("v-avatar"),oe=u("v-navigation-drawer"),ae=u("v-app-bar-nav-icon"),le=u("v-app-bar-title"),J=u("v-spacer"),ue=u("v-chip"),P=u("v-btn"),de=u("v-badge"),ce=u("v-card-title"),pe=u("v-card"),j=u("v-menu"),Y=u("v-list-subheader"),me=u("v-app-bar"),ee=u("v-container"),_e=u("v-main"),ve=u("v-footer"),ge=u("v-app");return l(),m(ge,{theme:d.value?"dark":"light"},{default:e(()=>[t(oe,{modelValue:y.value,"onUpdate:modelValue":i[0]||(i[0]=r=>y.value=r),app:"",permanent:"",rail:!y.value,width:"280"},{append:e(()=>[S("div",Ge,[t(f,null,{prepend:e(()=>[t(q,{size:"40"},{default:e(()=>{var r,A;return[t(Z,{src:((r=n.$page.props.auth.user)==null?void 0:r.profile_photo_url)||"https://cdn.vuetifyjs.com/images/lists/1.jpg",alt:((A=n.$page.props.auth.user)==null?void 0:A.name)||"User"},null,8,["src","alt"])]}),_:1})]),default:e(()=>[t(p,null,{default:e(()=>{var r;return[o(g(((r=n.$page.props.auth.user)==null?void 0:r.name)||"User"),1)]}),_:1}),t(O,null,{default:e(()=>{var r;return[o(g(((r=n.$page.props.auth.user)==null?void 0:r.email)||"user@example.com"),1)]}),_:1})]),_:1})])]),default:e(()=>[t(U,null,{default:e(()=>[t(f,{class:"px-2 py-4"},{prepend:e(()=>[t(ie,{height:"32"})]),default:e(()=>[t(p,{class:"text-h6"},{default:e(()=>i[3]||(i[3]=[o(" CRM ")])),_:1,__:[3]}),t(O,null,{default:e(()=>i[4]||(i[4]=[o(" Lets your business better ")])),_:1,__:[4]})]),_:1}),t(L,{class:"my-2"}),(l(!0),C(M,null,V(D.value,r=>(l(),C(M,{key:r.title},[r.children&&r.children.length>0?(l(),m(G,{key:0},{activator:e(({props:A})=>[t(f,$({ref_for:!0},A,{active:n.route().current(r.route+"*"),class:"mb-1"}),{prepend:e(()=>[t(h,null,{default:e(()=>[o(g(r.icon),1)]),_:2},1024)]),default:e(()=>[t(p,null,{default:e(()=>[o(g(r.title),1)]),_:2},1024)]),_:2},1040,["active"])]),default:e(()=>[(l(!0),C(M,null,V(r.children,A=>(l(),m(B(Q),{key:A.title,href:n.route(A.route),class:"text-decoration-none","preserve-scroll":""},{default:e(()=>[t(f,{active:n.route().current(A.route),link:"",class:"ml-4"},{prepend:e(()=>[t(h,{size:"small"},{default:e(()=>[o(g(A.icon),1)]),_:2},1024)]),default:e(()=>[t(p,null,{default:e(()=>[o(g(A.title),1)]),_:2},1024)]),_:2},1032,["active"])]),_:2},1032,["href"]))),128))]),_:2},1024)):(l(),m(B(Q),{key:1,href:n.route(r.route),class:"text-decoration-none","preserve-scroll":""},{default:e(()=>[t(f,{active:n.route().current(r.route),link:"",class:"mb-1"},{prepend:e(()=>[t(h,null,{default:e(()=>[o(g(r.icon),1)]),_:2},1024)]),default:e(()=>[t(p,null,{default:e(()=>[o(g(r.title),1)]),_:2},1024)]),_:2},1032,["active"])]),_:2},1032,["href"]))],64))),128))]),_:1})]),_:1},8,["modelValue","rail"]),t(B(Ae),{title:c.title},null,8,["title"]),t(Me),t(me,{app:"",flat:""},{default:e(()=>[t(ae,{onClick:i[1]||(i[1]=r=>y.value=!y.value)}),t(le,null,{default:e(()=>[t(B(Q),{href:n.route("dashboard"),class:"text-decoration-none text-primary"},{default:e(()=>[t(ie,{class:"mr-2",height:"32"}),o(" "+g(c.title),1)]),_:1},8,["href"])]),_:1}),t(J),t(ue,{color:"warning",variant:"outlined",size:"small",class:"mr-2"},{default:e(()=>i[5]||(i[5]=[o(" DEV MODE ")])),_:1,__:[5]}),t(P,{icon:"",onClick:x},{default:e(()=>[t(h,null,{default:e(()=>[o(g(d.value?"mdi-weather-sunny":"mdi-weather-night"),1)]),_:1})]),_:1}),t(j,{modelValue:k.value,"onUpdate:modelValue":i[2]||(i[2]=r=>k.value=r),"close-on-content-click":!1,"offset-y":""},{activator:e(({props:r})=>[t(P,$({icon:""},r,{class:"mx-2"}),{default:e(()=>[t(de,{content:b(),color:"error",value:b()},{default:e(()=>[t(h,null,{default:e(()=>i[6]||(i[6]=[o("mdi-bell")])),_:1,__:[6]})]),_:1},8,["content","value"])]),_:2},1040)]),default:e(()=>[t(pe,{"min-width":"300"},{default:e(()=>[t(ce,{class:"d-flex align-center"},{default:e(()=>[i[8]||(i[8]=o(" Notifications ")),t(J),b()?(l(),m(P,{key:0,variant:"text",size:"small",onClick:z},{default:e(()=>i[7]||(i[7]=[o(" Mark all as read ")])),_:1,__:[7]})):E("",!0)]),_:1,__:[8]}),t(L),t(U,null,{default:e(()=>[(l(!0),C(M,null,V(N.value,r=>(l(),m(f,{key:r.id,onClick:A=>F(r.id)},{append:e(()=>[r.read?E("",!0):(l(),m(h,{key:0,color:"primary",size:"small"},{default:e(()=>i[9]||(i[9]=[o("mdi-circle")])),_:1,__:[9]}))]),default:e(()=>[t(p,{class:H({"font-weight-bold":!r.read})},{default:e(()=>[o(g(r.text),1)]),_:2},1032,["class"])]),_:2},1032,["onClick"]))),128)),N.value.length?E("",!0):(l(),m(f,{key:0},{default:e(()=>[t(p,null,{default:e(()=>i[10]||(i[10]=[o("No notifications")])),_:1,__:[10]})]),_:1}))]),_:1})]),_:1})]),_:1},8,["modelValue"]),n.$page.props.jetstream.hasTeamFeatures?(l(),m(j,{key:0,"offset-y":""},{activator:e(({props:r})=>[t(P,$({variant:"text"},r),{default:e(()=>[o(g(n.$page.props.auth.user.current_team.name)+" ",1),t(h,{right:""},{default:e(()=>i[11]||(i[11]=[o("mdi-chevron-down")])),_:1,__:[11]})]),_:2},1040)]),default:e(()=>[t(U,null,{default:e(()=>[t(Y,null,{default:e(()=>i[12]||(i[12]=[o("Manage Team")])),_:1,__:[12]}),t(f,{href:n.route("teams.show",n.$page.props.auth.user.current_team),link:""},{default:e(()=>[t(p,null,{default:e(()=>i[13]||(i[13]=[o("Team Settings")])),_:1,__:[13]})]),_:1},8,["href"]),n.$page.props.jetstream.canCreateTeams?(l(),m(f,{key:0,href:n.route("teams.create"),link:""},{default:e(()=>[t(p,null,{default:e(()=>i[14]||(i[14]=[o("Create New Team")])),_:1,__:[14]})]),_:1},8,["href"])):E("",!0),n.$page.props.auth.user.all_teams.length>1?(l(),m(L,{key:1})):E("",!0),n.$page.props.auth.user.all_teams.length>1?(l(),m(Y,{key:2},{default:e(()=>i[15]||(i[15]=[o(" Switch Teams ")])),_:1,__:[15]})):E("",!0),(l(!0),C(M,null,V(n.$page.props.auth.user.all_teams,r=>(l(),m(f,{key:r.id,onClick:A=>X(r),link:""},{prepend:e(()=>[r.id==n.$page.props.auth.user.current_team_id?(l(),m(h,{key:0,color:"success"},{default:e(()=>i[16]||(i[16]=[o(" mdi-check-circle ")])),_:1,__:[16]})):E("",!0)]),default:e(()=>[t(p,null,{default:e(()=>[o(g(r.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):E("",!0),t(j,{"offset-y":""},{activator:e(({props:r})=>[t(P,$({variant:"text"},r,{class:"ml-2"}),{default:e(()=>[n.$page.props.jetstream.managesProfilePhotos?(l(),m(q,{key:0,size:"32",class:"mr-2"},{default:e(()=>[t(Z,{src:n.$page.props.auth.user.profile_photo_url,alt:n.$page.props.auth.user.name},null,8,["src","alt"])]),_:2},1024)):E("",!0),o(" "+g(n.$page.props.auth.user.name)+" ",1),t(h,{right:""},{default:e(()=>i[17]||(i[17]=[o("mdi-chevron-down")])),_:1,__:[17]})]),_:2},1040)]),default:e(()=>[t(U,null,{default:e(()=>[t(Y,null,{default:e(()=>i[18]||(i[18]=[o("Manage Account")])),_:1,__:[18]}),t(f,{href:n.route("profile.show"),link:""},{default:e(()=>[t(p,null,{default:e(()=>i[19]||(i[19]=[o("Profile")])),_:1,__:[19]})]),_:1},8,["href"]),n.$page.props.jetstream.hasApiFeatures?(l(),m(f,{key:0,href:n.route("api-tokens.index"),link:""},{default:e(()=>[t(p,null,{default:e(()=>i[20]||(i[20]=[o("API Tokens")])),_:1,__:[20]})]),_:1},8,["href"])):E("",!0),t(L),t(f,{onClick:W,link:""},{default:e(()=>[t(p,null,{default:e(()=>i[21]||(i[21]=[o("Log Out")])),_:1,__:[21]})]),_:1})]),_:1})]),_:1})]),_:1}),t(_e,null,{default:e(()=>[n.$slots.header?(l(),m(ee,{key:0,class:"py-6"},{default:e(()=>[te(n.$slots,"header")]),_:3})):E("",!0),t(ee,{fluid:""},{default:e(()=>[te(n.$slots,"default")]),_:3})]),_:3}),t(ve,{app:""},{default:e(()=>[S("div",Ue," Â© "+g(new Date().getFullYear())+" - CRM ",1)]),_:1}),t(Ie)]),_:3},8,["theme"])}}};export{Fe as _};
