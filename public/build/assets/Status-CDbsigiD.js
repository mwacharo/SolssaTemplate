import{r as f,P as V,k as B,c as $,o as i,w as M,a as t,t as d,y as A,A as p,B as g,C as F,d as u,e as v,f as b,F as I,g as N,n as z,i as m}from"./app-BorYhYvE.js";import{_ as U}from"./AppLayout-DQp31GkD.js";import{n as c}from"./toast-_Dko-JMW.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./webrtc-BmLTgSq6.js";import"./africastalking-DGB9CHYj.js";import"./IncomingCallDialog-Baq8GYSB.js";/* empty css                                                                           */const L={class:"container mx-auto px-4 py-8"},P={class:"bg-white rounded-lg shadow-md p-6 mb-8"},q={class:"text-xl font-semibold mb-4"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},G=["disabled"],T=["disabled"],j=["disabled"],O=["disabled"],R={class:"flex gap-2"},Y=["disabled"],J={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},K=["disabled"],Q={class:"bg-white rounded-lg shadow-md"},W={key:0,class:"p-8 text-center"},X={key:1,class:"p-8 text-center text-gray-500"},Z={key:2,class:"overflow-x-auto"},tt={class:"w-full"},et={class:"bg-white divide-y divide-gray-200"},st={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ot={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},at={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},rt={class:"inline-flex items-center"},lt={class:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate"},nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},it={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},dt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},ut=["onClick","disabled"],ct=["onClick","disabled"],x="/api/v1",ht={__name:"Status",setup(pt){const l=f([]),a=f(!1),n=f(null),r=V({name:"",description:"",color:"",country_id:null}),w=async()=>{a.value=!0;try{const{data:s}=await m.get(`${x}/statuses`);l.value=s}catch(s){console.error("Error fetching statuses:",s),c.error("Failed to load statuses")}finally{a.value=!1}},h=async()=>{a.value=!0;try{const{data:s}=await m.post(`${x}/statuses`,r);l.value.push(s),y(),c.success("Status created successfully!")}catch(s){console.error("Error creating status:",s),c.error("Failed to create status")}finally{a.value=!1}},_=async()=>{a.value=!0;try{const{data:s}=await m.put(`${x}/statuses/${n.value.id}`,r),e=l.value.findIndex(o=>o.id===n.value.id);e!==-1&&(l.value[e]=s),y(),c.success("Status updated successfully!")}catch(s){console.error("Error updating status:",s),c.error("Failed to update status")}finally{a.value=!1}},k=async s=>{if(confirm("Are you sure you want to delete this status?")){a.value=!0;try{await m.delete(`${x}/statuses/${s}`),l.value=l.value.filter(e=>e.id!==s),c.success("Status deleted successfully!")}catch(e){console.error("Error deleting status:",e),c.error("Failed to delete status")}finally{a.value=!1}}},C=s=>{n.value=s,r.name=s.name,r.description=s.description,r.color=s.color,r.country_id=s.country_id},S=()=>{n.value=null,y()},y=()=>{r.name="",r.description="",r.color="",r.country_id=null,n.value=null},E=()=>{n.value?_():h()};return B(()=>{w()}),(s,e)=>(i(),$(U,null,{default:M(()=>[t("div",L,[e[14]||(e[14]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-800 mb-2"},"Status Management"),t("p",{class:"text-gray-600"},"Manage your application statuses")],-1)),t("div",P,[t("h2",q,d(n.value?"Edit Status":"Add New Status"),1),t("form",{onSubmit:A(E,["prevent"]),class:"space-y-4"},[t("div",H,[t("div",null,[e[4]||(e[4]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-2"}," Name * ",-1)),p(t("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>r.name=o),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter status name",disabled:a.value},null,8,G),[[g,r.name]])]),t("div",null,[e[6]||(e[6]=t("label",{for:"color",class:"block text-sm font-medium text-gray-700 mb-2"}," Color * ",-1)),p(t("select",{id:"color","onUpdate:modelValue":e[1]||(e[1]=o=>r.color=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:a.value},e[5]||(e[5]=[t("option",{value:""},"Select a color",-1),t("option",{value:"red"},"Red",-1),t("option",{value:"blue"},"Blue",-1),t("option",{value:"green"},"Green",-1),t("option",{value:"yellow"},"Yellow",-1),t("option",{value:"purple"},"Purple",-1),t("option",{value:"pink"},"Pink",-1),t("option",{value:"gray"},"Gray",-1),t("option",{value:"indigo"},"Indigo",-1),t("option",{value:"orange"},"Orange",-1)]),8,T),[[F,r.color]])])]),t("div",null,[e[7]||(e[7]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-2"}," Description ",-1)),p(t("textarea",{id:"description","onUpdate:modelValue":e[2]||(e[2]=o=>r.description=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter status description",disabled:a.value},null,8,j),[[g,r.description]])]),t("div",null,[e[8]||(e[8]=t("label",{for:"country_id",class:"block text-sm font-medium text-gray-700 mb-2"}," Country ID * ",-1)),p(t("input",{id:"country_id","onUpdate:modelValue":e[3]||(e[3]=o=>r.country_id=o),type:"number",required:"",min:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter country ID",disabled:a.value},null,8,O),[[g,r.country_id,void 0,{number:!0}]])]),t("div",R,[t("button",{type:"submit",disabled:a.value,class:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-6 py-2 rounded-md font-medium transition-colors duration-200 flex items-center"},[a.value?(i(),u("svg",J,e[9]||(e[9]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):v("",!0),b(" "+d(n.value?"Update Status":"Create Status"),1)],8,Y),n.value?(i(),u("button",{key:0,type:"button",onClick:S,disabled:a.value,class:"bg-gray-500 hover:bg-gray-600 disabled:bg-gray-400 text-white px-6 py-2 rounded-md font-medium transition-colors duration-200"}," Cancel ",8,K)):v("",!0)])],32)]),t("div",Q,[e[13]||(e[13]=t("div",{class:"p-6 border-b border-gray-200"},[t("h2",{class:"text-xl font-semibold"},"Status List")],-1)),a.value&&l.value.length===0?(i(),u("div",W,e[10]||(e[10]=[t("div",{class:"inline-flex items-center"},[t("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),b(" Loading statuses... ")],-1)]))):!a.value&&l.value.length===0?(i(),u("div",X,e[11]||(e[11]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("p",null,"No statuses found. Create your first status above.",-1)]))):(i(),u("div",Z,[t("table",tt,[e[12]||(e[12]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ID"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Color"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Description"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Country ID"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Created"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",et,[(i(!0),u(I,null,N(l.value,o=>(i(),u("tr",{key:o.id,class:"hover:bg-gray-50"},[t("td",st,d(o.id),1),t("td",ot,d(o.name),1),t("td",at,[t("span",rt,[t("span",{class:z(["w-3 h-3 rounded-full mr-2",`bg-${o.color}-500`])},null,2),b(" "+d(o.color),1)])]),t("td",lt,d(o.description),1),t("td",nt,d(o.country_id),1),t("td",it,d(new Date(o.created_at).toLocaleDateString()),1),t("td",dt,[t("button",{onClick:D=>C(o),disabled:a.value,class:"text-blue-600 hover:text-blue-900 disabled:text-blue-300 transition-colors duration-200"}," Edit ",8,ut),t("button",{onClick:D=>k(o.id),disabled:a.value,class:"text-red-600 hover:text-red-900 disabled:text-red-300 transition-colors duration-200"}," Delete ",8,ct)])]))),128))])])]))])])]),_:1}))}};export{ht as default};
