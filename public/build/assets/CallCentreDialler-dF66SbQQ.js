import{E as yt,r as m,j as M,Q as gt,s as bt,l as d,c as Z,o as y,w as l,b as t,a as i,f as s,t as v,d as k,e as q,u as $,F as ve,g as pe,p as et,q as tt}from"./app-BvUOPlBA.js";import{u as Ct}from"./orderStore-eLJnVpJM.js";import{u as wt}from"./callCenter-o9IWuSMN.js";import{u as St}from"./whatsappStore-CazBPPRk.js";import{u as Vt}from"./webrtc-C0Ed2ATS.js";import{_ as xt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const kt=yt("callCentreDialler",()=>{const S=m(null),te=m(!1),U=m("call"),_=m({active:!1,calling:!1,muted:!1,onHold:!1,duration:0,startTime:null,recordCall:!0,autoLog:!0}),H=m([]),X=m(null),g=m({type:"whatsapp",selectedTemplate:null,sending:!1,content:"",subject:"",attachments:[]}),_e=m([{id:1,name:"Order Confirmation",description:"Confirm order details",content:"Dear {customer_name}, your order #{order_no} has been confirmed and will be delivered on {delivery_date}.",type:"all"},{id:2,name:"Delivery Update",description:"Update on delivery status",content:"Hi {customer_name}, your order #{order_no} is out for delivery and will arrive on {delivery_date}.",type:"all"},{id:3,name:"Payment Reminder",description:"Remind about pending payment",content:"Hello {customer_name}, please complete payment of KSH {total_price} for order #{order_no}. Thank you!",type:"all"},{id:4,name:"Order Cancellation",description:"Notify order cancellation",content:"Dear {customer_name}, we regret to inform you that order #{order_no} has been cancelled. Please contact us for more details.",type:"all"},{id:5,name:"Feedback Request",description:"Request customer feedback",content:"Hi {customer_name}, thank you for your order #{order_no}. We would love to hear your feedback!",type:"all"}]),O=m({updating:!1,formData:{status_id:null,status_category_id:null,status_notes:"",recall_date:null,notifyCustomer:!0,notificationMethod:"sms"}}),fe=m([{id:1,name:"Pending",color:"orange",description:"Order awaiting confirmation"},{id:2,name:"Confirmed",color:"green",description:"Order confirmed by customer"},{id:3,name:"Processing",color:"blue",description:"Order being prepared"},{id:4,name:"Shipped",color:"purple",description:"Order dispatched for delivery"},{id:5,name:"Delivered",color:"teal",description:"Order delivered to customer"},{id:6,name:"Follow Up",color:"amber",description:"Requires follow up"},{id:7,name:"Cancelled",color:"red",description:"Order cancelled"},{id:8,name:"On Hold",color:"grey",description:"Order temporarily on hold"}]),A=m([{id:1,name:"Standard",status_id:1,description:"Standard processing"},{id:2,name:"Expedited",status_id:2,description:"Fast-track processing"},{id:3,name:"Follow Up",status_id:6,description:"Requires callback",requiresRecall:!0},{id:4,name:"Customer Request",status_id:8,description:"Customer requested hold"},{id:5,name:"Payment Issue",status_id:6,description:"Payment verification needed",requiresRecall:!0}]),le=m([]),W=m({saving:!1,formData:{type:"General",content:"",pinned:!1}}),Q=m([{value:"General",text:"General Note",color:"blue-grey"},{value:"Call Summary",text:"Call Summary",color:"blue"},{value:"Customer Request",text:"Customer Request",color:"purple"},{value:"Issue",text:"Issue/Problem",color:"red"},{value:"Follow Up",text:"Follow Up Required",color:"orange"},{value:"Payment",text:"Payment Related",color:"green"}]),c=m([]),T=m([]),N=m({order:!1,statuses:!1,notes:!1}),R=M(()=>S.value?S.value.customer||S.value.customer_address||S.value.shipping_address||{}:null),ee=M(()=>O.value.formData.status_id?A.value.filter(n=>n.status_id===O.value.formData.status_id):[]),G=M(()=>{const n=A.value.find(u=>u.id===O.value.formData.status_category_id);return(n==null?void 0:n.requiresRecall)||!1}),Y=M(()=>{const n=_.value.duration,u=Math.floor(n/60),p=n%60;return`${String(u).padStart(2,"0")}:${String(p).padStart(2,"0")}`}),j=M(()=>c.value.filter(n=>n.pinned)),Ue=M(()=>c.value.filter(n=>!n.pinned)),ae=(n,u=null)=>{console.log("Opening call dialog for phone number:",n),u&&(S.value=u),te.value=!0};function V(){te.value=!1,U.value="call",$e(),_.value.active&&se()}function oe(n){U.value=n}function f(){var n;if(!((n=R.value)!=null&&n.phone)){b("No phone number available","error");return}_.value.calling=!0,setTimeout(()=>{_.value.calling=!1,_.value.active=!0,_.value.startTime=Date.now(),ne(),b("Call connected successfully","success")},2e3)}function ne(){X.value=setInterval(()=>{_.value.active&&_.value.duration++},1e3)}function h(){X.value&&(clearInterval(X.value),X.value=null)}function L(){_.value.muted=!_.value.muted,b(_.value.muted?"Microphone muted":"Microphone unmuted","info")}function ye(){_.value.onHold=!_.value.onHold,b(_.value.onHold?"Call on hold":"Call resumed","info")}function se(){var u,p,o;const n=_.value.duration;H.value.unshift({id:Date.now(),order_id:(u=S.value)==null?void 0:u.id,customer_name:(p=R.value)==null?void 0:p.full_name,phone:(o=R.value)==null?void 0:o.phone,type:"outgoing",duration:Y.value,timestamp:new Date().toISOString(),recorded:_.value.recordCall,notes:_.value.autoLog?"Auto-logged call":null}),_.value.active=!1,_.value.calling=!1,_.value.muted=!1,_.value.onHold=!1,_.value.duration=0,_.value.startTime=null,h(),b("Call ended","info"),_.value.autoLog&&Oe(n)}async function Oe(n){const u={id:Date.now(),type:"Call Summary",content:`Called customer. Duration: ${je(n)}. ${_.value.recordCall?"Call was recorded.":""}`,pinned:!1,created_at:new Date().toISOString(),user_name:"Current User",auto_generated:!0};c.value.unshift(u)}function ge(n){g.value.type=n,g.value.attachments=[]}function re(n){const u=_e.value.find(p=>p.id===n);u&&(g.value.content=ie(u.content),g.value.type==="email"&&(g.value.subject=u.name),g.value.selectedTemplate=n)}function ie(n){return!S.value||!R.value?n:n.replace(/{customer_name}/g,R.value.full_name||"Customer").replace(/{order_no}/g,S.value.order_no||"N/A").replace(/{delivery_date}/g,Se(S.value.delivery_date)||"N/A").replace(/{total_price}/g,S.value.total_price||"0.00")}function he(n){g.value.content+=n}function Ne(n){g.value.attachments.push(n)}function Pe(n){g.value.attachments.splice(n,1)}async function be(){var n;if(!g.value.content.trim())return b("Please enter a message","error"),!1;g.value.sending=!0;try{await new Promise(p=>setTimeout(p,1500));const u={id:Date.now(),order_id:(n=S.value)==null?void 0:n.id,type:g.value.type,content:g.value.content,subject:g.value.subject,sent_at:new Date().toISOString(),status:"sent"};return b(`${g.value.type.toUpperCase()} sent successfully`,"success"),K(),!0}catch{return b("Failed to send message","error"),!1}finally{g.value.sending=!1}}async function ze(){var u;const n=O.value.formData;if(!n.status_id||!n.status_notes)return b("Please fill in all required fields","error"),!1;if(G.value&&!n.recall_date)return b("Recall date is required for this status","error"),!1;O.value.updating=!0;try{await new Promise(e=>setTimeout(e,1500));const p=fe.value.find(e=>e.id===n.status_id),o={id:Date.now(),order_id:(u=S.value)==null?void 0:u.id,status_id:n.status_id,status_name:p.name,status_category_id:n.status_category_id,notes:n.status_notes,recall_date:n.recall_date,created_at:new Date().toISOString(),user:"Current User",color:p.color};return le.value.unshift(o),S.value&&(S.value.status=p.name,S.value.latest_status=o),b("Status updated successfully","success"),n.notifyCustomer&&await Me(n.notificationMethod,o),Ce(),!0}catch{return b("Failed to update status","error"),!1}finally{O.value.updating=!1}}async function Me(n,u){console.log(`Sending ${n} notification for status update:`,u)}async function ue(){var u;const n=W.value.formData;if(!n.content.trim())return b("Please enter note content","error"),!1;W.value.saving=!0;try{await new Promise(o=>setTimeout(o,1e3));const p={id:Date.now(),order_id:(u=S.value)==null?void 0:u.id,type:n.type,content:n.content,pinned:n.pinned,created_at:new Date().toISOString(),user_name:"Current User"};return c.value.unshift(p),b("Note saved successfully","success"),we(),!0}catch{return b("Failed to save note","error"),!1}finally{W.value.saving=!1}}async function Ie(n){const u=c.value.findIndex(p=>p.id===n);u!==-1&&(c.value.splice(u,1),b("Note deleted","success"))}async function x(n){const u=c.value.find(p=>p.id===n);u&&(u.pinned=!u.pinned,b(u.pinned?"Note pinned":"Note unpinned","success"))}async function Fe(n){N.value.order=!0;try{await qe(n),await Ae(n),await Re(n)}catch(u){console.error("Error loading order data:",u),b("Failed to load order data","error")}finally{N.value.order=!1}}async function qe(n){N.value.statuses=!0;try{await new Promise(u=>setTimeout(u,500)),le.value=[{id:1,status_name:"Order Placed",notes:"Customer placed order online",created_at:new Date(Date.now()-864e5).toISOString(),user:"System",color:"blue"},{id:2,status_name:"Payment Confirmed",notes:"Payment received via M-Pesa",created_at:new Date(Date.now()-828e5).toISOString(),user:"John Doe",color:"green"}]}finally{N.value.statuses=!1}}async function Ae(n){N.value.notes=!0;try{await new Promise(u=>setTimeout(u,500)),c.value=[{id:1,type:"Call Summary",content:"Customer called to confirm delivery address. Updated address in system.",pinned:!0,created_at:new Date(Date.now()-36e5).toISOString(),user_name:"Jane Smith"},{id:2,type:"General",content:"Customer prefers morning deliveries between 8-10 AM.",pinned:!1,created_at:new Date(Date.now()-18e5).toISOString(),user_name:"Jane Smith"}]}finally{N.value.notes=!1}}async function Re(n){await new Promise(u=>setTimeout(u,500)),H.value=[{id:1,type:"outgoing",duration:"5:23",timestamp:new Date(Date.now()-72e5).toISOString()},{id:2,type:"incoming",duration:"3:45",timestamp:new Date(Date.now()-864e5).toISOString()}]}function $e(){K(),Ce(),we()}function K(){g.value.content="",g.value.subject="",g.value.attachments=[],g.value.selectedTemplate=null}function Ce(){O.value.formData={status_id:null,status_category_id:null,status_notes:"",recall_date:null,notifyCustomer:!0,notificationMethod:"sms"}}function we(){W.value.formData={type:"General",content:"",pinned:!1}}function b(n,u="info"){const p={id:Date.now(),message:n,type:u,timestamp:new Date().toISOString()};T.value.push(p),setTimeout(()=>{const o=T.value.findIndex(e=>e.id===p.id);o!==-1&&T.value.splice(o,1)},5e3)}function Se(n){return n?new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""}function He(n){return n?new Date(n).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}function je(n){const u=Math.floor(n/60),p=n%60;return`${u}m ${p}s`}return{activeOrder:S,dialogOpen:te,activeTab:U,callState:_,callHistory:H,messageState:g,messageTemplates:_e,statusState:O,statusOptions:fe,statusCategories:A,statusHistory:le,notesState:W,noteTypes:Q,notes:c,notifications:T,loading:N,customer:R,filteredStatusCategories:ee,shouldShowRecallDate:G,formattedCallDuration:Y,pinnedNotes:j,unpinnedNotes:Ue,openDialog:ae,closeDialog:V,setActiveTab:oe,initiateCall:f,toggleMute:L,holdCall:ye,endCall:se,setMessageType:ge,loadTemplate:re,insertVariable:he,addAttachment:Ne,removeAttachment:Pe,sendMessage:be,updateOrderStatus:ze,saveNote:ue,deleteNote:Ie,toggleNotePin:x,loadOrderData:Fe,addNotification:b,formatDate:Se,formatDateTime:He,replaceVariables:ie}}),Dt={class:"d-flex align-center w-100"},Tt={class:"flex-grow-1"},Ut={class:"text-caption text-grey-lighten-1"},Ot={class:"pa-4"},ht={class:"info-row"},Nt={class:"font-weight-medium"},Pt={class:"info-row"},zt={key:0,class:"info-row"},Mt={class:"text-truncate"},It={key:1,class:"info-row"},Ft={class:"text-truncate"},qt={key:2,class:"info-row"},At={class:"text-truncate"},Rt={class:"mb-6"},$t={class:"text-subtitle-1 font-weight-medium mb-3 text-primary"},Ht={class:"mt-4"},jt={key:0,class:"text-center"},Gt={key:1,class:"call-controls text-center"},Lt={class:"call-status mb-4"},Et={class:"text-caption text-grey"},Jt={class:"d-flex justify-center gap-3"},Bt={class:"mb-3"},Wt={key:1,class:"mb-3"},Qt={key:0,class:"mt-2"},Yt={class:"preview-content"},Kt={class:"text-body-2"},Zt={key:0,class:"text-caption"},Xt={key:0,class:"ml-8 mb-3"},el={class:"text-subtitle-1 font-weight-medium mb-3"},tl={class:"text-body-2 font-weight-medium"},ll={class:"text-caption text-grey"},al={class:"text-caption text-grey"},ol={key:0},nl={class:"d-flex align-center mb-2"},sl={class:"text-caption text-grey"},rl={class:"text-body-2"},il={class:"text-caption text-grey mt-2"},ul={__name:"CallCentreDialler",props:{modelValue:Boolean,order:Object},emits:["update:modelValue","status-updated","note-added"],setup(S,{emit:te}){const U=S,_=Vt(),H=te,X={required:o=>!!o||"This field is required",phone:o=>o?/^[\d\s\-\+\(\)]+$/.test(o)||"Invalid phone number format":!0},g=M({get:()=>U.modelValue,set:o=>H("update:modelValue",o)}),_e=kt(),O=Ct(),fe=wt(),A=St(),le=M({get:()=>U.modelValue,set:o=>H("update:modelValue",o)}),W=o=>{H("update:modelValue",o),o||_e.closeDialog()},Q=m("call"),c=gt(U,"order"),T=M(()=>{var o,e,r;return((o=U.order)==null?void 0:o.customer)||((e=U.order)==null?void 0:e.customer_address)||((r=U.order)==null?void 0:r.shipping_address)||{}}),N=m(!1),R=m(!1),ee=m("00:00"),G=m(!1),Y=m({phone:"",recordCall:!0,autoLog:!0}),j=m("whatsapp"),Ue=m(null),ae=m(!1),V=m({subject:"",content:"",attachments:[]}),oe=m(!1),f=m({status_id:null,status_category_id:null,status_notes:"",recall_date:"",notifyCustomer:!0,notificationMethod:"sms"}),ne=m(!1),h=m({type:"General",content:"",pinned:!1}),L=m({show:!1,message:"",color:"success"}),ye=()=>!c.value.order_items||c.value.order_items.length===0?"0.00":c.value.order_items.reduce((e,r)=>e+Number(r.quantity)*Number(r.unit_price),0).toFixed(2),se=m([]),Oe=m(["General","Call Summary","Customer Request","Issue","Follow Up"]),ge=m([{id:1,type:"outgoing",duration:"5:23",timestamp:"2 hours ago"},{id:2,type:"incoming",duration:"3:45",timestamp:"Yesterday"}]),re=m([{status_name:"Order Placed",notes:"Customer placed order online",created_at:"2024-01-15T10:30:00",user:"System",color:"blue"},{status_name:"Payment Confirmed",notes:"Payment received via M-Pesa",created_at:"2024-01-15T10:35:00",user:"John Doe",color:"green"}]),ie=m([{id:1,type:"Call Summary",content:"Customer called to confirm delivery address. Updated address in system.",pinned:!0,created_at:"2024-01-15T14:20:00",user_name:"Jane Smith"},{id:2,type:"General",content:"Customer prefers morning deliveries between 8-10 AM.",pinned:!1,created_at:"2024-01-15T14:25:00",user_name:"Jane Smith"}]),he=M(()=>f.value.status_id?se.value.filter(o=>o.status_id===f.value.status_id):[]),Ne=M(()=>{const o=se.value.find(e=>e.id===f.value.status_category_id);return(o==null?void 0:o.name)==="Follow Up"}),Pe=M(()=>{var e,r,z;let o=V.value.content||"Your message will appear here...";return o=o.replace("{customer_name}",T.value.full_name||"Customer"),o=o.replace("{order_no}",((e=U.order)==null?void 0:e.order_no)||"N/A"),o=o.replace("{delivery_date}",Me((r=U.order)==null?void 0:r.delivery_date)||"N/A"),o=o.replace("{total_price}",((z=U.order)==null?void 0:z.total_price)||"0.00"),o});bt(()=>U.order,o=>{o&&(Y.value.phone=T.value.phone||"",o.order_statuses&&o.order_statuses.length>0&&(re.value=o.order_statuses.map(e=>{var r,z,P;return{status_name:((r=e.status)==null?void 0:r.name)||"Unknown",notes:e.status_notes||"No notes",created_at:e.created_at,user:((z=e.user)==null?void 0:z.name)||"System",color:be((P=e.status)==null?void 0:P.name)}})))},{immediate:!0,deep:!0});const be=o=>({Pending:"orange",Confirmed:"green",Processing:"blue",Shipped:"purple",Delivered:"teal",Cancelled:"red","Follow Up":"amber"})[o]||"grey",ze=o=>({General:"blue-grey","Call Summary":"blue","Customer Request":"purple",Issue:"red","Follow Up":"orange"})[o]||"grey",Me=o=>o?new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",ue=o=>o?new Date(o).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",Ie=async o=>{try{await navigator.clipboard.writeText(o),x("Phone number copied to clipboard","success")}catch{x("Failed to copy","error")}},x=(o,e="success")=>{L.value={show:!0,message:o,color:e}},Fe=o=>{R.value=!0,fe.callClient(o),console.log("Initiating call to:",o),setTimeout(()=>{R.value=!1,N.value=!0,qe(),x("Call connected","success")},2e3)},qe=()=>{let o=0;const e=setInterval(()=>{if(!N.value){clearInterval(e);return}o++;const r=Math.floor(o/60),z=o%60;ee.value=`${String(r).padStart(2,"0")}:${String(z).padStart(2,"0")}`},1e3)},Ae=()=>{G.value=!G.value,x(G.value?"Microphone muted":"Microphone unmuted","info")},Re=()=>{x("Call on hold","info")},$e=()=>{N.value=!1,_.afClient.hangup(),ee.value="00:00",x("Call ended","info"),ge.value.unshift({id:Date.now(),type:"outgoing",duration:ee.value,timestamp:"Just now"})},K=o=>{const e=document.querySelector("textarea");if(e){const r=e.selectionStart,z=e.selectionEnd,P=V.value.content;V.value.content=P.substring(0,r)+o+P.substring(z)}else V.value.content+=o},Ce=o=>{const e=Array.from(o.target.files);V.value.attachments.push(...e)},we=o=>{V.value.attachments.splice(o,1)},b=async()=>{if(!V.value.content.trim()){x("Please enter a message","error");return}ae.value=!0,setTimeout(()=>{ae.value=!1,x(`${j.value.toUpperCase()} sent successfully`,"success"),V.value={subject:"",content:"",attachments:[]},Ue.value=null},1500)},Se=async()=>{if(!f.value.status_id||!f.value.status_notes){x("Please fill in all required fields","error");return}oe.value=!0,setTimeout(()=>{oe.value=!1,x("Status updated successfully","success");const o=statusOptions.value.find(e=>e.id===f.value.status_id);re.value.unshift({status_name:o.name,notes:f.value.status_notes,created_at:new Date().toISOString(),user:"Current User",color:o.color}),H("status-updated",f.value),f.value={status_id:null,status_category_id:null,status_notes:"",recall_date:"",notifyCustomer:!0,notificationMethod:"sms"}},1500)},He=async()=>{if(!h.value.content.trim()){x("Please enter note content","error");return}ne.value=!0,setTimeout(()=>{ne.value=!1;const o={id:Date.now(),type:h.value.type,content:h.value.content,pinned:h.value.pinned,created_at:new Date().toISOString(),user_name:"Current User"};ie.value.unshift(o),x("Note saved successfully","success"),H("note-added",o),h.value={type:"General",content:"",pinned:!1}},1e3)},je=()=>{x("Opening order history...","info")},n=()=>{x("Opening customer orders...","info")},u=()=>{x("Order marked as complete","success"),p(),O.updateOrder(c)},p=()=>{g.value=!1,Q.value="call",N.value=!1,V.value={subject:"",content:"",attachments:[]},f.value={status_id:null,status_category_id:null,status_notes:"",recall_date:"",notifyCustomer:!0,notificationMethod:"sms"},h.value={type:"General",content:"",pinned:!1}};return(o,e)=>{const r=d("v-icon"),z=d("v-avatar"),P=d("v-chip"),C=d("v-btn"),de=d("v-card-title"),Ve=d("v-divider"),xe=d("v-autocomplete"),I=d("v-card-text"),F=d("v-card"),E=d("v-text-field"),lt=d("v-table"),me=d("v-col"),Be=d("v-row"),ke=d("v-tab"),at=d("v-tabs"),We=d("v-list-item-title"),Qe=d("v-list-item-subtitle"),Ge=d("v-list-item"),ot=d("v-list"),De=d("v-window-item"),nt=d("v-btn-toggle"),Le=d("v-textarea"),st=d("v-chip-group"),rt=d("v-alert"),Ee=d("v-select"),Ye=d("v-checkbox"),Je=d("v-radio"),it=d("v-radio-group"),ut=d("v-expand-transition"),dt=d("v-form"),mt=d("v-timeline-item"),ct=d("v-timeline"),Ke=d("v-spacer"),vt=d("v-window"),pt=d("v-card-actions"),_t=d("v-snackbar"),ft=d("v-dialog");return y(),Z(ft,{"model-value":le.value,"onUpdate:modelValue":W,"max-width":"1200px",persistent:"",scrollable:""},{default:l(()=>[t(F,{class:"call-center-dialog"},{default:l(()=>[t(de,{class:"dialog-header pa-4"},{default:l(()=>{var a,w,D;return[i("div",Dt,[t(z,{color:"primary",size:"48",class:"mr-3"},{default:l(()=>[t(r,{color:"white",size:"28"},{default:l(()=>e[30]||(e[30]=[s("mdi-headset")])),_:1,__:[30]})]),_:1}),i("div",Tt,[e[31]||(e[31]=i("div",{class:"text-h5 font-weight-bold"},"CallCenter",-1)),i("div",Ut," Order #"+v(((a=c.value)==null?void 0:a.order_no)||"N/A")+" - "+v(((w=T.value)==null?void 0:w.full_name)||"Unknown Customer"),1)]),t(P,{color:be((D=c.value)==null?void 0:D.status),variant:"flat",class:"mr-2"},{default:l(()=>{var J,B,ce;return[s(v(((ce=(B=(J=c.value)==null?void 0:J.latest_status)==null?void 0:B.status)==null?void 0:ce.name)||"Pending"),1)]}),_:1},8,["color"]),t(C,{icon:"",variant:"text",onClick:p},{default:l(()=>[t(r,null,{default:l(()=>e[32]||(e[32]=[s("mdi-close")])),_:1,__:[32]})]),_:1})])]}),_:1}),t(Ve),t(I,{class:"pa-0",style:{height:"70vh"}},{default:l(()=>[t(Be,{"no-gutters":"",style:{height:"100%"}},{default:l(()=>[t(me,{cols:"12",md:"4",class:"left-panel"},{default:l(()=>[i("div",Ot,[t(F,{variant:"outlined",class:"mb-4"},{default:l(()=>[t(de,{class:"text-subtitle-1 bg-blue-grey-lighten-5 py-2"},{default:l(()=>[t(r,{size:"small",class:"mr-2"},{default:l(()=>e[33]||(e[33]=[s("mdi-account")])),_:1,__:[33]}),e[34]||(e[34]=s(" Customer Information "))]),_:1,__:[34]}),t(I,{class:"pa-3"},{default:l(()=>{var a,w,D,J,B,ce,Ze;return[i("div",ht,[t(r,{size:"20",class:"mr-2"},{default:l(()=>e[35]||(e[35]=[s("mdi-account-circle")])),_:1,__:[35]}),i("span",Nt,v(((a=T.value)==null?void 0:a.full_name)||"N/A"),1)]),i("div",Pt,[t(r,{size:"20",class:"mr-2"},{default:l(()=>e[36]||(e[36]=[s("mdi-phone")])),_:1,__:[36]}),i("span",null,v(((w=T.value)==null?void 0:w.phone)||"N/A"),1),t(C,{icon:"",size:"x-small",variant:"text",onClick:e[0]||(e[0]=Te=>{var Xe;return Ie((Xe=T.value)==null?void 0:Xe.phone)}),class:"ml-1"},{default:l(()=>[t(r,{size:"14"},{default:l(()=>e[37]||(e[37]=[s("mdi-content-copy")])),_:1,__:[37]})]),_:1})]),(D=T.value)!=null&&D.email?(y(),k("div",zt,[t(r,{size:"20",class:"mr-2"},{default:l(()=>e[38]||(e[38]=[s("mdi-email")])),_:1,__:[38]}),i("span",Mt,v(T.value.email),1)])):q("",!0),t(xe,{modelValue:c.value.customer.city_id,"onUpdate:modelValue":e[1]||(e[1]=Te=>c.value.customer.city_id=Te),items:$(O).cityOptions,"item-title":"name","item-value":"id",label:"City","prepend-inner-icon":"mdi-city",variant:"outlined",density:"comfortable",rules:[X.required],clearable:"","hide-no-data":"",class:"mb-3"},null,8,["modelValue","items","rules"]),t(xe,{modelValue:c.value.customer.zone_id,"onUpdate:modelValue":e[2]||(e[2]=Te=>c.value.customer.zone_id=Te),items:$(O).zoneOptions,"item-title":"name","item-value":"id",label:"Zone","prepend-inner-icon":"mdi-map-marker-radius",variant:"outlined",density:"comfortable",clearable:"","hide-no-data":"",class:"mb-3"},null,8,["modelValue","items"]),(J=T.value)!=null&&J.address?(y(),k("div",It,[t(r,{size:"20",class:"mr-2"},{default:l(()=>e[39]||(e[39]=[s("mdi-map-marker")])),_:1,__:[39]}),i("span",Ft,v(T.value.address),1)])):q("",!0),(B=c.value)!=null&&B.customer_notes||(Ze=(ce=c.value)==null?void 0:ce.latest_status)!=null&&Ze.status_notes?(y(),k("div",qt,[t(r,{size:"20",class:"mr-2"},{default:l(()=>e[40]||(e[40]=[s("mdi-note-text")])),_:1,__:[40]}),i("span",At,v(c.value.customer_notes),1)])):q("",!0)]}),_:1})]),_:1}),i("div",Rt,[i("h3",$t,[t(r,{class:"mr-1",size:"small"},{default:l(()=>e[41]||(e[41]=[s("mdi-package-variant")])),_:1,__:[41]}),e[42]||(e[42]=s(" Order Items "))]),t(lt,{density:"comfortable",class:"mb-2"},{default:l(()=>[e[43]||(e[43]=i("thead",null,[i("tr",null,[i("th",{style:{width:"30%"}},"Product"),i("th",{style:{width:"15%"}},"Quantity"),i("th",{style:{width:"15%"}}," Unit Price "),i("th",{style:{width:"15%"}},"Total"),i("th",{style:{width:"10%"}})])],-1)),i("tbody",null,[(y(!0),k(ve,null,pe(c.value.order_items||[],(a,w)=>(y(),k("tr",{key:a.id||w},[i("td",null,[t(xe,{modelValue:a.product.product_name,"onUpdate:modelValue":D=>a.product.product_name=D,items:$(O).productOptions,"item-title":"product_name","item-value":"sku",placeholder:"Product name",density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue","items"])]),i("td",null,[t(E,{modelValue:a.quantity,"onUpdate:modelValue":D=>a.quantity=D,modelModifiers:{number:!0},type:"number",min:"1",density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue"])]),i("td",null,[t(E,{modelValue:a.unit_price,"onUpdate:modelValue":D=>a.unit_price=D,modelModifiers:{number:!0},type:"number",min:"0",step:"0.01",density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue"])]),i("td",null,v((a.quantity*a.unit_price).toFixed(2)),1),i("td",null,[t(C,{icon:"mdi-delete",size:"small",color:"error",variant:"text",onClick:D=>o.removeOrderItem(w)},null,8,["onClick"])])]))),128))])]),_:1,__:[43]}),t(C,{color:"primary",variant:"text","prepend-icon":"mdi-plus",onClick:o.addOrderItem,class:"mt-2"},{default:l(()=>e[44]||(e[44]=[s(" Add Item ")])),_:1,__:[44]},8,["onClick"])]),i("div",Ht,[t(Be,null,{default:l(()=>[t(me,{cols:"12",md:"4"},{default:l(()=>[t(E,{"model-value":ye(),"onUpdate:modelValue":e[3]||(e[3]=a=>c.value.total_price=a),label:"Total",variant:"outlined",density:"comfortable",readonly:""},null,8,["model-value"])]),_:1}),t(me,{cols:"12",md:"4"},{default:l(()=>[t(E,{modelValue:c.value.shipping_charges,"onUpdate:modelValue":[e[4]||(e[4]=a=>c.value.shipping_charges=a),e[5]||(e[5]=a=>o.updateTotals())],label:"Shipping Charges",type:"number",min:"0",step:"0.01",variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1}),t(me,{cols:"12",md:"4"},{default:l(()=>[t(E,{"model-value":(parseFloat(ye())+parseFloat(c.value.shipping_charges||0)).toFixed(2),label:"Grand Total",variant:"outlined",density:"comfortable",readonly:""},null,8,["model-value"])]),_:1})]),_:1})]),t(F,{variant:"outlined"},{default:l(()=>[t(de,{class:"text-subtitle-1 bg-blue-grey-lighten-5 py-2"},{default:l(()=>[t(r,{size:"small",class:"mr-2"},{default:l(()=>e[45]||(e[45]=[s("mdi-lightning-bolt")])),_:1,__:[45]}),e[46]||(e[46]=s(" Quick Actions "))]),_:1,__:[46]}),t(I,{class:"pa-2"},{default:l(()=>[t(C,{block:"",variant:"outlined",color:"primary",size:"small",class:"mb-2",onClick:je},{default:l(()=>[t(r,{size:"18",class:"mr-2"},{default:l(()=>e[47]||(e[47]=[s("mdi-history")])),_:1,__:[47]}),e[48]||(e[48]=s(" Order History "))]),_:1,__:[48]}),t(C,{block:"",variant:"outlined",color:"orange",size:"small",onClick:n},{default:l(()=>[t(r,{size:"18",class:"mr-2"},{default:l(()=>e[49]||(e[49]=[s("mdi-cart")])),_:1,__:[49]}),e[50]||(e[50]=s(" Customer Orders "))]),_:1,__:[50]})]),_:1})]),_:1})])]),_:1}),t(Ve,{vertical:""}),t(me,{cols:"12",md:"8",class:"right-panel"},{default:l(()=>[t(at,{modelValue:Q.value,"onUpdate:modelValue":e[6]||(e[6]=a=>Q.value=a),"bg-color":"blue-grey-lighten-5",height:"48"},{default:l(()=>[t(ke,{value:"call"},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[51]||(e[51]=[s("mdi-phone")])),_:1,__:[51]}),e[52]||(e[52]=s(" Call "))]),_:1,__:[52]}),t(ke,{value:"message"},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[53]||(e[53]=[s("mdi-message")])),_:1,__:[53]}),e[54]||(e[54]=s(" Message "))]),_:1,__:[54]}),t(ke,{value:"status"},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[55]||(e[55]=[s("mdi-update")])),_:1,__:[55]}),e[56]||(e[56]=s(" Update Status "))]),_:1,__:[56]}),t(ke,{value:"notes"},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[57]||(e[57]=[s("mdi-note-text")])),_:1,__:[57]}),e[58]||(e[58]=s(" Notes "))]),_:1,__:[58]})]),_:1},8,["modelValue"]),t(vt,{modelValue:Q.value,"onUpdate:modelValue":e[27]||(e[27]=a=>Q.value=a),class:"tab-content"},{default:l(()=>[t(De,{value:"call",class:"pa-4"},{default:l(()=>[t(F,{variant:"outlined",class:"mb-4"},{default:l(()=>[t(I,null,{default:l(()=>[e[65]||(e[65]=i("div",{class:"text-h6 mb-4"}," Make a Call ",-1)),t(E,{modelValue:Y.value.phone,"onUpdate:modelValue":e[7]||(e[7]=a=>Y.value.phone=a),label:"Phone Number","prepend-inner-icon":"mdi-phone",variant:"outlined",density:"comfortable",readonly:"",class:"mb-3"},null,8,["modelValue"]),N.value?(y(),k("div",Gt,[i("div",Lt,[t(z,{color:"green",size:"80",class:"pulse-animation"},{default:l(()=>[t(r,{size:"40",color:"white"},{default:l(()=>e[61]||(e[61]=[s("mdi-phone-in-talk")])),_:1,__:[61]})]),_:1}),e[62]||(e[62]=i("div",{class:"text-h6 mt-3"}," Call in Progress ",-1)),i("div",Et,v(ee.value),1)]),i("div",Jt,[t(C,{icon:"",size:"large",color:G.value?"error":"grey",variant:"outlined",onClick:Ae},{default:l(()=>[t(r,null,{default:l(()=>[s(v(G.value?"mdi-microphone-off":"mdi-microphone"),1)]),_:1})]),_:1},8,["color"]),t(C,{icon:"",size:"large",color:"grey",variant:"outlined",onClick:Re},{default:l(()=>[t(r,null,{default:l(()=>e[63]||(e[63]=[s("mdi-pause")])),_:1,__:[63]})]),_:1}),t(C,{icon:"",size:"large",color:"red",variant:"flat",onClick:$e},{default:l(()=>[t(r,null,{default:l(()=>e[64]||(e[64]=[s("mdi-phone-hangup")])),_:1,__:[64]})]),_:1})])])):(y(),k("div",jt,[t(C,{color:"green",size:"x-large",rounded:"pill",elevation:"4",onClick:e[8]||(e[8]=a=>Fe(Y.value.phone)),loading:R.value,class:"call-button"},{default:l(()=>[t(r,{size:"32",class:"mr-2"},{default:l(()=>e[59]||(e[59]=[s("mdi-phone")])),_:1,__:[59]}),e[60]||(e[60]=s(" Call Customer "))]),_:1,__:[60]},8,["loading"])]))]),_:1,__:[65]})]),_:1}),t(F,{variant:"outlined"},{default:l(()=>[t(de,{class:"text-subtitle-1"},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[66]||(e[66]=[s("mdi-history")])),_:1,__:[66]}),e[67]||(e[67]=s(" Recent Calls "))]),_:1,__:[67]}),t(I,null,{default:l(()=>[t(ot,{density:"compact"},{default:l(()=>[(y(!0),k(ve,null,pe(ge.value,a=>(y(),Z(Ge,{key:a.id,class:"mb-1"},{prepend:l(()=>[t(r,{color:a.type==="incoming"?"blue":"green"},{default:l(()=>[s(v(a.type==="incoming"?"mdi-phone-incoming":"mdi-phone-outgoing"),1)]),_:2},1032,["color"])]),append:l(()=>[t(C,{icon:"",size:"x-small",variant:"text"},{default:l(()=>[t(r,null,{default:l(()=>e[68]||(e[68]=[s("mdi-play")])),_:1,__:[68]})]),_:1})]),default:l(()=>[t(We,null,{default:l(()=>[s(v(a.duration),1)]),_:2},1024),t(Qe,null,{default:l(()=>[s(v(a.timestamp),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),t(De,{value:"message",class:"pa-4"},{default:l(()=>[t(F,{variant:"outlined"},{default:l(()=>[t(I,null,{item:l(({props:a,item:w})=>[t(Ge,et(tt(a)),{prepend:l(()=>[t(r,null,{default:l(()=>e[75]||(e[75]=[s("mdi-file-document-outline")])),_:1,__:[75]})]),default:l(()=>[t(We,null,{default:l(()=>[s(v(w.raw.name),1)]),_:2},1024),t(Qe,null,{default:l(()=>[s(v(w.raw.description),1)]),_:2},1024)]),_:2},1040)]),default:l(()=>[e[84]||(e[84]=i("div",{class:"text-h6 mb-4"}," Send Message ",-1)),t(nt,{modelValue:j.value,"onUpdate:modelValue":e[9]||(e[9]=a=>j.value=a),mandatory:"",divided:"",variant:"outlined",class:"mb-4"},{default:l(()=>[t(C,{value:"whatsapp"},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[69]||(e[69]=[s("mdi-whatsapp")])),_:1,__:[69]}),e[70]||(e[70]=s(" WhatsApp "))]),_:1,__:[70]}),t(C,{value:"sms"},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[71]||(e[71]=[s("mdi-message-text")])),_:1,__:[71]}),e[72]||(e[72]=s(" SMS "))]),_:1,__:[72]}),t(C,{value:"email"},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[73]||(e[73]=[s("mdi-email")])),_:1,__:[73]}),e[74]||(e[74]=s(" Email "))]),_:1,__:[74]})]),_:1},8,["modelValue"]),t(xe,{modelValue:$(A).selectedTemplate,"onUpdate:modelValue":[e[10]||(e[10]=a=>$(A).selectedTemplate=a),$(A).onTemplateSelect],items:$(A).allTemplates,"item-title":"name","item-value":"id",label:"Select Template","return-object":"",disabled:$(A).loading.templates,loading:$(A).loading.templates,clearable:"",class:"mt-3","hide-no-data":"",dense:""},null,8,["modelValue","items","disabled","loading","onUpdate:modelValue"]),j.value==="email"?(y(),Z(E,{key:0,modelValue:V.value.subject,"onUpdate:modelValue":e[11]||(e[11]=a=>V.value.subject=a),label:"Subject",variant:"outlined",density:"comfortable",class:"mb-3"},null,8,["modelValue"])):q("",!0),t(Le,{modelValue:V.value.content,"onUpdate:modelValue":e[12]||(e[12]=a=>V.value.content=a),label:"Message",variant:"outlined",rows:"8",counter:"",maxlength:j.value==="sms"?160:1e3,class:"mb-3"},null,8,["modelValue","maxlength"]),i("div",Bt,[e[80]||(e[80]=i("div",{class:"text-caption text-grey mb-2"}," Insert Variables: ",-1)),t(st,null,{default:l(()=>[t(P,{size:"small",onClick:e[13]||(e[13]=a=>K("{customer_name}"))},{default:l(()=>e[76]||(e[76]=[s(" Customer Name ")])),_:1,__:[76]}),t(P,{size:"small",onClick:e[14]||(e[14]=a=>K("{order_no}"))},{default:l(()=>e[77]||(e[77]=[s(" Order Number ")])),_:1,__:[77]}),t(P,{size:"small",onClick:e[15]||(e[15]=a=>K("{delivery_date}"))},{default:l(()=>e[78]||(e[78]=[s(" Delivery Date ")])),_:1,__:[78]}),t(P,{size:"small",onClick:e[16]||(e[16]=a=>K("{total_price}"))},{default:l(()=>e[79]||(e[79]=[s(" Total Price ")])),_:1,__:[79]})]),_:1})]),j.value==="email"?(y(),k("div",Wt,[t(C,{variant:"outlined",size:"small","prepend-icon":"mdi-paperclip",onClick:e[17]||(e[17]=a=>o.$refs.fileInput.click())},{default:l(()=>e[81]||(e[81]=[s(" Attach File ")])),_:1,__:[81]}),i("input",{ref:"fileInput",type:"file",style:{display:"none"},onChange:Ce},null,544),V.value.attachments.length?(y(),k("div",Qt,[(y(!0),k(ve,null,pe(V.value.attachments,(a,w)=>(y(),Z(P,{key:w,closable:"","onClick:close":D=>we(w),size:"small",class:"mr-2"},{default:l(()=>[s(v(a.name),1)]),_:2},1032,["onClick:close"]))),128))])):q("",!0)])):q("",!0),t(F,{variant:"tonal",color:"blue-grey-lighten-5",class:"mb-3"},{default:l(()=>[t(I,{class:"text-body-2"},{default:l(()=>[e[82]||(e[82]=i("div",{class:"font-weight-bold mb-2"}," Preview: ",-1)),i("div",Yt,v(Pe.value),1)]),_:1,__:[82]})]),_:1}),t(C,{block:"",color:"primary",size:"large",loading:ae.value,onClick:b},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[83]||(e[83]=[s("mdi-send")])),_:1,__:[83]}),s(" Send "+v(j.value.toUpperCase()),1)]),_:1},8,["loading"])]),_:1,__:[84]})]),_:1})]),_:1}),t(De,{value:"status",class:"pa-4"},{default:l(()=>[t(F,{variant:"outlined"},{default:l(()=>[t(I,null,{default:l(()=>[e[91]||(e[91]=i("div",{class:"text-h6 mb-4"}," Update Order Status ",-1)),t(dt,{ref_key:"statusForm",ref:f},{default:l(()=>[t(rt,{type:"info",variant:"tonal",density:"compact",class:"mb-4"},{default:l(()=>{var a,w,D,J,B;return[i("div",Kt,[e[85]||(e[85]=i("strong",null,"Current Status:",-1)),s(" "+v(((D=(w=(a=c.value)==null?void 0:a.latest_status)==null?void 0:w.status)==null?void 0:D.name)||"Pending"),1)]),(B=(J=c.value)==null?void 0:J.latest_status)!=null&&B.created_at?(y(),k("div",Zt," Updated "+v(ue(c.value.latest_status.created_at)),1)):q("",!0)]}),_:1}),t(Ee,{modelValue:f.value.status_id,"onUpdate:modelValue":e[18]||(e[18]=a=>f.value.status_id=a),items:$(O).statusOptions,"item-title":"name","item-value":"id",label:"New Status",variant:"outlined",density:"comfortable",rules:[a=>!!a||"Status is required"],class:"mb-3"},{item:l(({props:a,item:w})=>[t(Ge,et(tt(a)),{prepend:l(()=>[t(r,{color:w.raw.color},{default:l(()=>e[86]||(e[86]=[s("mdi-circle")])),_:2,__:[86]},1032,["color"])]),_:2},1040)]),_:1},8,["modelValue","items","rules"]),t(Ee,{modelValue:f.value.status_category_id,"onUpdate:modelValue":e[19]||(e[19]=a=>f.value.status_category_id=a),items:he.value,"item-title":"name","item-value":"id",label:"Status Category",variant:"outlined",density:"comfortable",disabled:!f.value.status_id,class:"mb-3"},null,8,["modelValue","items","disabled"]),Ne.value?(y(),Z(E,{key:0,modelValue:f.value.recall_date,"onUpdate:modelValue":e[20]||(e[20]=a=>f.value.recall_date=a),label:"Recall Date & Time",type:"datetime-local",variant:"outlined",density:"comfortable",rules:[a=>!!a||"Recall date is required"],class:"mb-3"},null,8,["modelValue","rules"])):q("",!0),t(Le,{modelValue:f.value.status_notes,"onUpdate:modelValue":e[21]||(e[21]=a=>f.value.status_notes=a),label:"Status Notes",variant:"outlined",rows:"4",rules:[a=>!!a||"Notes are required"],hint:"Add any relevant information about this status change",class:"mb-3"},null,8,["modelValue","rules"]),t(Ye,{modelValue:f.value.notifyCustomer,"onUpdate:modelValue":e[22]||(e[22]=a=>f.value.notifyCustomer=a),label:"Notify customer of status change",density:"compact",class:"mb-3"},null,8,["modelValue"]),t(ut,null,{default:l(()=>[f.value.notifyCustomer?(y(),k("div",Xt,[t(it,{modelValue:f.value.notificationMethod,"onUpdate:modelValue":e[23]||(e[23]=a=>f.value.notificationMethod=a),density:"compact",inline:""},{default:l(()=>[t(Je,{label:"SMS",value:"sms"}),t(Je,{label:"WhatsApp",value:"whatsapp"}),t(Je,{label:"Email",value:"email"})]),_:1},8,["modelValue"])])):q("",!0)]),_:1}),t(C,{block:"",color:"primary",size:"large",loading:oe.value,onClick:Se},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[87]||(e[87]=[s("mdi-update")])),_:1,__:[87]}),e[88]||(e[88]=s(" Update Status "))]),_:1,__:[88]},8,["loading"])]),_:1},512),t(Ve,{class:"my-4"}),i("div",el,[t(r,{class:"mr-2"},{default:l(()=>e[89]||(e[89]=[s("mdi-timeline")])),_:1,__:[89]}),e[90]||(e[90]=s(" Status History "))]),t(ct,{density:"compact",side:"end",align:"start"},{default:l(()=>[(y(!0),k(ve,null,pe(re.value,(a,w)=>(y(),Z(mt,{key:w,"dot-color":a.color,size:"small"},{default:l(()=>[i("div",tl,v(a.status_name),1),i("div",ll,v(a.notes),1),i("div",al,[s(v(ue(a.created_at))+" ",1),a.user?(y(),k("span",ol," by "+v(a.user),1)):q("",!0)])]),_:2},1032,["dot-color"]))),128))]),_:1})]),_:1,__:[91]})]),_:1})]),_:1}),t(De,{value:"notes",class:"pa-4"},{default:l(()=>[t(F,{variant:"outlined",class:"mb-4"},{default:l(()=>[t(I,null,{default:l(()=>[e[94]||(e[94]=i("div",{class:"text-h6 mb-4"},"Add Note",-1)),t(Ee,{modelValue:h.value.type,"onUpdate:modelValue":e[24]||(e[24]=a=>h.value.type=a),items:Oe.value,label:"Note Type",variant:"outlined",density:"comfortable",class:"mb-3"},null,8,["modelValue","items"]),t(Le,{modelValue:h.value.content,"onUpdate:modelValue":e[25]||(e[25]=a=>h.value.content=a),label:"Note Content",variant:"outlined",rows:"6",counter:"",maxlength:"500",class:"mb-3"},null,8,["modelValue"]),t(Ye,{modelValue:h.value.pinned,"onUpdate:modelValue":e[26]||(e[26]=a=>h.value.pinned=a),label:"Pin this note",density:"compact",class:"mb-3"},null,8,["modelValue"]),t(C,{block:"",color:"primary",loading:ne.value,onClick:He},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[92]||(e[92]=[s("mdi-content-save")])),_:1,__:[92]}),e[93]||(e[93]=s(" Save Note "))]),_:1,__:[93]},8,["loading"])]),_:1,__:[94]})]),_:1}),t(F,{variant:"outlined"},{default:l(()=>[t(de,{class:"text-subtitle-1"},{default:l(()=>[t(r,{class:"mr-2"},{default:l(()=>e[95]||(e[95]=[s("mdi-note-multiple")])),_:1,__:[95]}),e[96]||(e[96]=s(" All Notes "))]),_:1,__:[96]}),t(I,null,{default:l(()=>[(y(!0),k(ve,null,pe(ie.value,a=>(y(),k("div",{key:a.id,class:"note-item mb-3"},[t(F,{variant:"tonal"},{default:l(()=>[t(I,null,{default:l(()=>[i("div",nl,[t(P,{size:"x-small",color:ze(a.type),class:"mr-2"},{default:l(()=>[s(v(a.type),1)]),_:2},1032,["color"]),a.pinned?(y(),Z(r,{key:0,size:"small",color:"warning",class:"mr-2"},{default:l(()=>e[97]||(e[97]=[s(" mdi-pin ")])),_:1,__:[97]})):q("",!0),t(Ke),i("span",sl,v(ue(a.created_at)),1)]),i("div",rl,v(a.content),1),i("div",il," By "+v(a.user_name),1)]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(Ve),t(pt,{class:"pa-4"},{default:l(()=>[t(C,{variant:"outlined",onClick:p},{default:l(()=>e[98]||(e[98]=[s(" Close ")])),_:1,__:[98]}),t(Ke),t(C,{color:"success",variant:"flat","prepend-icon":"mdi-check-circle",onClick:u},{default:l(()=>e[99]||(e[99]=[s(" Mark Complete & Close ")])),_:1,__:[99]})]),_:1})]),_:1}),t(_t,{modelValue:L.value.show,"onUpdate:modelValue":e[29]||(e[29]=a=>L.value.show=a),color:L.value.color,timeout:3e3},{actions:l(()=>[t(C,{variant:"text",onClick:e[28]||(e[28]=a=>L.value.show=!1)},{default:l(()=>e[100]||(e[100]=[s(" Close ")])),_:1,__:[100]})]),default:l(()=>[s(v(L.value.message)+" ",1)]),_:1},8,["modelValue","color"])]),_:1},8,["model-value"])}}},dl=xt(ul,[["__scopeId","data-v-10bcea96"]]),yl=Object.freeze(Object.defineProperty({__proto__:null,default:dl},Symbol.toStringTag,{value:"Module"}));export{dl as C,yl as a,kt as u};
